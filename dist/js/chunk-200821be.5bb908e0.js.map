{"version":3,"sources":["webpack:///./src/pages/upgradeCenter/versionManager.vue?2307","webpack:///src/pages/upgradeCenter/versionManager.vue","webpack:///./src/pages/upgradeCenter/versionManager.vue?ce98","webpack:///./src/pages/upgradeCenter/versionManager.vue","webpack:///./src/pages/upgradeCenter/versionManager.vue?0751"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","attrs","versionsFirst","tableData","_l","item","key","prop","label","scopedSlots","_u","fn","scope","_v","_s","getTypeText","row","type","os_type","getPidName","getStatusText","status","getForceText","force","formatTime","on","$event","gotoHistoryList","index","size","tableCopyTableList","length","handleSizeChange","handleCurrentChange","staticRenderFns","components","version_detail","operate_log","filters","typeToString","x","forceToString","statusToString","data","firstTableShow","info","totalItem","currentPage","filterTypeOptions","listParams","method","page","limit","level","versionList","inputType","rulesDetail","suportDevice","pushHistoryList","pushDataObj","secondTitle","currentDataObj","currentDetailObj","operateLogLayer","operateLogList","addEditFlag","editDataObj","releasedFlag","mappingData","router","routerPidList","os_type_text","1","4","6","13","device_type_text","2","3","5","7","11","12","getGrayStatus","0","activeName","computed","mounted","$store","dispatch","namespace","getVersionList","methods","paging","current","tableList","forEach","tablePush","push","val","pageChange","Object","assign","JSON","parse","stringify","result","code","obj","$nextTick","setFirstVersionList","currentData","h5","device","attr","dataObj","innerAttr","routerAttr","text","getStatusTextPush","getPreReleaseText","sessionStorage","setItem","$router","product_id","router_pid","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,WAAW,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOV,EAAkB,eAAEW,WAAW,mBAAmBC,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOb,EAAIc,cAAcC,YAAY,CAACf,EAAIgB,GAAIhB,EAAIc,cAAyB,aAAE,SAASG,GAAM,OAAOb,EAAG,kBAAkB,CAACc,IAAID,EAAKE,KAAKN,MAAM,CAAC,KAAOI,EAAKE,KAAK,MAAQF,EAAKG,MAAM,MAAQ,QAAQC,YAAYrB,EAAIsB,GAAG,CAAC,CAACJ,IAAI,UAAUK,GAAG,SAASC,GAAO,MAAO,CAAgB,SAAdP,EAAKE,KAAiBf,EAAG,MAAM,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAI2B,YAAYH,EAAMI,IAAIC,KAAML,EAAMI,IAAIE,SAAS9B,EAAI+B,WAAWP,EAAMI,MAAM,OAAsB,WAAdX,EAAKE,KAAmBf,EAAG,MAAM,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIgC,cAAcR,EAAMI,IAAIK,SAAS,OAAsB,UAAdhB,EAAKE,KAAkBf,EAAG,MAAM,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIkC,aAAaV,EAAMI,IAAIO,QAAQ,OAAsB,iBAAdlB,EAAKE,KAAyBf,EAAG,MAAM,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAG1B,EAAIoC,WAAWZ,EAAMI,IAAI,kBAAkB,OAAOxB,EAAG,MAAM,CAACJ,EAAIyB,GAAG,IAAIzB,EAAI0B,GAAGF,EAAMI,IAAIX,EAAKE,OAAO,WAAW,MAAK,QAAUf,EAAG,kBAAkB,CAACS,MAAM,CAAC,MAAQ,MAAM,MAAQ,MAAMQ,YAAYrB,EAAIsB,GAAG,CAAC,CAACJ,IAAI,UAAUK,GAAG,SAASC,GAAO,MAAO,CAACpB,EAAG,YAAY,CAACS,MAAM,CAAC,KAAO,OAAO,KAAO,SAASwB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtC,EAAIuC,gBAAgBf,EAAMI,IAAI,MAAM,CAAC5B,EAAIyB,GAAG,sBAAsB,GAAGrB,EAAG,gBAAgB,CAACQ,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,eAAeb,EAAIwC,MAAM,YAAYxC,EAAIyC,KAAK,MAAQzC,EAAI0C,mBAAmBC,OAAO,OAAS,2CAA2CN,GAAG,CAAC,cAAcrC,EAAI4C,iBAAiB,iBAAiB5C,EAAI6C,wBAAwB,IAC/kDC,EAAkB,G,0xBC0FP,SACbC,WAAY,CAEV,gBAAiB,EAArB,KAEI,cAAe,EAAnB,KAGIC,eAAgB,EAApB,KAEIC,YAAa,EAAjB,KAEI,cAAe,EAAnB,KAEI,kBAAmB,EAAvB,MAEEC,QAAS,CACPC,aADJ,SACA,GACM,OAAQ,EAAJC,IAAU,EACL,MACf,QACe,MACf,QACe,MAEA,MAGXC,cAZJ,SAYA,GACM,OAAOD,EAAI,IAAM,KAEnBE,eAfJ,SAeA,GACM,OAAOF,EAAI,KAAO,OAGtBG,KAnCF,WAoCI,MAAO,CACLC,gBAAgB,EAChBC,KAAM,GACNC,UAAW,EACXC,YAAa,EACbC,kBAAmB,CACzB,CACQ,MAAR,EACQ,MAAR,OAEA,CACQ,MAAR,EACQ,MAAR,QAGMC,WAAY,CACVC,OAAQ,gBACRC,KAAM,EACNC,MAAO,GACPC,MAAO,GAETnD,cAAe,GACfoD,YAAa,GACbC,UAAW,GACXC,YAAa,GACbC,aAAc,GACdC,gBAAiB,GACjBC,YAAa,GACbC,YAAa,GACbC,eAAgB,GAChBC,iBAAkB,GAClBC,iBAAiB,EACjBC,eAAgB,GAChBC,aAAa,EACbC,YAAa,GACbC,cAAc,EACdC,YAAa,GACbC,OAAQ,GACRnD,QAAS,GACToD,cAAe,GACfC,aAAc,CACZC,EAAG,cACHC,EAAG,UACHC,EAAG,cACHC,GAAI,WAENC,iBAAkB,CAChBC,EAAG,MACHC,EAAG,MACHC,EAAG,KACHC,EAAG,iBACHC,GAAI,YACJC,GAAI,YACJP,GAAI,SAENQ,cAAe,CACbC,EAAG,IACHZ,EAAG,MACHK,EAAG,MACHC,EAAG,MAELO,WAAY,UAEZvD,mBAAoB,GACpBF,MAAO,EACPC,KAAM,MAGZ,yBACA,cACA,gBACA,qBACA,mBACA,yBACA,qBA9GA,CAgHEyD,SAAU,EAAZ,GACA,yBACI,MAAJ,OACI,KAAJ,OACI,QAAJ,UAaEC,QAjIF,WAkIIlG,KAAKmG,OAAOC,SAAS,CACnBxE,KAAMyE,EAAZ,OAEIrG,KAAKsG,eAAe,IAEtBC,QAAS,CAGP5D,iBAHJ,SAGA,GACM3C,KAAKwC,KAAOA,EACZxC,KAAKa,cAAcC,UAAYd,KAAKwG,OAAOhE,EAAMxC,KAAKuC,QAGxDK,oBARJ,SAQA,GACM5C,KAAKuC,MAAQkE,EACbzG,KAAKa,cAAcC,UAAYd,KAAKwG,OAAOxG,KAAKwC,KAAMiE,IAGxDD,OAbJ,SAaA,KACM,IAAN,sDACA,KAMM,OALAE,EAAUC,SAAQ,SAAxB,KACYnE,GAAQiE,EAAU,IAAMlE,GAASA,GAASC,EAAOiE,EAAU,GAC7DG,EAAUC,KAAK7F,MAGZ4F,GAGTzE,WAxBJ,SAwBA,GACM,OAAK2E,GACI,UAKXC,WA/BJ,WAgCM/G,KAAKsG,eAAetG,KAAK0D,cAG3B4C,eAnCJ,SAmCA,GAEMtG,KAAK4D,WAAWE,KAAOA,EACvB9D,KAAKa,cAAgBmG,OAAOC,OAAO,GAAI,GAGvCjH,KAAKyC,mBAAqByE,KAAKC,MAAMD,KAAKE,UAAUpH,KAAKa,cAAcC,YACvEd,KAAKa,cAAcC,UAAYd,KAAKwG,OAAOxG,KAAKwC,KAAMxC,KAAKuC,OAE3D,IAAN,OACM,EAAN,iDAC4B,IAAhB8E,EAAOC,OACTC,EAAIhE,gBAAiB,EACrBgE,EAAIC,WAAU,WACZ,IAAZ,WACkBD,EAAI1G,cAAcC,WAAayG,EAAI1G,cAAcC,UAAU4B,QAC/D6E,EAAIE,oBAAoBC,WAOlCD,oBA1DJ,SA0DA,GACMzH,KAAKa,cAAcC,UAAY,GAC/B,IAAN,GACQkE,OAAQ,EACR2C,GAAI,EACJC,OAAQ,GAEV,IAAK,IAAX,OACQ,GAAa,YAATC,GAA+B,gBAATA,GAAmC,QAATA,GAA2B,cAATA,GAAiC,cAATA,GAAiC,YAATA,EACpH7H,KAAKa,cAAcC,UAAU+F,KAAKiB,EAAQD,SAE1C,GAAsC,OAAlCX,KAAKE,UAAUU,EAAQD,IACzB7H,KAAKa,cAAcC,UAAU+F,KAAK,CAA9C,gBACA,CACY,IAAK,IAAjB,UACc7G,KAAKa,cAAcC,UAAU+F,KAAKiB,EAAQD,GAAME,IAGlD,GAAa,WAATF,EAEF,IAAK,IAAnB,KADc7H,KAAKiF,cAAgB,GACnC,KACgBjF,KAAKiF,cAAc4B,KAAK,CACtB1F,MAAO6G,EACPvH,MAAOuH,IAQnBhI,KAAKyC,mBAAqByE,KAAKC,MAAMD,KAAKE,UAAUpH,KAAKa,cAAcC,YACvEd,KAAKa,cAAcC,UAAYd,KAAKwG,OAAOxG,KAAKwC,KAAMxC,KAAKuC,QAE7Db,YA5FJ,SA4FA,KACM,IAAN,KAMM,OAJEuG,EADW,IAATrG,EACKC,EAEA7B,KAAKuF,iBAAiB3D,GAExBqG,GAETC,kBArGJ,SAqGA,GACM,IAAN,KACM,OAAQtG,GACN,KAAK,EACHqG,EAAO,KACP,MACF,KAAK,EACHA,EAAO,KACP,MACF,QACE,MAEJ,OAAOA,GAETlG,cAnHJ,SAmHA,GACM,IAAN,KACM,OAAQH,GACN,KAAK,EACHqG,EAAO,KACP,MACF,KAAK,EACHA,EAAO,KACP,MACF,QACE,MAEJ,OAAOA,GAEThG,aAjIJ,SAiIA,GACM,IAAN,KACM,OAAQL,GACN,KAAK,EACHqG,EAAO,QACP,MACF,KAAK,EACHA,EAAO,OACP,MACF,KAAK,EACHA,EAAO,MACP,MACF,QACE,MAEJ,OAAOA,GAETE,kBAlJJ,SAkJA,GACM,IAAN,KACM,OAAQvG,GACN,KAAK,EACHqG,EAAO,OACP,MACF,KAAK,EACHA,EAAO,OACP,MACF,QACE,MAEJ,OAAOA,GAET3F,gBAhKJ,SAgKA,KACM8F,eAAeC,QAAQ,iBAAkBnB,KAAKE,UAAUU,IACxD9H,KAAKsI,QAAQzB,KAAK,CAAxB,6CAEI/E,WApKJ,SAoKA,GACM,OAAqB,IAAjBgG,EAAQlG,MAA+B,IAAjBkG,EAAQlG,MAA+B,IAAjBkG,EAAQlG,KAClDkG,EAAQS,WACH,KAAOT,EAAQS,WAEf,GAEjB,uBACYT,EAAQU,WACH,KAAOV,EAAQU,WAEf,GAEjB,YACe,YAEA,OCtZwV,I,yBCQnWC,EAAY,eACd,EACA3I,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAA4F,E,mSCnBf,yBAAynB,EAAG","file":"js/chunk-200821be.5bb908e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\"},[_c('el-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstTableShow),expression:\"firstTableShow\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.versionsFirst.tableData}},[_vm._l((_vm.versionsFirst.tableColumn),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"prop\":item.prop,\"label\":item.label,\"width\":'auto'},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(item.prop === 'type')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getTypeText(scope.row.type, scope.row.os_type)+_vm.getPidName(scope.row))+\" \")]):(item.prop === 'status')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getStatusText(scope.row.status))+\" \")]):(item.prop === 'force')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getForceText(scope.row.force))+\" \")]):(item.prop === 'release_time')?_c('div',[_vm._v(\" \"+_vm._s(_vm.formatTime(scope.row['release_time']))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(scope.row[item.prop])+\" \")])]}}],null,true)})}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.gotoHistoryList(scope.row,1)}}},[_vm._v(\" 查看版本列表 \")])]}}])})],2),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"current-page\":_vm.index,\"page-size\":_vm.size,\"total\":_vm.tableCopyTableList.length,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-content config-page\">\r\n    <!--固定版本列表-->\r\n    <el-table\r\n      v-show=\"firstTableShow\"\r\n      :data=\"versionsFirst.tableData\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column\r\n        v-for=\"item in versionsFirst.tableColumn\"\r\n        :key=\"item.prop\"\r\n        :prop=\"item.prop\"\r\n        :label=\"item.label\"\r\n        :width=\"'auto'\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <div v-if=\"item.prop === 'type'\">\r\n            {{ getTypeText(scope.row.type, scope.row.os_type)+getPidName(scope.row) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'status'\">\r\n            {{ getStatusText(scope.row.status) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'force'\">\r\n            {{ getForceText(scope.row.force) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'release_time'\">\r\n            {{ formatTime(scope.row['release_time']) }}\r\n          </div>\r\n          <div v-else>\r\n            {{ scope.row[item.prop] }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        width=\"180\"\r\n        label=\"操作\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"gotoHistoryList(scope.row,1)\"\r\n          >\r\n            查看版本列表\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 本地分页处理 -->\r\n    <el-pagination\r\n      :current-page=\"index\"\r\n      :page-size=\"size\"\r\n      :total=\"tableCopyTableList.length\"\r\n      style=\"float: right\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"/>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n/*\r\n  设备类型：\r\n  1、android_app，2、router，3、子设备，4、ios，5、H5，6、android_pad，7、android_system，8、device_android_system，9、community_app，10、community_app_plugin\r\n\r\n  os_type:\r\n  1、android_app, 4、ios, 6、android_pad\r\n\r\n  新增force类型：\r\n  3，不弹窗升级（当前共有：0：非强制，1：强制，3：不弹窗升级）2已被占用\r\n  */\r\nimport * as namespace from '../../store/namespace'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport '../../lib/util.js'\r\n// eslint-disable-next-line camelcase\r\nimport version_first_json from '../../json/versions.json'\r\n// eslint-disable-next-line camelcase\r\nimport version_input from './component/versionInputLayer.vue'\r\n// eslint-disable-next-line camelcase\r\nimport push_update from './component/pushUpdateLayer.vue'\r\n// import version_edit from \"./component/versionEdit.vue\";\r\n// eslint-disable-next-line camelcase\r\nimport version_detail from './component/versionDetail.vue'\r\n// eslint-disable-next-line camelcase\r\nimport operate_log from './component/operateLogs.vue'\r\n// eslint-disable-next-line camelcase\r\nimport filter_form from './component/filterLayer.vue'\r\n// eslint-disable-next-line camelcase\r\nimport version_mapping from './component/versionMapping.vue'\r\nimport API from '../../service/index'\r\n\r\nexport default {\r\n  components: {\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    'version-input': version_input,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    'push-update': push_update,\r\n    // version_edit: version_edit,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    version_detail: version_detail,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    operate_log: operate_log,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    'filter-form': filter_form,\r\n    // eslint-disable-next-line vue/no-unused-components\r\n    'version-mapping': version_mapping\r\n  },\r\n  filters: {\r\n    typeToString (x) {\r\n      if (x * 1 === 1) {\r\n        return 'APP'\r\n      } else if (x * 1 === 2) {\r\n        return '路由器'\r\n      } else if (x * 1 === 3) {\r\n        return '子设备'\r\n      } else {\r\n        return '未知'\r\n      }\r\n    },\r\n    forceToString (x) {\r\n      return x ? '是' : '否'\r\n    },\r\n    statusToString (x) {\r\n      return x ? '启用' : '停用'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      firstTableShow: true,\r\n      info: {},\r\n      totalItem: 0,\r\n      currentPage: 1,\r\n      filterTypeOptions: [\r\n        {\r\n          value: 2,\r\n          label: '路由器'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '子设备'\r\n        }\r\n      ],\r\n      listParams: {\r\n        method: 'list_versions',\r\n        page: 1,\r\n        limit: 10,\r\n        level: 1\r\n      },\r\n      versionsFirst: {},\r\n      versionList: {},\r\n      inputType: '',\r\n      rulesDetail: {},\r\n      suportDevice: [],\r\n      pushHistoryList: {},\r\n      pushDataObj: {},\r\n      secondTitle: '',\r\n      currentDataObj: {},\r\n      currentDetailObj: {},\r\n      operateLogLayer: false,\r\n      operateLogList: {},\r\n      addEditFlag: true,\r\n      editDataObj: {},\r\n      releasedFlag: false, // 已发布/未发布标识 || 版本编辑，已发布版本只能编辑几个字段\r\n      mappingData: {}, // 各设备对应映射关系\r\n      router: [],\r\n      os_type: '',\r\n      routerPidList: [],\r\n      os_type_text: {\r\n        1: 'android_app',\r\n        4: 'ios_app',\r\n        6: 'android_pad',\r\n        13: 'lua_app'\r\n      },\r\n      device_type_text: {\r\n        2: '路由器',\r\n        3: '子设备',\r\n        5: 'H5',\r\n        7: 'android_system',\r\n        11: 'route_app',\r\n        12: 'video_app',\r\n        13: '旗舰版音箱'\r\n      },\r\n      getGrayStatus: {\r\n        0: '无',\r\n        1: '白名单',\r\n        2: '黑名单',\r\n        3: '全量'\r\n      },\r\n      activeName: 'devices',\r\n      // 本地分页处理\r\n      tableCopyTableList: {},\r\n      index: 1,\r\n      size: 10\r\n    }\r\n  },\r\n  ...mapActions([\r\n    'getVersions',\r\n    'selectVersion',\r\n    'importSubmitAction',\r\n    'pushUpdateAction',\r\n    'getVersionDetailAction',\r\n    'pubilcCorsAction'\r\n  ]),\r\n  computed: {\r\n    ...mapGetters({\r\n      brand: namespace.BRAND,\r\n      type: namespace.TYPE,\r\n      product: namespace.PRODUCT\r\n    })\r\n    // currentName() {\r\n    //   let name = this.getTypeText(this.currentDataObj.type, this.currentDataObj.os_type) + \" \"\r\n    //   if (this.currentDataObj.product_id) {\r\n    //     name += this.currentDataObj.product_id\r\n    //   }\r\n    //   if (this.currentDataObj.router_pid) {\r\n    //     name += this.currentDataObj.router_pid\r\n    //   }\r\n    //   return name\r\n    // }\r\n  },\r\n  mounted () {\r\n    this.$store.dispatch({\r\n      type: namespace.INITPRODUCT\r\n    })\r\n    this.getVersionList(1)\r\n  },\r\n  methods: {\r\n    // 本地分页处理\r\n    // 页数改变事件\r\n    handleSizeChange (size) {\r\n      this.size = size\r\n      this.versionsFirst.tableData = this.paging(size, this.index)\r\n    },\r\n    // 页码改变事件\r\n    handleCurrentChange (current) {\r\n      this.index = current\r\n      this.versionsFirst.tableData = this.paging(this.size, current)\r\n    },\r\n    // 本地分页的方法\r\n    paging (size, current) {\r\n      const tableList = JSON.parse(JSON.stringify(this.tableCopyTableList))\r\n      const tablePush = []\r\n      tableList.forEach((item, index) => {\r\n        if (size * (current - 1) <= index && index <= size * current - 1) {\r\n          tablePush.push(item)\r\n        }\r\n      })\r\n      return tablePush\r\n    },\r\n\r\n    formatTime (val) {\r\n      if (!val) {\r\n        return '------'\r\n      } else {\r\n        return val\r\n      }\r\n    },\r\n    pageChange () {\r\n      this.getVersionList(this.currentPage)\r\n    },\r\n    // 获取所有版本列表\r\n    getVersionList (page) {\r\n      // this.filterParams.token = this.token\r\n      this.listParams.page = page\r\n      this.versionsFirst = Object.assign({}, version_first_json)\r\n\r\n      // 本地分页处理\r\n      this.tableCopyTableList = JSON.parse(JSON.stringify(this.versionsFirst.tableData))\r\n      this.versionsFirst.tableData = this.paging(this.size, this.index)\r\n\r\n      const obj = this\r\n      API.getVersions(obj.listParams).then(result => {\r\n        if (result.code === 0) {\r\n          obj.firstTableShow = true\r\n          obj.$nextTick(() => {\r\n            let currentData = result.result\r\n            if (!(obj.versionsFirst.tableData && obj.versionsFirst.tableData.length)) {\r\n              obj.setFirstVersionList(currentData)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 渲染首列数据\r\n    setFirstVersionList (dataObj) {\r\n      this.versionsFirst.tableData = []\r\n      let deviceType = {\r\n        router: 2,\r\n        h5: 5,\r\n        device: 3\r\n      }\r\n      for (let attr in dataObj) {\r\n        if (attr === 'android' || attr === 'android_pad' || attr === 'ios' || attr === 'video_app' || attr === 'route_app' || attr === 'lua_app') {\r\n          this.versionsFirst.tableData.push(dataObj[attr])\r\n        } else {\r\n          if (JSON.stringify(dataObj[attr]) === '{}') {\r\n            this.versionsFirst.tableData.push({ type: deviceType[attr] })\r\n          } else {\r\n            for (let innerAttr in dataObj[attr]) {\r\n              this.versionsFirst.tableData.push(dataObj[attr][innerAttr])\r\n            }\r\n            // 路由pid列表\r\n            if (attr === 'router') {\r\n              this.routerPidList = []\r\n              for (let routerAttr in dataObj[attr]) {\r\n                this.routerPidList.push({\r\n                  label: routerAttr,\r\n                  value: routerAttr\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // 本地分页处理\r\n      this.tableCopyTableList = JSON.parse(JSON.stringify(this.versionsFirst.tableData))\r\n      this.versionsFirst.tableData = this.paging(this.size, this.index)\r\n    },\r\n    getTypeText (type, os_type) {\r\n      let text = ''\r\n      if (type === 1) {\r\n        text = os_type\r\n      } else {\r\n        text = this.device_type_text[type]\r\n      }\r\n      return text\r\n    },\r\n    getStatusTextPush (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '成功'\r\n          break\r\n        case 0:\r\n          text = '失败'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getStatusText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '有效'\r\n          break\r\n        case 0:\r\n          text = '无效'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getForceText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 3:\r\n          text = '不弹窗升级'\r\n          break\r\n        case 1:\r\n          text = '强制升级'\r\n          break\r\n        case 0:\r\n          text = '不强制'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getPreReleaseText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '灰度版本'\r\n          break\r\n        case 0:\r\n          text = '正式版本'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    gotoHistoryList (dataObj, page) {\r\n      sessionStorage.setItem('CurrentAppInfo', JSON.stringify(dataObj))\r\n      this.$router.push({ path: `/main/versionManager/${dataObj.id}` })\r\n    },\r\n    getPidName (dataObj) {\r\n      if (dataObj.type === 3 || dataObj.type === 8 || dataObj.type === 5) {\r\n        if (dataObj.product_id) {\r\n          return '--' + dataObj.product_id\r\n        } else {\r\n          return ''\r\n        }\r\n      } else if (dataObj.type === 2 || dataObj.type === 7) {\r\n        if (dataObj.router_pid) {\r\n          return '--' + dataObj.router_pid\r\n        } else {\r\n          return ''\r\n        }\r\n      } else if (dataObj.type === 13) {\r\n        return '--lua_app'\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n  .cp-filterFormBox {\r\n    padding: 20px;\r\n\r\n    label {\r\n      line-height: 36px;\r\n    }\r\n\r\n    .cpf-line {\r\n      margin-bottom: 20px;\r\n    }\r\n  }\r\n\r\n  .config-page {\r\n    .el-tabs__active-bar {\r\n      height: 2px;\r\n    }\r\n\r\n    .h3_pp {\r\n      height: 30px;\r\n      line-height: 30px;\r\n      margin: 30px 0 15px;\r\n    }\r\n\r\n    .cpsr-line {\r\n      margin-bottom: 80px;\r\n    }\r\n\r\n    .infoBox {\r\n      font-size: 1rem;\r\n\r\n      > div {\r\n        margin-bottom: 18px;\r\n      }\r\n    }\r\n\r\n    .p-r {\r\n      position: relative;\r\n    }\r\n\r\n    .btn-back {\r\n      position: absolute;\r\n      right: 10px;\r\n      z-index: 999;\r\n      top: 10px;\r\n    }\r\n\r\n    .support-routers {\r\n      border: 1px solid #d8d8d8;\r\n\r\n      li {\r\n        line-height: 35px;\r\n        padding-left: 30px;\r\n        height: 35px;\r\n        list-style: none;\r\n        border-bottom: 1px solid #d8d8d8;\r\n      }\r\n\r\n      li:last-of-type {\r\n        border-bottom: 0;\r\n      }\r\n    }\r\n\r\n    .el-tabs__nav-wrap::after {\r\n      height: 1px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./versionManager.vue?vue&type=template&id=3584e3b4&\"\nimport script from \"./versionManager.vue?vue&type=script&lang=js&\"\nexport * from \"./versionManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./versionManager.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManager.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManager.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}