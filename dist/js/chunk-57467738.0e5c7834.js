(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-57467738"],{"5aa7":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),a=n("1e04"),i=n("46f1");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u="/api.php";e.a={agreementSave:function(t){return a.a.post(i.m.agreementSave,t).then((function(t){return t.data}))},agreementdel:function(t){return a.a.post(i.m.agreementdel,t).then((function(t){return t.data}))},pubilcCorsAction:function(t){return a.a.post(u,t).then((function(t){return t.data}))},getVersions:function(t){return t.method="list_versions",a.a.post(u,t).then((function(t){return t.data}))},getVersionsForSC:function(t){return t.method="list_versions_community",a.a.post(u,t).then((function(t){return t.data}))},selectVersion:function(t){return a.a.post(i.m.selectVersion,t).then((function(t){return t.data}))},pushUpdateAction:function(t){return a.a.post(i.m.pushUpdateAction,t).then((function(t){return t.data}))},getPushHistoryList:function(t){return a.a.post(i.m.getPushHistoryList,t).then((function(t){return t.data}))},getChoseList:function(t){return a.a.post(u,t).then((function(t){return t.data}))},getAgreementList:function(t){return a.a.post(i.m.agreementList,t).then((function(t){return t.data}))},getAppList:function(t){return a.a.post(u,s({method:"list_applications"},t))},getAppInfo:function(t){return a.a.post(u,s({method:"info_applications"},t))},delApp:function(t){return a.a.post(u,s({method:"del_applications"},t))},saveApp:function(t){return a.a.post(u,s({method:"save_applications"},t))},getAppVerList:function(t){return a.a.post(u,s({method:"list_versions_commom"},t))},getAppVerInfo:function(t){return a.a.post(u,s({method:"info_versions_commom"},t))},delAppVer:function(t){return a.a.post(u,s({method:"del_version_commom"},t))},saveAppVer:function(t){return a.a.post(u,s({method:"save_app_version_commom"},t))},setAppVerStatus:function(t){return a.a.post(u,s({method:"set_status_commom"},t))},setAppVerUuids:function(t){return a.a.post(u,s({method:"set_uuids_commom"},t))},getAppVerUuids:function(t){return a.a.post(u,s({method:"get_uuids_commom"},t))}}},"5f8e":function(t,e,n){"use strict";n.r(e),n("ac1f"),n("5319"),n("f1ed");var r=n("8e44"),a={components:{},data:function(){return{familyDeviceForm:{family_id:"",device_uuid:"",device_name:"",beg_mtime:"",end_mtime:"",device_category:"",device_category_option:[{value:"1",label:"空调"},{value:"22",label:"路由器"},{value:"8",label:"开关"},{value:"2",label:"窗帘"},{value:"3",label:"电视"},{value:"18",label:"空气净化器"},{value:"133",label:"扫地机器人"},{value:"138",label:"人体移动传感器"},{value:"139",label:"门窗开关传感器"},{value:"5",label:"灯"}]},infoModel:!1,totalItem:0,currentPage:1,page_size:10,listParams:{},detailParams:{},familyDeviceList:{tableColumn:[{prop:"family_id",label:"家庭id"},{prop:"device_name",label:"设备名称"},{prop:"device_uuid",label:"设备唯一uuid"},{prop:"bussiness_name",label:"渠道厂商名称"},{prop:"device_state",label:"设备状态"},{prop:"update_time",label:"更新时间"}],detailKey2Chinese:{did:"家庭设备id",family_id:"家庭id",room_id:"家庭里房间id",device_name:"设备名称",category_id:"设备类别",category_sub_id:"设备子类别",device_uuid:"设备唯一uuid",access_type:"设备接入类型",bussiness_name:"渠道厂商名称",parent_uuid:"父中控uuid",device_state:"设备状态",create_time:"绑定时间",update_time:"更新时间"},alertKey2Chinese:{family_id:"家庭ID",device_uuid:"设备唯一uuid",alert_code:"设备错误码",alert_level:"告警级别",alert_status:"告警状态",create_time:"创建时间",alert_title:"推送标题",alert_text:"推送内容"},tableData:[],currentDetail:{},currentParams:null,currentDetailAlert:{}},activeNames:["1","2","3"]}},computed:{},watch:{},mounted:function(){this.getFamilyDeviceList(1)},methods:{getFamilyDeviceList:function(t){var e=this;this.listParams.family_id=this.familyDeviceForm.family_id,this.listParams.device_uuid=this.familyDeviceForm.device_uuid,this.listParams.device_name=this.familyDeviceForm.device_name,this.listParams.beg_mtime=this.familyDeviceForm.beg_mtime?Date.parse(this.familyDeviceForm.beg_mtime)/1e3:"",this.listParams.end_mtime=this.familyDeviceForm.end_mtime?Date.parse(this.familyDeviceForm.end_mtime)/1e3:"",this.listParams.page=t,this.listParams.device_category=this.familyDeviceForm.device_category,r.a.getFamilyDeviceList(this.listParams).then((function(t){if(t&&t.data&&t.data.length){e.familyDeviceList.tableData=t.data,e.totalItem=t.page_info.total||0;for(var n=0;n<e.familyDeviceList.tableData.length;n++){var r=e.familyDeviceList.tableData[n].online;e.familyDeviceList.tableData[n].create_time=e.getDate(e.familyDeviceList.tableData[n].create_time),e.familyDeviceList.tableData[n].update_time=e.getDate(e.familyDeviceList.tableData[n].update_time),e.familyDeviceList.tableData[n].device_state=0===r?"离线":"在线"}}else e.familyDeviceList.tableData=[]}))},getDeviceDetail:function(t){var e=this;r.a.getDeviceDetail(t).then((function(t){0===t.code&&(e.familyDeviceList.currentDetailAlert=t.data.alert)})),this.infoModel=!0},pageChange:function(){this.getFamilyDeviceList(this.currentPage)},openLayer:function(t){this.familyDeviceList.currentParams=t.params&&"{}"!==t.params?JSON.parse(t.params):null,this.familyDeviceList.currentDetail=t,this.detailParams.family_id=t.family_id,this.detailParams.device_uuid=t.device_uuid,this.getDeviceDetail(this.detailParams)},getDate:function(){var t=new Date(1472048779952);return t.toLocaleDateString().replace(/\//g,"-")+" "+t.toTimeString().substr(0,8)},reset:function(){for(var t in this.familyDeviceForm)"device_category_option"!==t&&(this.familyDeviceForm[t]="")}}},i=(n("8558"),n("2877")),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content deviceList-page"},[n("div",{staticStyle:{"padding-bottom":"30px"}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-input",{attrs:{placeholder:"请输入家庭id"},model:{value:t.familyDeviceForm.family_id,callback:function(e){t.$set(t.familyDeviceForm,"family_id",e)},expression:"familyDeviceForm.family_id"}})],1),n("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-input",{attrs:{placeholder:"设备uuid"},model:{value:t.familyDeviceForm.device_uuid,callback:function(e){t.$set(t.familyDeviceForm,"device_uuid",e)},expression:"familyDeviceForm.device_uuid"}})],1),n("el-col",{staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-input",{attrs:{placeholder:"请输入设备名"},model:{value:t.familyDeviceForm.device_name,callback:function(e){t.$set(t.familyDeviceForm,"device_name",e)},expression:"familyDeviceForm.device_name"}})],1),n("el-col",{staticClass:"time-box-col",staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择起始更新时间"},model:{value:t.familyDeviceForm.beg_mtime,callback:function(e){t.$set(t.familyDeviceForm,"beg_mtime",e)},expression:"familyDeviceForm.beg_mtime"}})],1),n("el-col",{staticClass:"time-box-col",staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择结束更新时间"},model:{value:t.familyDeviceForm.end_mtime,callback:function(e){t.$set(t.familyDeviceForm,"end_mtime",e)},expression:"familyDeviceForm.end_mtime"}})],1),n("el-col",{staticClass:"time-box-col",staticStyle:{"padding-right":"0"},attrs:{span:3}},[n("el-select",{attrs:{placeholder:"请选择设备类型"},model:{value:t.familyDeviceForm.device_category,callback:function(e){t.$set(t.familyDeviceForm,"device_category",e)},expression:"familyDeviceForm.device_category"}},t._l(t.familyDeviceForm.device_category_option,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-col",{attrs:{span:1}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getFamilyDeviceList(1)}}},[t._v(" 查询 ")])],1),n("el-col",{attrs:{span:1}},[n("el-button",{on:{click:function(e){return t.reset()}}},[t._v(" 重置 ")])],1)],1)],1),n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.familyDeviceList.tableData}},[t._l(t.familyDeviceList.tableColumn,(function(e){return n("el-table-column",{attrs:{prop:e.prop,label:e.label,width:"auto"},scopedSlots:t._u([{key:"default",fn:function(r){return[n("div",{attrs:{title:r.row[e.prop]}},[t._v(" "+t._s(r.row[e.prop])+" ")])]}}],null,!0)})})),n("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.openLayer(e.row)}}},[t._v(" 查看详情 ")])]}}])})],2),n("div",{staticClass:"page-line"},[n("el-pagination",{attrs:{total:t.totalItem,"page-size":t.page_size,"current-page":t.currentPage,small:"",layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.pageChange}})],1)],1),n("el-dialog",{staticClass:"deviceDettailPage",attrs:{visible:t.infoModel,"lock-scroll":!1,title:"设备详情",width:"60%"},on:{"update:visible":function(e){t.infoModel=e}}},[n("el-collapse",{staticClass:"el-detail",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[n("el-collapse-item",{staticClass:"el-collapse-item-height",attrs:{title:"列表数据详情",name:"1"}},[n("el-form",[n("el-row",t._l(t.familyDeviceList.currentDetail,(function(e,r){return n("el-col",{key:r,attrs:{span:12}},["params"!=r&&"online"!=r?n("el-form-item",{attrs:{label:t.familyDeviceList.detailKey2Chinese[r]}},[n("span",[t._v(t._s(e))])]):t._e()],1)})),1)],1)],1),n("el-collapse-item",{staticClass:"el-collapse-item-height",attrs:{title:"params详情",name:"2"}},[n("el-form",[t.familyDeviceList.currentParams?n("el-row",t._l(t.familyDeviceList.currentParams,(function(e,r){return n("el-col",{key:r,attrs:{span:12}},[n("el-form-item",{attrs:{label:r}},[n("span",[t._v(t._s(e))])])],1)})),1):n("el-row",[n("el-col",[t._v("暂无params数据")])],1)],1)],1),n("el-collapse-item",{staticClass:"el-collapse-item-height",attrs:{title:"告警信息",name:"3"}},[n("el-form",[t.familyDeviceList.currentDetailAlert?n("el-row",t._l(t.familyDeviceList.currentDetailAlert,(function(e,r){return n("el-col",{key:r,attrs:{span:12}},[n("el-form-item",{attrs:{label:t.familyDeviceList.alertKey2Chinese[r]}},[n("span",[t._v(t._s(e))])])],1)})),1):n("el-row",[t._v(" 暂时无告警信息 ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=o.exports},8558:function(t,e,n){"use strict";var r=n("bb46");n.n(r).a},"8e44":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),a=n("1e04"),i=n("46f1"),o={searchUserList:function(t){return a.a.post(i.i.searchUserList,t)},userList:function(t){return a.a.post(i.i.userList,t)},getUser:function(t){return a.a.post(i.i.getUser,t)},addUser:function(t){return a.a.post(i.i.addUser,t)},editUser:function(t){return a.a.post(i.i.editUser,t)},deleteUser:function(t){return a.a.post(i.i.deleteUser,{user_ids:t})},updatePwd:function(t){return a.a.post(i.i.updatePwd,t)},resetPwd:function(t){return a.a.post(i.i.resetPwd,t)},roleList:function(t){return a.a.post(i.i.roleList,t)},getRole:function(t){return a.a.post(i.i.getRole,{role_id:t})},addRole:function(t){return a.a.post(i.i.addRole,t)},editRole:function(t){return a.a.post(i.i.editRole,t)},deleteRole:function(t){return a.a.post(i.i.deleteRole,{role_id:t})},menuList:function(){return a.a.post(i.i.menuList)}},s=n("9a1b");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c={getOnlineUser:function(t){return a.a.post("".concat(i.c,"analyzer/online_user"),t)},getRegisterUser:function(t){return a.a.post("".concat(i.c,"analyzer/register_user"),t)},getActiveUser:function(t){return a.a.post("".concat(i.c,"analyzer/active_user"),t)},getActivePercent:function(t){return a.a.post("".concat(i.c,"analyzer/active_percent"),t)},getLoginUser:function(t){return a.a.post("".concat(i.c,"analyzer/login_user"),t)}};Object.assign(c,{getUserAnalyzeData:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{province:"",city:""});return a.a.all([c.getOnlineUser(t),c.getRegisterUser(e),c.getActiveUser(t),c.getLoginUser(t)])}});var l=c,d={getMUserList:function(t){return a.a.post("".concat(i.c,"iotuser/muserlist"),t)},addMUser:function(t){return a.a.post("".concat(i.c,"iotuser/savemuser"),t)},deleteMUser:function(t){return a.a.post("".concat(i.c,"iotuser/delmuser"),{user_ids:t})}},f={CmDataList:function(t){return a.a.post(i.d.CmDataList,t).then((function(t){return t.data}))},CmDataAdd:function(t){return a.a.post(i.d.CmDataAdd,t).then((function(t){return t.data}))},CmDataEdit:function(t){return a.a.post(i.d.CmDataEdit,t).then((function(t){return t.data}))},CmDataDel:function(t){return a.a.post(i.d.CmDataDel,t).then((function(t){return t.data}))},ModuleList:function(t){return a.a.post(i.d.ModuleList,t).then((function(t){return t.data}))},input:function(t){return a.a.post(i.d.input,t).then((function(t){return t.data}))}},p={imgList:function(t){return a.a.post(i.g.imgList,t).then((function(t){return t.data}))},addImgs:function(t){return a.a.post(i.g.addImgs,t).then((function(t){return t.data}))},deleteImgs:function(t){return a.a.post(i.g.deleteImgs,t).then((function(t){return t.data}))},editImgs:function(t){return a.a.post(i.g.editImgs,t).then((function(t){return t.data}))},sortImgs:function(t){return a.a.post(i.g.sortImgs,t).then((function(t){return t.data}))}},m={searchUserList:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:0,o=2<arguments.length&&void 0!==n?n:10;return a.a.post(i.h.userList,{phone_num:t,begin:r,size:o})},searchUserMsg:function(t){return a.a.post(i.h.searchUserMsg,t).then((function(t){return t.data.result}))},searchLogOut:function(t){return a.a.post(i.h.searchLogOut,t).then((function(t){return t.data.result}))},operaList:function(t){return a.a.post(i.h.operaList,t).then((function(t){return t.data.result}))},rootLogs:function(t){return a.a.post(i.h.rootLogs,t).then((function(t){return t.data.result}))},errLogs:function(t){return a.a.post(i.h.errLogs,t).then((function(t){return t.data.result}))},deviceLogs:function(t){return a.a.post(i.h.deviceLogs,t).then((function(t){return t.data.result}))},throughDatas:function(t){return a.a.post(i.l.throughDatas,t).then((function(t){return t.data.result}))},deviceTotals:function(t){return a.a.post(i.l.deviceTotal,t).then((function(t){return t.data.result}))},onlineLogs:function(t){return a.a.post(i.l.onlineLog,t).then((function(t){return t.data.result}))},logRegDatas:function(t){return a.a.post(i.l.logRegData,t).then((function(t){return t.data.result}))},qpsDatas:function(t){return a.a.post(i.l.qpsData,t).then((function(t){return t.data.result}))},getwarnDatas:function(t){return a.a.post(i.l.warnData,t).then((function(t){return t.data.result}))},getwarnDataList:function(t){return a.a.post(i.l.warnDataSearch,t).then((function(t){return t.data.result}))},routerList:function(t){return a.a.post(i.h.routerList,t).then((function(t){return t.data.result}))},cancelBindRouterList:function(t){return a.a.post(i.h.bindedlists,t).then((function(t){return t.data.result}))},cancelBind:function(t){return a.a.post(i.h.routerUnbind,t).then((function(t){return t.data.result}))},addRouter:function(t){return a.a.post(i.h.addRouter,t).then((function(t){return t.data.result}))},editRouter:function(t){return a.a.post(i.h.editRouter,t).then((function(t){return t.data}))},deleteRouter:function(t){return a.a.post(i.h.deleteRouter,t).then((function(t){return t.data}))},importRouter:function(t){return a.a.post(i.h.importRouter,t).then((function(t){return t.data.result}))},getFamilyList:function(t){return a.a.post(i.h.familyList,t).then((function(t){return t.data}))},getFamilyDeviceList:function(t){return a.a.post(i.h.familyDeviceList,t).then((function(t){return t.data}))},getDeviceDetail:function(t){return a.a.post(i.h.deviceDetail,t).then((function(t){return t.data}))},directdeviceList:function(t){return a.a.post(i.h.directdeviceList,t).then((function(t){return t.data.result}))},addDirectdevice:function(t){return a.a.post(i.h.addDirectdevice,t).then((function(t){return t.data.result}))},editDirectdevice:function(t){return a.a.post(i.h.editDirectdevice,t).then((function(t){return t.data}))},deleteDirectdevice:function(t){return a.a.post(i.h.deleteDirectdevice,t).then((function(t){return t.data}))},importDirectdevice:function(t){return a.a.post(i.h.importDirectdevice,t).then((function(t){return t.data.result}))}},g={strategyList:function(t){return a.a.post(i.k.strategyList,t).then((function(t){return t.data}))},StrategyAdd:function(t){return a.a.post(i.k.StrategyAdd,t).then((function(t){return t.data}))},StrategyEdit:function(t){return a.a.post(i.k.StrategyEdit,t).then((function(t){return t.data}))},StrategyDel:function(t){return a.a.post(i.k.StrategyDel,t).then((function(t){return t.data}))},StrategyUuidList:function(t){return a.a.post(i.k.StrategyUuidList,t).then((function(t){return t.data}))},StrategyUuidAdd:function(t){return a.a.post(i.k.StrategyUuidAdd,t).then((function(t){return t.data}))},StrategyUuidEdit:function(t){return a.a.post(i.k.StrategyUuidEdit,t).then((function(t){return t.data}))},StrategyUuidDel:function(t){return a.a.post(i.k.StrategyUuidDel,t).then((function(t){return t.data}))},StrategyConfiglists:function(t){return a.a.post(i.k.StrategyConfiglists,t).then((function(t){return t.data}))},StrategyConfigAdd:function(t){return a.a.post(i.k.StrategyConfigAdd,t).then((function(t){return t.data}))},StrategyConfigEdit:function(t){return a.a.post(i.k.StrategyConfigEdit,t).then((function(t){return t.data}))},StrategyConfigDel:function(t){return a.a.post(i.k.StrategyConfigDel,t).then((function(t){return t.data}))}},v=n("5aa7");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{},s.a,{},l,{},d,{},f,{},p,{},m,{},g,{},v.a)},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(t){return i(a(t))}})},bb46:function(t,e,n){},dbb4:function(t,e,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),a=s.f,c=i(r),l={},d=0;c.length>d;)void 0!==(n=a(r,e=c[d++]))&&u(l,e,n);return l}})},e439:function(t,e,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,s=n("83ab"),u=a((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})}}]);