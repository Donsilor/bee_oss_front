(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9106f9dc"],{"11d4":function(t,e,n){},"5aa7":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),o=n("1e04"),i=n("46f1");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s="/api.php";e.a={agreementSave:function(t){return o.a.post(i.m.agreementSave,t).then((function(t){return t.data}))},agreementdel:function(t){return o.a.post(i.m.agreementdel,t).then((function(t){return t.data}))},pubilcCorsAction:function(t){return o.a.post(s,t).then((function(t){return t.data}))},getVersions:function(t){return t.method="list_versions",o.a.post(s,t).then((function(t){return t.data}))},getVersionsForSC:function(t){return t.method="list_versions_community",o.a.post(s,t).then((function(t){return t.data}))},selectVersion:function(t){return o.a.post(i.m.selectVersion,t).then((function(t){return t.data}))},pushUpdateAction:function(t){return o.a.post(i.m.pushUpdateAction,t).then((function(t){return t.data}))},getPushHistoryList:function(t){return o.a.post(i.m.getPushHistoryList,t).then((function(t){return t.data}))},getChoseList:function(t){return o.a.post(s,t).then((function(t){return t.data}))},getAgreementList:function(t){return o.a.post(i.m.agreementList,t).then((function(t){return t.data}))},getAppList:function(t){return o.a.post(s,u({method:"list_applications"},t))},getAppInfo:function(t){return o.a.post(s,u({method:"info_applications"},t))},delApp:function(t){return o.a.post(s,u({method:"del_applications"},t))},saveApp:function(t){return o.a.post(s,u({method:"save_applications"},t))},getAppVerList:function(t){return o.a.post(s,u({method:"list_versions_commom"},t))},getAppVerInfo:function(t){return o.a.post(s,u({method:"info_versions_commom"},t))},delAppVer:function(t){return o.a.post(s,u({method:"del_version_commom"},t))},saveAppVer:function(t){return o.a.post(s,u({method:"save_app_version_commom"},t))},setAppVerStatus:function(t){return o.a.post(s,u({method:"set_status_commom"},t))},setAppVerUuids:function(t){return o.a.post(s,u({method:"set_uuids_commom"},t))},getAppVerUuids:function(t){return o.a.post(s,u({method:"get_uuids_commom"},t))}}},"8e44":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),o=n("1e04"),i=n("46f1"),a={searchUserList:function(t){return o.a.post(i.i.searchUserList,t)},userList:function(t){return o.a.post(i.i.userList,t)},getUser:function(t){return o.a.post(i.i.getUser,t)},addUser:function(t){return o.a.post(i.i.addUser,t)},editUser:function(t){return o.a.post(i.i.editUser,t)},deleteUser:function(t){return o.a.post(i.i.deleteUser,{user_ids:t})},updatePwd:function(t){return o.a.post(i.i.updatePwd,t)},resetPwd:function(t){return o.a.post(i.i.resetPwd,t)},roleList:function(t){return o.a.post(i.i.roleList,t)},getRole:function(t){return o.a.post(i.i.getRole,{role_id:t})},addRole:function(t){return o.a.post(i.i.addRole,t)},editRole:function(t){return o.a.post(i.i.editRole,t)},deleteRole:function(t){return o.a.post(i.i.deleteRole,{role_id:t})},menuList:function(){return o.a.post(i.i.menuList)}},u=n("9a1b");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c={getOnlineUser:function(t){return o.a.post("".concat(i.c,"analyzer/online_user"),t)},getRegisterUser:function(t){return o.a.post("".concat(i.c,"analyzer/register_user"),t)},getActiveUser:function(t){return o.a.post("".concat(i.c,"analyzer/active_user"),t)},getActivePercent:function(t){return o.a.post("".concat(i.c,"analyzer/active_percent"),t)},getLoginUser:function(t){return o.a.post("".concat(i.c,"analyzer/login_user"),t)}};Object.assign(c,{getUserAnalyzeData:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{province:"",city:""});return o.a.all([c.getOnlineUser(t),c.getRegisterUser(e),c.getActiveUser(t),c.getLoginUser(t)])}});var d=c,l={getMUserList:function(t){return o.a.post("".concat(i.c,"iotuser/muserlist"),t)},addMUser:function(t){return o.a.post("".concat(i.c,"iotuser/savemuser"),t)},deleteMUser:function(t){return o.a.post("".concat(i.c,"iotuser/delmuser"),{user_ids:t})}},f={CmDataList:function(t){return o.a.post(i.d.CmDataList,t).then((function(t){return t.data}))},CmDataAdd:function(t){return o.a.post(i.d.CmDataAdd,t).then((function(t){return t.data}))},CmDataEdit:function(t){return o.a.post(i.d.CmDataEdit,t).then((function(t){return t.data}))},CmDataDel:function(t){return o.a.post(i.d.CmDataDel,t).then((function(t){return t.data}))},ModuleList:function(t){return o.a.post(i.d.ModuleList,t).then((function(t){return t.data}))},input:function(t){return o.a.post(i.d.input,t).then((function(t){return t.data}))}},p={imgList:function(t){return o.a.post(i.g.imgList,t).then((function(t){return t.data}))},addImgs:function(t){return o.a.post(i.g.addImgs,t).then((function(t){return t.data}))},deleteImgs:function(t){return o.a.post(i.g.deleteImgs,t).then((function(t){return t.data}))},editImgs:function(t){return o.a.post(i.g.editImgs,t).then((function(t){return t.data}))},sortImgs:function(t){return o.a.post(i.g.sortImgs,t).then((function(t){return t.data}))}},m={searchUserList:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:0,a=2<arguments.length&&void 0!==n?n:10;return o.a.post(i.h.userList,{phone_num:t,begin:r,size:a})},searchUserMsg:function(t){return o.a.post(i.h.searchUserMsg,t).then((function(t){return t.data.result}))},searchLogOut:function(t){return o.a.post(i.h.searchLogOut,t).then((function(t){return t.data.result}))},operaList:function(t){return o.a.post(i.h.operaList,t).then((function(t){return t.data.result}))},rootLogs:function(t){return o.a.post(i.h.rootLogs,t).then((function(t){return t.data.result}))},errLogs:function(t){return o.a.post(i.h.errLogs,t).then((function(t){return t.data.result}))},deviceLogs:function(t){return o.a.post(i.h.deviceLogs,t).then((function(t){return t.data.result}))},throughDatas:function(t){return o.a.post(i.l.throughDatas,t).then((function(t){return t.data.result}))},deviceTotals:function(t){return o.a.post(i.l.deviceTotal,t).then((function(t){return t.data.result}))},onlineLogs:function(t){return o.a.post(i.l.onlineLog,t).then((function(t){return t.data.result}))},logRegDatas:function(t){return o.a.post(i.l.logRegData,t).then((function(t){return t.data.result}))},qpsDatas:function(t){return o.a.post(i.l.qpsData,t).then((function(t){return t.data.result}))},getwarnDatas:function(t){return o.a.post(i.l.warnData,t).then((function(t){return t.data.result}))},getwarnDataList:function(t){return o.a.post(i.l.warnDataSearch,t).then((function(t){return t.data.result}))},routerList:function(t){return o.a.post(i.h.routerList,t).then((function(t){return t.data.result}))},cancelBindRouterList:function(t){return o.a.post(i.h.bindedlists,t).then((function(t){return t.data.result}))},cancelBind:function(t){return o.a.post(i.h.routerUnbind,t).then((function(t){return t.data.result}))},addRouter:function(t){return o.a.post(i.h.addRouter,t).then((function(t){return t.data.result}))},editRouter:function(t){return o.a.post(i.h.editRouter,t).then((function(t){return t.data}))},deleteRouter:function(t){return o.a.post(i.h.deleteRouter,t).then((function(t){return t.data}))},importRouter:function(t){return o.a.post(i.h.importRouter,t).then((function(t){return t.data.result}))},getFamilyList:function(t){return o.a.post(i.h.familyList,t).then((function(t){return t.data}))},directdeviceList:function(t){return o.a.post(i.h.directdeviceList,t).then((function(t){return t.data.result}))},addDirectdevice:function(t){return o.a.post(i.h.addDirectdevice,t).then((function(t){return t.data.result}))},editDirectdevice:function(t){return o.a.post(i.h.editDirectdevice,t).then((function(t){return t.data}))},deleteDirectdevice:function(t){return o.a.post(i.h.deleteDirectdevice,t).then((function(t){return t.data}))},importDirectdevice:function(t){return o.a.post(i.h.importDirectdevice,t).then((function(t){return t.data.result}))}},h={strategyList:function(t){return o.a.post(i.k.strategyList,t).then((function(t){return t.data}))},StrategyAdd:function(t){return o.a.post(i.k.StrategyAdd,t).then((function(t){return t.data}))},StrategyEdit:function(t){return o.a.post(i.k.StrategyEdit,t).then((function(t){return t.data}))},StrategyDel:function(t){return o.a.post(i.k.StrategyDel,t).then((function(t){return t.data}))},StrategyUuidList:function(t){return o.a.post(i.k.StrategyUuidList,t).then((function(t){return t.data}))},StrategyUuidAdd:function(t){return o.a.post(i.k.StrategyUuidAdd,t).then((function(t){return t.data}))},StrategyUuidEdit:function(t){return o.a.post(i.k.StrategyUuidEdit,t).then((function(t){return t.data}))},StrategyUuidDel:function(t){return o.a.post(i.k.StrategyUuidDel,t).then((function(t){return t.data}))},StrategyConfiglists:function(t){return o.a.post(i.k.StrategyConfiglists,t).then((function(t){return t.data}))},StrategyConfigAdd:function(t){return o.a.post(i.k.StrategyConfigAdd,t).then((function(t){return t.data}))},StrategyConfigEdit:function(t){return o.a.post(i.k.StrategyConfigEdit,t).then((function(t){return t.data}))},StrategyConfigDel:function(t){return o.a.post(i.k.StrategyConfigDel,t).then((function(t){return t.data}))}},g=n("5aa7");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},a,{},u.a,{},d,{},l,{},f,{},p,{},m,{},h,{},g.a)},b64b:function(t,e,n){var r=n("23e7"),o=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(t){return i(o(t))}})},da0d:function(t,e,n){"use strict";n.r(e),n("a4d3"),n("e01a"),n("4de4"),n("d81d"),n("b0c0"),n("159b");var r=n("8e44"),o={data:function(){return{tableColumn:[{prop:"role_id",label:"id"},{prop:"role_name",label:"角色名"}],isEdit:!1,dialogVisible:!1,roleList:[],menuList:[],formdata:{},rules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"}],display_name:[{required:!0,message:"请输入显示名称",trigger:"blur"}],description:[{required:!0,message:"请输入备注",trigger:"blur"}],checkList:[{required:!0,message:"请选择权限",trigger:"blur"}]}}},computed:{dialogTitle:function(){return this.isEdit?"编辑角色":"添加角色"}},mounted:function(){this.getRoleList(),this.getMenuList()},methods:{handleAdd:function(){this.isEdit=!1,this.dialogVisible=!0,this.formdata={checkList:[]}},handleEdit:function(t){var e=this;this.isEdit=!0,r.a.getRole(t.role_id).then((function(n){e.formdata={role_id:t.role_id,name:n.data.result.role.name,display_name:n.data.result.role.display_name,description:n.data.result.role.description,checkList:e.getCheckList(n.data.result.menuList)},e.dialogVisible=!0}))},handleDelete:function(t){var e=this;this.$confirm("确认删除？","提示").then((function(){r.a.deleteRole(t.role_id).then((function(){e.$message("删除成功"),e.getRoleList()}))}))},formSubmit:function(){var t=this;this.formdata.permission_list=JSON.stringify(this.formdata.checkList),r.a[this.isEdit?"editRole":"addRole"](this.formdata).then((function(e){t.$message(t.isEdit?"修改成功":"添加成功"),t.dialogVisible=!1,t.getRoleList()}))},getRoleList:function(){var t=this;r.a.roleList().then((function(e){t.roleList=e.data.result}))},getMenuList:function(){var t=this;r.a.menuList().then((function(e){t.menuList=e.data.result}))},getCheckList:function(t){var e=[];return function t(n){n.forEach((function(n){e.push(n),n.children&&t(n.children)}))}(t),e.filter((function(t){return t.isCheck})).map((function(t){return t.permission_name}))}}},i=(n("fe2f"),n("2877")),a=Object(i.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content config-page"},[n("div",{staticStyle:{position:"relative"}},[n("el-row",[n("el-col",[n("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v(" 新增角色 ")])],1)],1)],1),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-table",{attrs:{data:t.roleList}},[t._l(t.tableColumn,(function(e){return n("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:"auto"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v(" "+t._s(n.row[e.prop])+" ")]}}],null,!0)})})),n("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["Admin"!=e.row.role_name?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v(" 编辑 ")]):t._e(),"Admin"!=e.row.role_name?n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v(" 删除 ")]):t._e()]}}])})],2)],1),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.formdata,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[n("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formdata.name,callback:function(e){t.$set(t.formdata,"name",e)},expression:"formdata.name"}})],1),n("el-form-item",{attrs:{label:"显示名称",prop:"display_name"}},[n("el-input",{model:{value:t.formdata.display_name,callback:function(e){t.$set(t.formdata,"display_name",e)},expression:"formdata.display_name"}})],1),n("el-form-item",{attrs:{label:"描述",prop:"description"}},[n("el-input",{model:{value:t.formdata.description,callback:function(e){t.$set(t.formdata,"description",e)},expression:"formdata.description"}})],1),n("el-form-item",{attrs:{label:"选择权限",prop:"checkList"}},[n("el-checkbox-group",{model:{value:t.formdata.checkList,callback:function(e){t.$set(t.formdata,"checkList",e)},expression:"formdata.checkList"}},t._l(t.menuList,(function(e){return n("div",{key:e.id,staticClass:"menulist"},[n("div",{staticClass:"hd"},[e.permission_name?n("el-checkbox",{key:e.id,attrs:{label:e.permission_name}},[n("strong",[t._v(t._s(e.menu_name))])]):n("strong",[t._v(t._s(e.menu_name))])],1),t._l(e.children,(function(e){return n("el-checkbox",{key:e.id,attrs:{label:e.permission_name}},[t._v(" "+t._s(e.menu_name)+" ")])}))],2)})),0)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.formSubmit}},[t._v("确 定")])],1)],1)],1)}),[],!1,null,"323cab14",null);e.default=a.exports},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),u=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,c=i(r),d={},l=0;c.length>l;)void 0!==(n=o(r,e=c[l++]))&&s(d,e,n);return d}})},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,u=n("83ab"),s=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!u||s,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},fe2f:function(t,e,n){"use strict";var r=n("11d4");n.n(r).a}}]);