(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5757fd98"],{5567:function(t,e,n){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){function r(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(u,"")),n}}var a=n("1d80"),i="["+n("5899")+"]",o=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$");t.exports={start:r(1),end:r(2),trim:r(3)}},"5aa7":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),a=n("1e04"),i=n("46f1");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s="/api.php";e.a={agreementSave:function(t){return a.a.post(i.m.agreementSave,t).then((function(t){return t.data}))},agreementdel:function(t){return a.a.post(i.m.agreementdel,t).then((function(t){return t.data}))},pubilcCorsAction:function(t){return a.a.post(s,t).then((function(t){return t.data}))},getVersions:function(t){return t.method="list_versions",a.a.post(s,t).then((function(t){return t.data}))},getVersionsForSC:function(t){return t.method="list_versions_community",a.a.post(s,t).then((function(t){return t.data}))},selectVersion:function(t){return a.a.post(i.m.selectVersion,t).then((function(t){return t.data}))},pushUpdateAction:function(t){return a.a.post(i.m.pushUpdateAction,t).then((function(t){return t.data}))},getPushHistoryList:function(t){return a.a.post(i.m.getPushHistoryList,t).then((function(t){return t.data}))},getChoseList:function(t){return a.a.post(s,t).then((function(t){return t.data}))},getAgreementList:function(t){return a.a.post(i.m.agreementList,t).then((function(t){return t.data}))},getAppList:function(t){return a.a.post(s,u({method:"list_applications"},t))},getAppInfo:function(t){return a.a.post(s,u({method:"info_applications"},t))},delApp:function(t){return a.a.post(s,u({method:"del_applications"},t))},saveApp:function(t){return a.a.post(s,u({method:"save_applications"},t))},getAppVerList:function(t){return a.a.post(s,u({method:"list_versions_commom"},t))},getAppVerInfo:function(t){return a.a.post(s,u({method:"info_versions_commom"},t))},delAppVer:function(t){return a.a.post(s,u({method:"del_version_commom"},t))},saveAppVer:function(t){return a.a.post(s,u({method:"save_app_version_commom"},t))},setAppVerStatus:function(t){return a.a.post(s,u({method:"set_status_commom"},t))},setAppVerUuids:function(t){return a.a.post(s,u({method:"set_uuids_commom"},t))},getAppVerUuids:function(t){return a.a.post(s,u({method:"get_uuids_commom"},t))}}},"74e0":function(t,e,n){"use strict";n.r(e);var r=n("8e44"),a=(n("4de4"),n("d81d"),n("b64b"),n("e25e"),{pageSize:20}),i={name:"MuserList",props:["dataChanged","searchMobile"],data:function(){return{muserList:[],types:[],config:{}}},watch:{dataChanged:function(t,e){t!==e&&this.getMUserList(this.searchMobile)}},mounted:function(){this.getMUserList()},methods:{getMUserList:function(){var t=this;r.a.getMUserList({mobile:11===this.searchMobile.length?this.searchMobile:null,page:this.config.page,limit:this.config.pageSize}).then((function(e){var n,r,i,o,u,s;e=e.data.result,t.muserList=(n=e.data,r=[],n.map((function(t){var e={id:t.user_id,name:t.user_name,phone:t.phone,familyList:[],familyCount:t.family_list.length};t.family_list.map((function(n){var r={isOnline:n.router_online?"在线":"离线",total:0,name:t.user_name,phone:t.phone};0<n.device_list.length&&n.device_list.map((function(t){r["type".concat(t.category_id)]=t.num,0<parseInt(t.num)&&(r.total+=parseInt(t.num))})),e.familyList.push(r)})),r.push(e)})),r),t.types=(i=e.data,o=[],u={},i.filter((function(t){return 0<t.family_list.length})).map((function(t){t.family_list.map((function(t){0<t.device_list.length&&t.device_list.map((function(t){u[t.category_id]||""===u[t.category_id]||(u[t.category_id]=t.category_name)}))}))})),Object.keys(u).map((function(t){o.push({id:t,name:"type".concat(t),text:u[t]})})),o.push({id:"heji",name:"total",text:"合计"}),o),t.config={page:(s=e).current_page,pageSize:a.pageSize,total:s.total}}))},onPageChange:function(){this.getMUserList()},handleDelete:function(t){var e=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=[t];r.a.deleteMUser(JSON.stringify(n)).then((function(t){e.$message("删除成功!"),e.getMUserList()}))})).catch((function(){}))}}},o=(n("7f92"),n("2877")),u={props:["dialogVisible","dataChanged"],data:function(){return{formdata:{name:"",tel:""},rules:{tel:[{required:!0,message:"请输入电话",trigger:"blur"}]},dialogTitle:"新增重点用户",showDialog:this.dialogVisible}},watch:{dialogVisible:function(t){this.showDialog=t}},methods:{formSubmit:function(){var t=this,e=this.formdata;r.a.addMUser({phone_num:e.tel}).then((function(e){t.$message("添加成功"),t.$emit("setDataChanged"),t.closeDialog()}))},closeDialog:function(){this.showDialog=!1,this.$emit("setDialog",!1)}}},s={components:{muserList:Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.muserList,(function(e){return n("div",{key:e.id,staticStyle:{"margin-top":"30px"}},[n("div",{staticClass:"tab-header"},[n("div",{staticClass:"header-item"},[t._v(" 姓名: "+t._s(e.name)+" ")]),n("div",{staticClass:"header-item header-item-2"},[t._v(" 手机号码: "+t._s(e.phone)+" ")]),n("div",{staticClass:"header-item header-item-3"},[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.id)}}},[t._v(" 删除 ")])],1)]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.familyList,border:""}},[n("el-table-column",{attrs:{prop:"isOnline",label:"路由器在线与否",width:"150"}}),t._l(t.types,(function(t){return n("el-table-column",{key:t.id,attrs:{prop:t.name,label:t.text}})}))],2)],1)})),n("div",{staticClass:"page-line"},[n("el-pagination",{attrs:{total:t.config.total,"page-size":t.config.pageSize,"current-page":t.config.page,small:"",layout:"prev, pager, next"},on:{"update:currentPage":function(e){return t.$set(t.config,"page",e)},"update:current-page":function(e){return t.$set(t.config,"page",e)},"current-change":t.onPageChange}})],1)],2)}),[],!1,null,"244f62ea",null).exports,muserAdd:Object(o.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[n("el-form",{attrs:{model:t.formdata,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"手机号码",prop:"tel"}},[n("el-input",{model:{value:t.formdata.tel,callback:function(e){t.$set(t.formdata,"tel",e)},expression:"formdata.tel"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.closeDialog}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.formSubmit}},[t._v("确 定")])],1)],1)}),[],!1,null,null,null).exports},data:function(){return{searchMobile:"",addMuser:!1,dataChanged:0}},methods:{search:function(){this.searchMobile?this.dataChanged++:this.$message.error("请输入手机号码")},closeDialog:function(){this.addMuser=!1},changeData:function(){this.dataChanged++}}},c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-content ops-page"},[n("div",{staticStyle:{"padding-bottom":"30px"}},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:18}},[n("el-input",{staticClass:"searchInput",attrs:{maxlength:11,type:"text",placeholder:"输入用户手机号码"},model:{value:t.searchMobile,callback:function(e){t.searchMobile=e},expression:"searchMobile"}}),n("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v(" 查询 ")])],1),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[n("el-button",{on:{click:function(e){t.addMuser=!0}}},[t._v(" 新增 ")])],1)],1),n("div",{staticStyle:{"margin-top":"20px"}},[n("muser-list",{attrs:{"data-changed":t.dataChanged,"search-mobile":t.searchMobile}})],1),n("div",[n("muser-add",{attrs:{"dialog-visible":t.addMuser,"data-changed":t.dataChanged},on:{setDataChanged:t.changeData,setDialog:t.closeDialog}})],1)],1)])}),[],!1,null,null,null);e.default=c.exports},"7f92":function(t,e,n){"use strict";var r=n("5567");n.n(r).a},"8e44":function(t,e,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),a=n("1e04"),i=n("46f1"),o={searchUserList:function(t){return a.a.post(i.i.searchUserList,t)},userList:function(t){return a.a.post(i.i.userList,t)},getUser:function(t){return a.a.post(i.i.getUser,t)},addUser:function(t){return a.a.post(i.i.addUser,t)},editUser:function(t){return a.a.post(i.i.editUser,t)},deleteUser:function(t){return a.a.post(i.i.deleteUser,{user_ids:t})},updatePwd:function(t){return a.a.post(i.i.updatePwd,t)},resetPwd:function(t){return a.a.post(i.i.resetPwd,t)},roleList:function(t){return a.a.post(i.i.roleList,t)},getRole:function(t){return a.a.post(i.i.getRole,{role_id:t})},addRole:function(t){return a.a.post(i.i.addRole,t)},editRole:function(t){return a.a.post(i.i.editRole,t)},deleteRole:function(t){return a.a.post(i.i.deleteRole,{role_id:t})},menuList:function(){return a.a.post(i.i.menuList)}},u=n("9a1b");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var c={getOnlineUser:function(t){return a.a.post("".concat(i.c,"analyzer/online_user"),t)},getRegisterUser:function(t){return a.a.post("".concat(i.c,"analyzer/register_user"),t)},getActiveUser:function(t){return a.a.post("".concat(i.c,"analyzer/active_user"),t)},getActivePercent:function(t){return a.a.post("".concat(i.c,"analyzer/active_percent"),t)},getLoginUser:function(t){return a.a.post("".concat(i.c,"analyzer/login_user"),t)}};Object.assign(c,{getUserAnalyzeData:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{province:"",city:""});return a.a.all([c.getOnlineUser(t),c.getRegisterUser(e),c.getActiveUser(t),c.getLoginUser(t)])}});var d=c,l={getMUserList:function(t){return a.a.post("".concat(i.c,"iotuser/muserlist"),t)},addMUser:function(t){return a.a.post("".concat(i.c,"iotuser/savemuser"),t)},deleteMUser:function(t){return a.a.post("".concat(i.c,"iotuser/delmuser"),{user_ids:t})}},f={CmDataList:function(t){return a.a.post(i.d.CmDataList,t).then((function(t){return t.data}))},CmDataAdd:function(t){return a.a.post(i.d.CmDataAdd,t).then((function(t){return t.data}))},CmDataEdit:function(t){return a.a.post(i.d.CmDataEdit,t).then((function(t){return t.data}))},CmDataDel:function(t){return a.a.post(i.d.CmDataDel,t).then((function(t){return t.data}))},ModuleList:function(t){return a.a.post(i.d.ModuleList,t).then((function(t){return t.data}))},input:function(t){return a.a.post(i.d.input,t).then((function(t){return t.data}))}},p={imgList:function(t){return a.a.post(i.g.imgList,t).then((function(t){return t.data}))},addImgs:function(t){return a.a.post(i.g.addImgs,t).then((function(t){return t.data}))},deleteImgs:function(t){return a.a.post(i.g.deleteImgs,t).then((function(t){return t.data}))},editImgs:function(t){return a.a.post(i.g.editImgs,t).then((function(t){return t.data}))},sortImgs:function(t){return a.a.post(i.g.sortImgs,t).then((function(t){return t.data}))}},g={searchUserList:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:0,o=2<arguments.length&&void 0!==n?n:10;return a.a.post(i.h.userList,{phone_num:t,begin:r,size:o})},searchUserMsg:function(t){return a.a.post(i.h.searchUserMsg,t).then((function(t){return t.data.result}))},searchLogOut:function(t){return a.a.post(i.h.searchLogOut,t).then((function(t){return t.data.result}))},operaList:function(t){return a.a.post(i.h.operaList,t).then((function(t){return t.data.result}))},rootLogs:function(t){return a.a.post(i.h.rootLogs,t).then((function(t){return t.data.result}))},errLogs:function(t){return a.a.post(i.h.errLogs,t).then((function(t){return t.data.result}))},deviceLogs:function(t){return a.a.post(i.h.deviceLogs,t).then((function(t){return t.data.result}))},throughDatas:function(t){return a.a.post(i.l.throughDatas,t).then((function(t){return t.data.result}))},deviceTotals:function(t){return a.a.post(i.l.deviceTotal,t).then((function(t){return t.data.result}))},onlineLogs:function(t){return a.a.post(i.l.onlineLog,t).then((function(t){return t.data.result}))},logRegDatas:function(t){return a.a.post(i.l.logRegData,t).then((function(t){return t.data.result}))},qpsDatas:function(t){return a.a.post(i.l.qpsData,t).then((function(t){return t.data.result}))},getwarnDatas:function(t){return a.a.post(i.l.warnData,t).then((function(t){return t.data.result}))},getwarnDataList:function(t){return a.a.post(i.l.warnDataSearch,t).then((function(t){return t.data.result}))},routerList:function(t){return a.a.post(i.h.routerList,t).then((function(t){return t.data.result}))},cancelBindRouterList:function(t){return a.a.post(i.h.bindedlists,t).then((function(t){return t.data.result}))},cancelBind:function(t){return a.a.post(i.h.routerUnbind,t).then((function(t){return t.data.result}))},addRouter:function(t){return a.a.post(i.h.addRouter,t).then((function(t){return t.data.result}))},editRouter:function(t){return a.a.post(i.h.editRouter,t).then((function(t){return t.data}))},deleteRouter:function(t){return a.a.post(i.h.deleteRouter,t).then((function(t){return t.data}))},importRouter:function(t){return a.a.post(i.h.importRouter,t).then((function(t){return t.data.result}))},getFamilyList:function(t){return a.a.post(i.h.familyList,t).then((function(t){return t.data}))},getFamilyDeviceList:function(t){return a.a.post(i.h.familyDeviceList,t).then((function(t){return t.data}))},getDeviceDetail:function(t){return a.a.post(i.h.deviceDetail,t).then((function(t){return t.data}))},directdeviceList:function(t){return a.a.post(i.h.directdeviceList,t).then((function(t){return t.data.result}))},addDirectdevice:function(t){return a.a.post(i.h.addDirectdevice,t).then((function(t){return t.data.result}))},editDirectdevice:function(t){return a.a.post(i.h.editDirectdevice,t).then((function(t){return t.data}))},deleteDirectdevice:function(t){return a.a.post(i.h.deleteDirectdevice,t).then((function(t){return t.data}))},importDirectdevice:function(t){return a.a.post(i.h.importDirectdevice,t).then((function(t){return t.data.result}))}},h={strategyList:function(t){return a.a.post(i.k.strategyList,t).then((function(t){return t.data}))},StrategyAdd:function(t){return a.a.post(i.k.StrategyAdd,t).then((function(t){return t.data}))},StrategyEdit:function(t){return a.a.post(i.k.StrategyEdit,t).then((function(t){return t.data}))},StrategyDel:function(t){return a.a.post(i.k.StrategyDel,t).then((function(t){return t.data}))},StrategyUuidList:function(t){return a.a.post(i.k.StrategyUuidList,t).then((function(t){return t.data}))},StrategyUuidAdd:function(t){return a.a.post(i.k.StrategyUuidAdd,t).then((function(t){return t.data}))},StrategyUuidEdit:function(t){return a.a.post(i.k.StrategyUuidEdit,t).then((function(t){return t.data}))},StrategyUuidDel:function(t){return a.a.post(i.k.StrategyUuidDel,t).then((function(t){return t.data}))},StrategyConfiglists:function(t){return a.a.post(i.k.StrategyConfiglists,t).then((function(t){return t.data}))},StrategyConfigAdd:function(t){return a.a.post(i.k.StrategyConfigAdd,t).then((function(t){return t.data}))},StrategyConfigEdit:function(t){return a.a.post(i.k.StrategyConfigEdit,t).then((function(t){return t.data}))},StrategyConfigDel:function(t){return a.a.post(i.k.StrategyConfigDel,t).then((function(t){return t.data}))}},m=n("5aa7");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o,{},u.a,{},d,{},l,{},f,{},p,{},g,{},h,{},m.a)},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")((function(){i(1)}))},{keys:function(t){return i(a(t))}})},dbb4:function(t,e,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),u=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),a=u.f,c=i(r),d={},l=0;c.length>l;)void 0!==(n=a(r,e=c[l++]))&&s(d,e,n);return d}})},e25e:function(t,e,n){var r=n("23e7"),a=n("e583");r({global:!0,forced:parseInt!=a},{parseInt:a})},e439:function(t,e,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,u=n("83ab"),s=a((function(){o(1)}));r({target:"Object",stat:!0,forced:!u||s,sham:!u},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},e583:function(t,e,n){var r=n("da84"),a=n("58a8").trim,i=n("5899"),o=r.parseInt,u=/^[+-]?0[Xx]/,s=8!==o(i+"08")||22!==o(i+"0x16");t.exports=s?function(t,e){var n=a(String(t));return o(n,e>>>0||(u.test(n)?16:10))}:o}}]);