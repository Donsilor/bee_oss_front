{"version":3,"sources":["webpack:///./src/assets/images/device.png","webpack:///./src/pages/feedback/list.vue?cff3","webpack:///src/pages/feedback/list.vue","webpack:///./src/pages/feedback/list.vue?87ca","webpack:///./src/pages/feedback/list.vue","webpack:///./src/pages/feedback/list.vue?aa6b","webpack:///delegated ./node_modules/core-js/modules/es.object.keys.js from dll-reference vendor_8e18555b2713041da4df","webpack:///delegated ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js from dll-reference vendor_8e18555b2713041da4df","webpack:///delegated ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js from dll-reference vendor_8e18555b2713041da4df"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","seeUnRead","model","value","callback","$$v","unRead","expression","_v","seeUnReply","unReply","changeDate","date","search","searchKey","tableData","scopedSlots","_u","key","fn","scope","row","img_list","split","class","is_read","$event","goDetail","id","_s","content","has_reply","os_type","app_version","terminal_type","client_version","uname","created_at","_e","total","unReadTotal","unReplyTotal","currentPage","pageSize","handleCurrentChange","staticRenderFns","components","data","queryOption","computed","watch","created","needQueryOptionStorage","queryOptionStorage","page","keyword","Boolean","start_time","Date","end_time","$store","dispatch","limit","getFeedbackList","methods","then","start","newEnd","getDateTime","d","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","type","val","updateStatus","component","__webpack_require__"],"mappings":"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","file":"js/chunk-1a224e41.1787c7f0.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/device.7988bc64.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\",staticStyle:{\"height\":\"600px\"}},[_c('div',[_c('el-row',{staticStyle:{\"line-height\":\"36px\"}},[_c('el-col',{attrs:{\"span\":3}},[_c('el-checkbox',{on:{\"change\":_vm.seeUnRead},model:{value:(_vm.unRead),callback:function ($$v) {_vm.unRead=$$v},expression:\"unRead\"}},[_vm._v(\" 只看未读 \")])],1),_c('el-col',{attrs:{\"span\":3}},[_c('el-checkbox',{on:{\"change\":_vm.seeUnReply},model:{value:(_vm.unReply),callback:function ($$v) {_vm.unReply=$$v},expression:\"unReply\"}},[_vm._v(\" 只看待回复 \")])],1),_c('el-col',{attrs:{\"span\":12}},[_c('span',[_vm._v(\"日期：\")]),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"placeholder\":\"请选择日期范围\"},on:{\"change\":_vm.changeDate},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"on-icon-click\":_vm.search,\"placeholder\":\"搜索关键字\",\"icon\":\"search\"},on:{\"change\":_vm.search},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}})],1)],1)],1),_c('div',{staticStyle:{\"margin\":\"20px 0\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"show-header\":false}},[_c('el-table-column',{attrs:{\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.img_list)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":scope.row.img_list.split(',')[0],\"alt\":\"\"}}):_c('img',{staticClass:\"avatar\",attrs:{\"src\":require(\"@/assets/images/device.png\"),\"alt\":\"\"}})]}}])}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"summary point\",class:{unRead: scope.row.is_read === 0},on:{\"click\":function($event){return _vm.goDetail(scope.row.id)}}},[_vm._v(_vm._s(scope.row.content))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_vm._v(_vm._s(scope.row.has_reply === 1 ? '已回复' : '待回复'))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-right\":\"15px\"}},[_vm._v(_vm._s(scope.row.os_type))]),_c('span',[_vm._v(_vm._s(scope.row.app_version))])]}}])}),_c('el-table-column',{attrs:{\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('ul',[_c('li',[_vm._v(_vm._s(scope.row.terminal_type))]),_c('li',[_vm._v(_vm._s(scope.row.client_version))])])]}}])}),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('ul',[_c('li',[_vm._v(\"用户名\")]),_c('li',[_vm._v(_vm._s(scope.row.uname))])])]}}])}),_c('el-table-column',{attrs:{\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.created_at))])]}}])})],1)],1),_c('div',{staticClass:\"page-container\"},[(!_vm.unReply)?_c('span',{staticClass:\"info gray\"},[_vm._v(\"共\"+_vm._s(_vm.total)+\"条记录，其中\"+_vm._s(_vm.unReadTotal)+\"条未读\")]):_vm._e(),(_vm.unReply)?_c('span',{staticClass:\"info gray\"},[_vm._v(\"共\"+_vm._s(_vm.total)+\"条记录，其中\"+_vm._s(_vm.unReadTotal)+\"条未读， \"+_vm._s(_vm.unReplyTotal)+\"条待回复\")]):_vm._e(),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"total\":_vm.total,\"layout\":\"prev, pager, next, jumper\"},on:{\"current-change\":_vm.handleCurrentChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-content config-page\" style=\"height: 600px\">\r\n    <div>\r\n      <el-row style=\"line-height:36px;\">\r\n        <el-col :span=\"3\">\r\n          <el-checkbox\r\n            v-model=\"unRead\"\r\n            @change=\"seeUnRead\"\r\n          >\r\n            只看未读\r\n          </el-checkbox>\r\n        </el-col>\r\n        <el-col :span=\"3\">\r\n          <el-checkbox\r\n            v-model=\"unReply\"\r\n            @change=\"seeUnReply\"\r\n          >\r\n            只看待回复\r\n          </el-checkbox>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <span>日期：</span>\r\n          <el-date-picker\r\n            v-model=\"date\"\r\n            type=\"daterange\"\r\n            placeholder=\"请选择日期范围\"\r\n            @change=\"changeDate\"\r\n          />\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <el-input\r\n            v-model=\"searchKey\"\r\n            :on-icon-click=\"search\"\r\n            placeholder=\"搜索关键字\"\r\n            icon=\"search\"\r\n            @change=\"search\"\r\n          />\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <div style=\"margin: 20px 0\">\r\n      <el-table\r\n        :data=\"tableData\"\r\n        :show-header=\"false\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <img\r\n              v-if=\"scope.row.img_list\"\r\n              :src=\"scope.row.img_list.split(',')[0]\"\r\n              alt=\"\"\r\n              class=\"avatar\"\r\n            >\r\n            <img\r\n              v-else\r\n              src=\"@/assets/images/device.png\"\r\n              alt=\"\"\r\n              class=\"avatar\"\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column>\r\n          <template slot-scope=\"scope\">\r\n            <span\r\n              :class=\"{unRead: scope.row.is_read === 0}\"\r\n              class=\"summary point\"\r\n              @click=\"goDetail(scope.row.id)\"\r\n            >{{ scope.row.content }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-right: 15px\">{{ scope.row.has_reply === 1 ? '已回复' : '待回复' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-right: 15px\">{{ scope.row.os_type }}</span>\r\n            <span>{{ scope.row.app_version }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <ul>\r\n              <li>{{ scope.row.terminal_type }}</li>\r\n              <li>{{ scope.row.client_version }}</li>\r\n            </ul>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          width=\"150\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <ul>\r\n              <li>用户名</li>\r\n              <li>{{ scope.row.uname }}</li>\r\n            </ul>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"180\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.created_at }}</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"page-container\">\r\n      <span\r\n        v-if=\"!unReply\"\r\n        class=\"info gray\">共{{ total }}条记录，其中{{ unReadTotal }}条未读</span>\r\n      <span\r\n        v-if=\"unReply\"\r\n        class=\"info gray\">共{{ total }}条记录，其中{{ unReadTotal }}条未读， {{ unReplyTotal }}条待回复</span>\r\n      <el-pagination\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"total\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        @current-change=\"handleCurrentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '~/lib/http'\r\nimport * as URL from '~/lib/api'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  components: {},\r\n  data () {\r\n    return {\r\n      unRead: false,\r\n      unReply: false,\r\n      date: [],\r\n      searchKey: '',\r\n      queryOption: {},\r\n      tableData: [],\r\n      pageSize: 20,\r\n      total: null,\r\n      currentPage: 1,\r\n      unReadTotal: null,\r\n      unReplyTotal: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('feedback', ['queryOptionStorage', 'needQueryOptionStorage'])\r\n  },\r\n  watch: {\r\n\r\n  },\r\n  created () {\r\n    if (this.needQueryOptionStorage) {\r\n      // 如果是从详情页跳回列表页的 needQueryOptionStorage是true 拿出存在store的筛选条件queryOptionStorage\r\n      this.queryOption = this.queryOptionStorage\r\n      this.currentPage = this.queryOption.page\r\n      this.searchKey = this.queryOption.keyword\r\n      this.unRead = Boolean(this.queryOption.is_read)\r\n      this.date[0] = this.queryOption.start_time ? new Date(this.queryOption.start_time * 1000) : ''\r\n      this.date[1] = this.queryOption.end_time ? new Date(this.queryOption.end_time * 1000) : ''\r\n      this.$store.dispatch('feedback/setNeedQueryOptionStorage', false)\r\n    } else {\r\n      // 点击侧栏导航进来的\r\n      this.queryOption = {\r\n        page: this.currentPage,\r\n        limit: this.pageSize,\r\n        keyword: '',\r\n        is_read: '',\r\n        has_reply: 0, // 全部\r\n        start_time: '',\r\n        end_time: ''\r\n      }\r\n    }\r\n    this.getFeedbackList()\r\n  },\r\n  methods: {\r\n    goDetail (id) {\r\n      // 去详情页 store存入筛选条件queryOptionStorage\r\n      this.$store.dispatch('feedback/setQueryOptionStorage', this.queryOption).then(() => {\r\n        this.$router.push({ name: 'feedbackDetail', params: { id: id } })\r\n      })\r\n    },\r\n    search () {\r\n      this.queryOption.keyword = this.searchKey\r\n      this.queryOption.page = 1\r\n      this.currentPage = 1\r\n      this.getFeedbackList()\r\n    },\r\n    seeUnRead () {\r\n      this.queryOption.is_read = this.unRead ? 1 : 0\r\n      this.queryOption.page = 1\r\n      this.currentPage = 1\r\n      this.getFeedbackList()\r\n    },\r\n    seeUnReply () {\r\n      this.queryOption.has_reply = this.unReply ? 1 : 0\r\n      this.queryOption.page = 1\r\n      this.currentPage = 1\r\n      this.getFeedbackList()\r\n    },\r\n    changeDate (val) {\r\n      // 后端需要的时间戳是秒 前端UI组件的是毫秒 除以1000处理\r\n      const start = this.date && this.date[0] ? this.date[0].getTime() / 1000 : ''\r\n      const end = this.date && this.date[1] ? this.date[1].getTime() : ''\r\n      const newEnd = new Date(this.getDateTime(end) + ' ' + '23:59:59').getTime() / 1000\r\n      this.queryOption.start_time = start\r\n      this.queryOption.end_time = newEnd\r\n      this.queryOption.page = 1\r\n      this.currentPage = 1\r\n      this.getFeedbackList()\r\n    },\r\n    getDateTime (date, type) {\r\n      if (!date) return\r\n      var d = new Date(+date)\r\n      var year = d.getFullYear()\r\n      var month = d.getMonth() + 1 < 10 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1\r\n      var day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate()\r\n      var hours = d.getHours() < 10 ? '0' + d.getHours() : d.getHours()\r\n      var minutes = d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes()\r\n      var seconds = d.getSeconds() < 10 ? '0' + d.getSeconds() : d.getSeconds()\r\n      if (type === 'fulltime') {\r\n        return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds\r\n      } else {\r\n        return year + '-' + month + '-' + day\r\n      }\r\n    },\r\n    handleCurrentChange (val) {\r\n      this.queryOption.page = val\r\n      this.currentPage = val\r\n      this.getFeedbackList()\r\n    },\r\n    getFeedbackList () {\r\n      // console.log(this.queryOption);\r\n      // this.queryOption全页面共享这个筛选条件\r\n      axios.post(URL.feedbackList, this.queryOption).then(res => {\r\n        const result = res.data.result\r\n        this.total = result.total\r\n        this.unReadTotal = result.un_read_total || 0\r\n        this.unReplyTotal = result.un_reply_total || 0\r\n        this.tableData = result.data\r\n      })\r\n    },\r\n    updateStatus (id) {\r\n      return axios.post(URL.feedbackUpdateStatus, { id: id })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.summary {\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  display: block;\r\n  padding: 20px 0;\r\n}\r\n.avatar {\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 8px 0 0 0;\r\n}\r\n.info {\r\n  height: 32px;\r\n  line-height: 32px;\r\n  font-size: 14px;\r\n}\r\n.unRead {\r\n  font-weight: bold;\r\n}\r\n\r\n.page-container{\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=252315c0&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=252315c0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"252315c0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=252315c0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=252315c0&lang=less&scoped=true&\"","module.exports = (__webpack_require__(\"1c0f\"))(313);","module.exports = (__webpack_require__(\"1c0f\"))(306);","module.exports = (__webpack_require__(\"1c0f\"))(305);"],"sourceRoot":""}