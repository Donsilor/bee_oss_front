(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51351fd5"],{"2c23":function(t,e,a){},"7dce":function(t,e,a){"use strict";a.r(e);var i=a("f1ed"),s={components:{Upload:a("9dac").a},data:function(){return{valid:{type:1,tips:"只能上传jpg/png格式文件，单个文件不能超过500kb"},imageFile:"",config:{content:"",image_url:"",status:1,url:"www.baidu.com"},rules:{status:[{required:!0,message:"",trigger:"blur"}],content:[{required:!0,message:"请输入按钮文案",trigger:"blur"},{min:2,max:6,message:"按钮文案文字限制为2-6个中文",trigger:"blur"}],url:[{required:!0,message:"请输入链接地址",trigger:"blur"},{min:1,max:200,message:"链接地址限制长度为200字",trigger:"blur"}]}}},mounted:function(){this.getConfigInfo()},methods:{submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.saveConfig()}))},getConfigInfo:function(){var t=this;return this.$http.post(i.a+"mall_record/info_config",{}).then((function(e){var a=e.data;200===a.code?(t.config.content=e.data.result.content,t.config.status=e.data.result.status+"",t.config.url=e.data.result.url,t.config.image_url=e.data.result.image_url_object,t.imageFile=e.data.result.image_url):t.$message.error(a.msg)})).catch((function(e){e&&e.msg?t.$message.error(e.msg):t.$message.error(e)}))},saveConfig:function(){var t=this;this.$http.post(i.a+"mall_record/save_config",this.config).then((function(e){if(200===e.data.code)return t.getConfigInfo()})).then((function(){t.$message.success("保存成功")})).catch((function(e){e&&e.msg?t.$message.error(e.msg):t.$message.error(e)}))},emitImageData:function(t){this.config.image_url=t.object,this.imageFile=t.download_url}}},n=(a("ffa8"),a("2877")),r=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-content"},[a("div",{staticClass:"title"},[t._v(" 入口配置 ")]),a("el-form",{ref:"form",staticClass:"form-config",attrs:{model:t.config,rules:t.rules,"label-position":"left","label-width":"200px"}},[a("el-form-item",{attrs:{label:"开启家居商城",prop:"status"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.config.status,callback:function(e){t.$set(t.config,"status",e)},expression:"config.status"}}),a("div",{staticClass:"tips"},[t._v(" 开启商城将在星络App的家居页面开放按钮，可以点击进入H5商城 ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==+t.config.status,expression:"+config.status === 1"}]},[a("el-form-item",{attrs:{label:"按钮文案",prop:"content"}},[a("el-input",{model:{value:t.config.content,callback:function(e){t.$set(t.config,"content",e)},expression:"config.content"}})],1),a("el-form-item",{attrs:{label:"链接地址",prop:"url"}},[a("el-input",{model:{value:t.config.url,callback:function(e){t.$set(t.config,"url",e)},expression:"config.url"}})],1),a("el-form-item",{attrs:{label:"按钮图标"}},[a("Upload",{attrs:{"image-file":t.imageFile,valid:t.valid},on:{emitImageData:t.emitImageData}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v(" 确定并生效 ")])],1)],1)],1)}),[],!1,null,null,null);e.default=r.exports},ffa8:function(t,e,a){"use strict";var i=a("2c23");a.n(i).a}}]);