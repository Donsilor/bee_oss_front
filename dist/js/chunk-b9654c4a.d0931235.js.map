{"version":3,"sources":["webpack:///delegated ./node_modules/core-js/modules/es.string.split.js from dll-reference vendor_8e18555b2713041da4df","webpack:///./src/pages/feedback/detail.vue?ca8d","webpack:///src/pages/feedback/detail.vue","webpack:///./src/pages/feedback/detail.vue?95e9","webpack:///./src/pages/feedback/detail.vue","webpack:///./src/pages/feedback/detail.vue?0c4b","webpack:///delegated ./node_modules/core-js/modules/es.object.keys.js from dll-reference vendor_8e18555b2713041da4df","webpack:///delegated ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js from dll-reference vendor_8e18555b2713041da4df","webpack:///delegated ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js from dll-reference vendor_8e18555b2713041da4df"],"names":["module","exports","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goList","_v","_s","detail","name","uname","created_at","contact","terminal_name","terminal_type","app_version","prevDisabled","detailPrev","nextDisabled","detailNext","staticStyle","content","_l","item","index","key","contentReply","_e","has_reply","$event","dialogVisible","model","value","callback","$$v","replyText","trim","expression","slot","reply","staticRenderFns","components","data","computed","watch","val","mounted","getFeedbackDetails","$route","params","id","methods","$store","dispatch","then","is_forward","detailId","keyword","queryOptionStorage","is_read","start_time","end_time","result","reply_content","res","code","$message","warning","component"],"mappings":"mGAAAA,EAAOC,QAAWC,EAAoB,OAArB,CAA8B,M,2CCA/C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,gBAAgB,CAACE,YAAY,OAAOC,MAAM,CAAC,UAAY,MAAM,CAACH,EAAG,qBAAqB,CAACA,EAAG,OAAO,CAACI,GAAG,CAAC,MAAQR,EAAIS,SAAS,CAACT,EAAIU,GAAG,cAAcN,EAAG,qBAAqB,CAACJ,EAAIU,GAAG,WAAW,GAAGN,EAAG,SAAS,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIU,GAAG,SAASV,EAAIW,GAAGX,EAAIY,OAAOC,SAAST,EAAG,KAAK,CAACJ,EAAIU,GAAG,YAAYV,EAAIW,GAAGX,EAAIY,OAAOE,UAAUV,EAAG,KAAK,CAACJ,EAAIU,GAAG,QAAQV,EAAIW,GAAGX,EAAIY,OAAOG,eAAeX,EAAG,KAAK,CAACJ,EAAIU,GAAG,QAAQV,EAAIW,GAAGX,EAAIY,OAAOI,kBAAkBZ,EAAG,SAAS,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIU,GAAG,OAAOV,EAAIW,GAAGX,EAAIY,OAAOK,kBAAkBb,EAAG,KAAK,CAACJ,EAAIU,GAAG,SAASV,EAAIW,GAAGX,EAAIY,OAAOM,kBAAkBd,EAAG,KAAK,CAACJ,EAAIU,GAAG,UAAUV,EAAIW,GAAGX,EAAIY,OAAOO,sBAAsBf,EAAG,SAAS,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,SAAWP,EAAIoB,cAAcZ,GAAG,CAAC,MAAQR,EAAIqB,aAAa,CAACrB,EAAIU,GAAG,WAAWN,EAAG,YAAY,CAACG,MAAM,CAAC,SAAWP,EAAIsB,aAAa,KAAO,WAAWd,GAAG,CAAC,MAAQR,EAAIuB,aAAa,CAACvB,EAAIU,GAAG,YAAY,MAAM,GAAGN,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACoB,YAAY,CAAC,cAAc,SAAS,CAACxB,EAAIU,GAAG,UAAUN,EAAG,MAAMJ,EAAIU,GAAG,IAAIV,EAAIW,GAAGX,EAAIY,OAAOa,SAAS,SAASrB,EAAG,MAAM,CAACE,YAAY,aAAaN,EAAI0B,GAAI1B,EAAIY,OAAe,UAAE,SAASe,EAAKC,GAAO,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAMrB,MAAM,CAAC,IAAMoB,EAAK,QAAU,IAAI,eAAe,GAAG,IAAM,SAAQ,GAAI3B,EAAa,UAAEI,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIU,GAAG,UAAUN,EAAG,IAAI,CAACJ,EAAIU,GAAGV,EAAIW,GAAGX,EAAI8B,mBAAmB9B,EAAI+B,KAAO/B,EAAIgC,UAA6KhC,EAAI+B,KAAtK3B,EAAG,MAAM,CAACA,EAAG,YAAY,CAACoB,YAAY,CAAC,aAAa,QAAQjB,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASyB,GAAQjC,EAAIkC,eAAgB,KAAQ,CAAClC,EAAIU,GAAG,SAAS,GAAaV,EAAiB,cAAEI,EAAG,MAAM,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,QAAUP,EAAIkC,cAAc,MAAQ,WAAW,MAAQ,OAAO1B,GAAG,CAAC,iBAAiB,SAASyB,GAAQjC,EAAIkC,cAAcD,KAAU,CAAC7B,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,YAAc,QAAQ,UAAY,MAAM,kBAAkB,IAAI4B,MAAM,CAACC,MAAOpC,EAAa,UAAEqC,SAAS,SAAUC,GAAMtC,EAAIuC,UAA0B,kBAARD,EAAkBA,EAAIE,OAAQF,GAAMG,WAAW,eAAerC,EAAG,OAAO,CAACE,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAUmC,KAAK,UAAU,CAACtC,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAASyB,GAAQjC,EAAIkC,eAAgB,KAAS,CAAClC,EAAIU,GAAG,SAASN,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQR,EAAI2C,QAAQ,CAAC3C,EAAIU,GAAG,UAAU,IAAI,IAAI,GAAGV,EAAI+B,MAAM,IAC7/Ea,EAAkB,G,8sBCgHtB,OACEC,WAAY,GACZC,KAFF,WAGI,MAAO,CACLlC,OAAQ,GACRQ,cAAc,EACdE,cAAc,EACdY,eAAe,EACfK,UAAW,GACXP,WAAW,EACXF,aAAc,KAGlBiB,SAAU,EAAZ,GACA,qFAEEC,MAAO,CACLd,cADJ,SACA,GACWe,IACHhD,KAAKsC,UAAY,MAIvBW,QAvBF,WAyBIjD,KAAKkD,mBAAmBlD,KAAKmD,OAAOC,OAAOC,GAAI,IAEjDC,QAAS,CACP9C,OADJ,WACA,WAEMR,KAAKuD,OAAOC,SAAS,sCAAsC,GAAMC,MAAK,WACpE,EAAR,wCAGIP,mBAPJ,SAOA,gBACA,OAGQE,EAFiB,IAAfM,EAEO,CACPL,GAAIM,EACJD,WAAYA,GAIL,CACPL,GAAIM,EACJD,WAAYA,EACZE,QAAS5D,KAAK6D,mBAAmBD,QACjCE,QAAS9D,KAAK6D,mBAAmBC,QACjCC,WAAY/D,KAAK6D,mBAAmBE,WACpCC,SAAUhE,KAAK6D,mBAAmBG,UAGtC,EAAN,sCACQ,IAAR,gBACQ,EAAR,gBACQ,EAAR,gBACQ,EAAR,0BACQ,EAAR,6BACYC,GACF,EAAV,SACU,EAAV,oDACU,EAAV,mBAG6B,IAAfP,GACF,EAAZ,gBACY,EAAZ,sBACA,QACY,EAAZ,gBACY,EAAZ,0BAKIhB,MAhDJ,WAgDA,WACM,GAAK1C,KAAKsC,UAAV,CAGA,IAAN,GACQ4B,cAAelE,KAAKsC,UACpBe,GAAIrD,KAAKmD,OAAOC,OAAOC,IAEzB,EAAN,sCAC8B,MAAlBc,EAAItB,KAAKuB,OACX,EAAV,iBACU,EAAV,kDATQpE,KAAKqE,SAASC,QAAQ,UAc1BlD,WAhEJ,WAiEMpB,KAAKkD,mBAAmBlD,KAAKW,OAAO0C,GAAI,IAG1C/B,WApEJ,WAqEMtB,KAAKkD,mBAAmBlD,KAAKW,OAAO0C,GAAI,MCjNiT,I,wBCQ3VkB,EAAY,eACd,EACAzE,EACA6C,GACA,EACA,KACA,KACA,MAIa,aAAA4B,E,oECnBf,yBAAinB,EAAG,G,qBCApnB5E,EAAOC,QAAWC,EAAoB,OAArB,CAA8B,M,qBCA/CF,EAAOC,QAAWC,EAAoB,OAArB,CAA8B,M,qBCA/CF,EAAOC,QAAWC,EAAoB,OAArB,CAA8B","file":"js/chunk-b9654c4a.d0931235.js","sourcesContent":["module.exports = (__webpack_require__(\"1c0f\"))(366);","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content feedback-detail\"},[_c('el-breadcrumb',{staticClass:\"item\",attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('span',{on:{\"click\":_vm.goList}},[_vm._v(\"用户反馈中心\")])]),_c('el-breadcrumb-item',[_vm._v(\"反馈详情\")])],1),_c('el-row',{staticClass:\"item infos\"},[_c('el-col',{staticClass:\"col col1\",attrs:{\"span\":8}},[_c('div',[_c('ul',[_c('li',[_vm._v(\"反馈用户名：\"+_vm._s(_vm.detail.name))]),_c('li',[_vm._v(\"反馈用户手机号: \"+_vm._s(_vm.detail.uname))]),_c('li',[_vm._v(\"反馈时间：\"+_vm._s(_vm.detail.created_at))]),_c('li',[_vm._v(\"联系方式：\"+_vm._s(_vm.detail.contact))])])])]),_c('el-col',{staticClass:\"col col2\",attrs:{\"span\":8}},[_c('div',[_c('ul',[_c('li',[_vm._v(\"终端名：\"+_vm._s(_vm.detail.terminal_name))]),_c('li',[_vm._v(\"终端类型: \"+_vm._s(_vm.detail.terminal_type))]),_c('li',[_vm._v(\"客户端版本号：\"+_vm._s(_vm.detail.app_version))])])])]),_c('el-col',{staticClass:\"col col3\",attrs:{\"span\":8}},[_c('div',[_c('el-button',{attrs:{\"disabled\":_vm.prevDisabled},on:{\"click\":_vm.detailPrev}},[_vm._v(\" 上一条 \")]),_c('el-button',{attrs:{\"disabled\":_vm.nextDisabled,\"type\":\"primary\"},on:{\"click\":_vm.detailNext}},[_vm._v(\" 下一条 \")])],1)])],1),_c('div',{staticClass:\"item content\"},[_c('p',{staticStyle:{\"line-height\":\"30px\"}},[_vm._v(\" 反馈内容：\"),_c('br'),_vm._v(\" \"+_vm._s(_vm.detail.content)+\" \")])]),_c('div',{staticClass:\"item imgs\"},_vm._l((_vm.detail.img_list),function(item,index){return _c('img',{key:index,attrs:{\"src\":item,\"preview\":\"1\",\"preview-text\":\"\",\"alt\":\"\"}})}),0),(_vm.has_reply)?_c('div',[_c('p',[_vm._v(\"已回复：\")]),_c('p',[_vm._v(_vm._s(_vm.contentReply))])]):_vm._e(),(!_vm.has_reply)?_c('div',[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"回复\")])],1):_vm._e(),(_vm.dialogVisible)?_c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":\"请输入回复的内容\",\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入内容\",\"maxlength\":\"100\",\"show-word-limit\":\"\"},model:{value:(_vm.replyText),callback:function ($$v) {_vm.replyText=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"replyText\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.reply}},[_vm._v(\"回 复\")])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-content feedback-detail\">\n    <el-breadcrumb\n      separator=\"/\"\n      class=\"item\"\n    >\n      <el-breadcrumb-item>\n        <span @click=\"goList\">用户反馈中心</span>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>反馈详情</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-row class=\"item infos\">\n      <el-col\n        :span=\"8\"\n        class=\"col col1\"\n      >\n        <div>\n          <ul>\n            <li>反馈用户名：{{ detail.name }}</li>\n            <li>反馈用户手机号: {{ detail.uname }}</li>\n            <li>反馈时间：{{ detail.created_at }}</li>\n            <li>联系方式：{{ detail.contact }}</li>\n          </ul>\n        </div>\n      </el-col>\n      <el-col\n        :span=\"8\"\n        class=\"col col2\"\n      >\n        <div>\n          <ul>\n            <li>终端名：{{ detail.terminal_name }}</li>\n            <li>终端类型: {{ detail.terminal_type }}</li>\n            <li>客户端版本号：{{ detail.app_version }}</li>\n          </ul>\n        </div>\n      </el-col>\n      <el-col\n        :span=\"8\"\n        class=\"col col3\"\n      >\n        <div>\n          <el-button\n            :disabled=\"prevDisabled\"\n            @click=\"detailPrev\"\n          >\n            上一条\n          </el-button>\n          <el-button\n            :disabled=\"nextDisabled\"\n            type=\"primary\"\n            @click=\"detailNext\"\n          >\n            下一条\n          </el-button>\n        </div>\n      </el-col>\n    </el-row>\n    <div class=\"item content\">\n      <p style=\"line-height: 30px;\">\n        反馈内容：<br> {{ detail.content }}\n      </p>\n    </div>\n    <div class=\"item imgs\">\n      <img\n        v-for=\"(item, index) in detail.img_list\"\n        :key=\"index\"\n        :src=\"item\"\n        preview=\"1\"\n        preview-text=\"\"\n        alt=\"\"\n      >\n    </div>\n    <div v-if=\"has_reply\">\n      <p>已回复：</p>\n      <p>{{ contentReply }}</p>\n    </div>\n    <!--回复按钮-->\n    <div v-if=\"!has_reply\">\n      <el-button\n        type=\"primary\"\n        style=\"margin-top: 20px;\"\n        @click=\"dialogVisible = true\">回复</el-button>\n    </div>\n    <div v-if=\"dialogVisible\">\n      <el-dialog\n        :visible.sync=\"dialogVisible\"\n        title=\"请输入回复的内容\"\n        width=\"30%\">\n        <el-input\n          v-model.trim=\"replyText\"\n          type=\"textarea\"\n          placeholder=\"请输入内容\"\n          maxlength=\"100\"\n          show-word-limit\n        />\n        <span\n          slot=\"footer\"\n          class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button\n            type=\"primary\"\n            @click=\"reply\">回 复</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from '~/lib/http'\nimport * as URL from '~/lib/api'\nimport { mapGetters } from 'vuex'\nexport default {\n  components: {},\n  data () {\n    return {\n      detail: {},\n      prevDisabled: false,\n      nextDisabled: false,\n      dialogVisible: false,\n      replyText: '',\n      has_reply: false,\n      contentReply: ''\n    }\n  },\n  computed: {\n    ...mapGetters('feedback', ['queryOptionStorage', 'needQueryOptionStorage'])\n  },\n  watch: {\n    dialogVisible (val) {\n      if (!val) {\n        this.replyText = ''\n      }\n    }\n  },\n  mounted () {\n    // 点击列表页某条反馈进来\n    this.getFeedbackDetails(this.$route.params.id, 0)\n  },\n  methods: {\n    goList () {\n      // needQueryOptionStorage为true\n      this.$store.dispatch('feedback/setNeedQueryOptionStorage', true).then(() => {\n        this.$router.push({ name: 'feedbackList' })\n      })\n    },\n    getFeedbackDetails (detailId, is_forward) {\n      let params = null\n      if (is_forward === 0) {\n        // 点击列表某条反馈进来\n        params = {\n          id: detailId,\n          is_forward: is_forward\n        }\n      } else {\n        // 点击上一条下一条 is_forward为1或者2 请求详情要带上列表页的筛选条件(存储在queryOptionStorage)\n        params = {\n          id: detailId,\n          is_forward: is_forward,\n          keyword: this.queryOptionStorage.keyword,\n          is_read: this.queryOptionStorage.is_read,\n          start_time: this.queryOptionStorage.start_time,\n          end_time: this.queryOptionStorage.end_time\n        }\n      }\n      axios.post(URL.feedbackDetails, params).then(res => {\n        const result = res.data.result\n        this.prevDisabled = false\n        this.nextDisabled = false\n        this.has_reply = result.has_reply !== 0\n        this.contentReply = result.reply_content\n        if (result) {\n          this.detail = result\n          this.detail.img_list = result.img_list ? result.img_list.split(',') : []\n          this.$previewRefresh()\n        } else {\n          // 如果没有返回数据 所以是最前或者最后一条 不更新界面 只disable按钮\n          if (is_forward === 1) {\n            this.prevDisabled = true\n            this.$message('已经是最前面一条')\n          } else if (is_forward === 2) {\n            this.nextDisabled = true\n            this.$message('已经是最后面一条')\n          }\n        }\n      })\n    },\n    reply () {\n      if (!this.replyText) {\n        this.$message.warning('请输入内容')\n        return\n      }let obj = {\n        reply_content: this.replyText,\n        id: this.$route.params.id\n      }\n      axios.post(URL.feedbackReply, obj).then(res => {\n        if (res.data.code === 200) {\n          this.dialogVisible = false\n          this.getFeedbackDetails(this.$route.params.id, 0)\n        }\n      })\n    },\n    // 上一条\n    detailPrev () {\n      this.getFeedbackDetails(this.detail.id, 1)\n    },\n    // 下一条\n    detailNext () {\n      this.getFeedbackDetails(this.detail.id, 2)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../styles/_var.less\";\n.feedback-detail {\n  font-size: 14px;\n}\n.item {\n  overflow: hidden;\n  margin: 0 0 30px 0;\n}\n.col li {\n  margin: 0 0 12px 0;\n}\n.col1 {\n  border-right: 1px solid @borderColor;\n}\n.col2 {\n  padding: 0 0 0 40px;\n}\n.imgs img {\n  float: left;\n  width: 13%;\n  margin: 0 2% 20px 0;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=4f8aab06&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=less&\"","module.exports = (__webpack_require__(\"1c0f\"))(313);","module.exports = (__webpack_require__(\"1c0f\"))(306);","module.exports = (__webpack_require__(\"1c0f\"))(305);"],"sourceRoot":""}