(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73230bbc"],{"3ccb":function(t,a,e){"use strict";var i=e("4f3e"),s=e.n(i);s.a},"4cfd":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id,title:t.title}})},s=[],r=e("313e"),n=e.n(r),l={props:{className:{type:String,default:"chart"},title:{type:String,default:""},result:{type:Object,default:function(){return{}}},width:{type:String,default:"100%"},id:{type:String,default:"chart"},height:{type:String,default:"300px"},xAxisData:{type:Array,default:[1]},chartData:{type:Array,default:[1]},chartData2:{type:Array,default:null}},data:function(){return{chart:null,legendData:[],seriesData:[]}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t={title:{text:this.title,textStyle:{fontWeight:"bolder",fontSize:14,color:"#666666"},left:"1%"},tooltip:{trigger:"axis",axisPointer:{type:"line"}},legend:{show:!0,bottom:0,icon:"rect",itemWidth:14,itemHeight:5,itemGap:25,data:["单日","30日"],left:"center",textStyle:{fontSize:12}},grid:{top:50,left:"3%",right:"6%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:this.xAxisData}],yAxis:[{type:"value"}],series:[{name:"单日",type:"line",data:this.chartData}]};this.chartData2?t.series.push({name:"30日",type:"line",data:this.chartData2}):t.legend.show=!1,console.log(777,this.xAxisData),this.chart=n.a.init(document.getElementById(this.id)),this.chart.setOption(t)}}},o=l,c=e("2877"),h=Object(c["a"])(o,i,s,!1,null,null,null);a["a"]=h.exports},"4e82":function(t,a,e){t.exports=e("1c0f")(350)},"4f3e":function(t,a,e){},"5f10":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page-content config-page"},[e("el-row",[e("el-col",{staticClass:"col-280"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"data-list"},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:16}},[e("span",[t._v(t._s(t.DAUS.text))])])],1),e("div",[t._v(t._s(t.DAUS.totalCount))]),e("div",[t._v("截止到 "+t._s(t.DAUS.lastDate))])],1)])],1),e("el-col",{staticClass:"col-280"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"data-list"},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:16}},[e("span",[t._v(t._s(t.MAUS.text))])])],1),e("div",[t._v(t._s(t.MAUS.totalCount))]),e("div",[t._v("截止到 "+t._s(t.MAUS.lastDate))])],1)])],1),e("el-col",{staticClass:"col-280"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"data-list"},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:16}},[e("span",[t._v(t._s(t.DAFS.text))])])],1),e("div",[t._v(t._s(t.DAFS.totalCount))]),e("div",[t._v("截止到 "+t._s(t.DAFS.lastDate))])],1)])],1),e("el-col",{staticClass:"col-280"},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"data-list"},[e("el-row",{attrs:{gutter:24}},[e("el-col",{attrs:{span:16}},[e("span",[t._v(t._s(t.MAFS.text))])])],1),e("div",[t._v(t._s(t.MAFS.totalCount))]),e("div",[t._v("截止到 "+t._s(t.MAFS.lastDate))])],1)])],1)],1),e("el-row",{staticStyle:{"margin-top":"20px"}},[e("el-col",[e("el-form",{attrs:{inline:!0}},[e("el-form-item",[e("el-date-picker",{attrs:{clearable:!1,"picker-options":t.pickerOptions,placeholder:"请选择时间段",type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDate},model:{value:t.dateRange,callback:function(a){t.dateRange=a},expression:"dateRange"}})],1),e("el-form-item"),e("el-form-item",{staticStyle:{"margin-bottom":"0"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v(" 查询 ")])],1)],1)],1)],1),e("div",{staticClass:"network-equipment"},[e("el-card",{attrs:{shadow:"hover"}},[e("el-row",{attrs:{gutter:24}},[e("el-col",[e("line-chart2",{ref:"activeChart1",staticStyle:{height:"400px",width:"100%"},attrs:{id:"phoneControlTimes","x-axis-data":t.xAxisData,"chart-data":t.chartDataDayUser,"chart-data2":t.chartDataMonUser,title:"活跃用户数",rotate:"0"}})],1)],1)],1)],1),e("div",{staticClass:"network-equipment"},[e("el-card",{attrs:{shadow:"hover"}},[e("el-row",{attrs:{gutter:24}},[e("el-col",[e("line-chart2",{ref:"activeChart2",staticStyle:{height:"400px",width:"100%"},attrs:{id:"phoneControlTimes1","x-axis-data":t.xAxisData,"chart-data":t.chartDataDayFa,"chart-data2":t.chartDataMonFa,title:"活跃家庭数",rotate:"0"}})],1)],1)],1)],1)],1)},s=[],r=(e("4e82"),e("4cfd")),n=e("bc3a"),l=e.n(n),o=e("46f1"),c={components:{LineChart2:r["a"]},data:function(){return{formdata:{date:"",province:"",city:""},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",[e,a])}},{text:"最近7天",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",[e,a])}},{text:"最近30天",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-2592e6),t.$emit("pick",[e,a])}}]},DAUS:{totalCount:0,lastDate:null,text:"日活跃用户数"},MAUS:{totalCount:0,lastDate:null,text:"30日活跃用户数"},DAFS:{totalCount:0,lastDate:null,text:"日活跃家庭数"},MAFS:{totalCount:0,lastDate:null,text:"30日活跃家庭数"},xAxisData:[],chartDataDayUser:[],chartDataMonUser:[],chartDataDayFa:[],chartDataMonFa:[],dateRange:"",activeUser:[{name:"单日",type:"line",data:[3,45]},{name:"30日",type:"line",data:[2,16]}],activeFamily:[{name:"单日",type:"line",data:[1,10]},{name:"30日",type:"line",data:[6,17]}]}},mounted:function(){var t=new Date,a=new Date;t.setTime(t.getTime()-864e5),a.setTime(a.getTime()-2592e6),this.formdata.date=[a,t],this.DAUS.lastDate=this.formatDate(this.formdata.date[1]),this.MAUS.lastDate=this.formatDate(this.formdata.date[1]),this.DAFS.lastDate=this.formatDate(this.formdata.date[1]),this.MAFS.lastDate=this.formatDate(this.formdata.date[1]),this.getActiveAnalysis()},methods:{getActiveAnalysis:function(t){var a=this;l.a.post(o["b"],t).then((function(t){if(200===t.data.code){var e=t.data.result.data;console.log(e,"result"),a.DAUS.totalCount=e.summary.F_dau,a.MAUS.totalCount=e.summary.F_mau,a.DAFS.totalCount=e.summary.F_daf,a.MAFS.totalCount=e.summary.F_maf,a.filterChartData(e.detail_data),a.$refs.activeChart1.initChart(),a.$refs.activeChart2.initChart()}}))},changeDate:function(t){var a=t?t[0].getTime():"",e=t?t[1].getTime():"",i=e-a;this.isShowUnitMon=i>52704e5,this.isShowUnitWeek=i>12096e5},onCitySelect:function(t){this.formdata.province=t[0],this.formdata.city=t[1]},search:function(){this.reset();var t={start_time:this.dateRange[0].Format("yyyy-MM-dd"),end_time:this.dateRange[1].Format("yyyy-MM-dd")};console.log(777,t),this.getActiveAnalysis(t)},formatDate:function(t){var a=function(t){return t+="",1===t.length?"0"+t:t};return t?t.getFullYear()+"-"+a(t.getMonth()+1)+"-"+a(t.getDate()):""},filterChartData:function(t){for(var a in t)this.xAxisData.push(a),this.chartDataDayUser.push(t[a][0].F_dau),this.chartDataMonUser.push(t[a][0].F_daf),this.chartDataDayFa.push(t[a][0].F_mau),this.chartDataMonFa.push(t[a][0].F_maf);console.log(88,this.xAxisData.sort())},reset:function(){this.xAxisData=[],this.chartDataDayUser=[],this.chartDataMonUser=[],this.chartDataDayFa=[],this.chartDataMonFa=[]}}},h=c,d=(e("3ccb"),e("2877")),u=Object(d["a"])(h,i,s,!1,null,"633ea75c",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-73230bbc.a44e8caf.js.map