{"version":3,"sources":["webpack:///./src/pages/upgradeCenter/versionManagerForSC.vue?712f","webpack:///./src/pages/upgradeCenter/versionManagerForSC.vue?94be","webpack:///src/pages/upgradeCenter/versionManagerForSC.vue","webpack:///./src/pages/upgradeCenter/versionManagerForSC.vue?bba0","webpack:///./src/pages/upgradeCenter/versionManagerForSC.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","attrs","versionsFirst","tableData","_l","item","key","prop","label","scopedSlots","_u","fn","scope","_v","_s","row","getStatusText","status","getForceText","force","formatTime","on","$event","gotoHistoryList","firstTableShow","_e","openImportLayer","openFilterFormLayer","backToList","inputType","deviceRouterChange","model","callback","$$v","activeName","versionList","getTypeText","type","os_type","getPreReleaseText","is_pre_release","getGrayStatus","gray","getVersionDetail","openSupportLayer","openVersionEdit","startStopVerion","getOperateLog","rollBackVersion","deleteVersion","totalItem_two","currentPage_two","pageChange_two","filterPopoverFlag","ref","brandIDOptions","typeIDOptions","productIDOptions","product","router","filterVersions","infoBoxFlag","ruleFormDetail","currentDetailObj","addEditFlag","importBoxFlag","editDataObj","releasedFlag","routerPidList","importSubmit","pushBoxFlag","pushDataObj","pushUpdate","operateLogLayer","operateLogList","slot","supportLayer","staticRenderFns","components","version_detail","operate_log","filters","typeToString","x","forceToString","statusToString","data","info","totalItem","currentPage","filterTypeOptions","listParams","method","page","limit","level","terminalOptions","versionOptions","osOptions","title","description","version","size","note","download_file_md5","download_url_object","img_url_object","created_at","updated_at","release_time","rulesDetail","suportDevice","pushHistoryList","secondTitle","currentDataObj","mappingData","os_type_text","1","4","6","13","device_type_text","2","3","5","7","0","computed","watch","curVal","length","brand","map","brand_name","brand_id","mounted","$store","dispatch","namespace","getVersionList","methods","$nextTick","val","initBrandIDOptions","dataObj","cur_os_type","product_id","router_pid","obj","currentData","$refs","resetImportForm","renderEditData","result","code","items","resetList","filterClearAll","rowChosed","openPushLayer","pageChange","getVersionHistory","total","Object","assign","setFirstVersionList","attr","indexOf","push","text","getStatusTextPush","getVersionHistoryList","getVersionTitle","getPidName","component"],"mappings":"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","file":"js/chunk-3d7cead4.d1e68c5a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerForSC.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerForSC.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\"},[_c('el-table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.firstTableShow),expression:\"firstTableShow\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.versionsFirst.tableData}},[_vm._l((_vm.versionsFirst.tableColumn),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"prop\":item.prop,\"label\":item.label,\"width\":'auto'},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(item.prop === 'type')?_c('div',[_vm._v(\" \"+_vm._s(scope.row.key)+\" \")]):(item.prop === 'status')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getStatusText(scope.row.status))+\" \")]):(item.prop === 'force')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getForceText(scope.row.force))+\" \")]):(item.prop === 'release_time')?_c('div',[_vm._v(\" \"+_vm._s(_vm.formatTime(scope.row['release_time']))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(scope.row[item.prop])+\" \")])]}}],null,true)})}),_c('el-table-column',{attrs:{\"width\":\"180\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.gotoHistoryList(scope.row,1)}}},[_vm._v(\" 查看版本列表 \")])]}}])})],2),(!_vm.firstTableShow)?_c('div',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button-group',[_c('el-button',{on:{\"click\":_vm.openImportLayer}},[_vm._v(\" 录入版本 \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_c('el-button',{on:{\"click\":_vm.openFilterFormLayer}},[_vm._v(\" 匹配搜索 \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1)],1)],1),_c('div',{staticClass:\"p-r\",staticStyle:{\"height\":\"40px\",\"padding-top\":\"10px\"}},[_c('el-button',{staticClass:\"btn-back\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.backToList}},[_vm._v(\" 返回上一级 \")]),(_vm.inputType === 3 || _vm.inputType === 8)?[_c('el-tabs',{on:{\"tab-click\":_vm.deviceRouterChange},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"子设备列表\",\"name\":\"devices\"}}),_c('el-tab-pane',{attrs:{\"label\":\"子路由列表\",\"name\":\"routers\"}})],1)]:_vm._e()],2),_c('el-table',{staticStyle:{\"width\":\"100%\",\"border-top\":\"0 none\"},attrs:{\"data\":_vm.versionList.tableData}},[_vm._l((_vm.versionList.tableColumn),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"prop\":item.prop,\"label\":item.label,\"width\":'auto'},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(item.prop === 'type')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getTypeText(scope.row.type, scope.row.os_type))+\" \")]):(item.prop === 'status')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getStatusText(scope.row.status))+\" \")]):(item.prop === 'force')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getForceText(scope.row.force))+\" \")]):(item.prop === 'is_pre_release')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getPreReleaseText(scope.row.is_pre_release))+\" \")]):(item.prop === 'gray')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getGrayStatus[scope.row.gray])+\" \")]):(item.prop === 'release_time')?_c('div',[_vm._v(\" \"+_vm._s(_vm.formatTime(scope.row['release_time']))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(scope.row[item.prop])+\" \")])]}}],null,true)})}),_c('el-table-column',{attrs:{\"width\":250,\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getVersionDetail(scope.row)}}},[_vm._v(\" 查看 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openSupportLayer(scope.row)}}},[_vm._v(\" 支持版本 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openVersionEdit(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.startStopVerion(scope.row)}}},[_vm._v(\" \"+_vm._s(scope.row['status']?'禁用':'启用')+\" \")]),_c('br'),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getOperateLog(scope.row)}}},[_vm._v(\" 操作日志 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.rollBackVersion(scope.row)}}},[_vm._v(\" 回滚 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteVersion(scope.row)}}},[_vm._v(\" 删除 \")])]}}],null,false,846303109)})],2),_c('div',{staticClass:\"page-line\"},[_c('el-pagination',{attrs:{\"total\":_vm.totalItem_two,\"page-size\":10,\"current-page\":_vm.currentPage_two,\"small\":\"\",\"layout\":\"prev, pager, next\"},on:{\"update:currentPage\":function($event){_vm.currentPage_two=$event},\"update:current-page\":function($event){_vm.currentPage_two=$event},\"current-change\":_vm.pageChange_two}})],1)],1):_vm._e(),_c('el-dialog',{attrs:{\"visible\":_vm.filterPopoverFlag,\"title\":\"版本匹配搜索\"},on:{\"update:visible\":function($event){_vm.filterPopoverFlag=$event}}},[_c('filter-form',{key:\"filterForms\",ref:\"filterForms\",attrs:{\"type\":_vm.type,\"brand-idoptions\":_vm.brandIDOptions,\"type-idoptions\":_vm.typeIDOptions,\"product-idoptions\":_vm.productIDOptions,\"input-type\":_vm.inputType,\"product\":_vm.product,\"router\":_vm.router},on:{\"filterVersionsParent\":_vm.filterVersions,\"closeFilterBox\":function($event){_vm.filterPopoverFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.infoBoxFlag,\"title\":\"版本详情\"},on:{\"update:visible\":function($event){_vm.infoBoxFlag=$event}}},[_c('version_detail',{ref:\"versionDetails\",attrs:{\"rule-form-detail\":_vm.ruleFormDetail,\"device-obj\":_vm.currentDetailObj}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.infoBoxFlag=false}}},[_vm._v(\" 确定 \")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.addEditFlag ? '录入版本':'编辑版本',\"visible\":_vm.importBoxFlag},on:{\"update:visible\":function($event){_vm.importBoxFlag=$event}}},[_c('version-input',{key:\"versionInputs\",ref:\"versionInputs\",attrs:{\"brand-i-d-options\":_vm.brandIDOptions,\"type-idoptions\":_vm.typeIDOptions,\"product-idoptions\":_vm.productIDOptions,\"input-type\":_vm.inputType,\"product\":_vm.product,\"type\":_vm.type,\"os_type\":_vm.os_type,\"add-edit-flag\":_vm.addEditFlag,\"edit-data-obj\":_vm.editDataObj,\"released-flag\":_vm.releasedFlag,\"router-pid-list\":_vm.routerPidList,\"active-name\":_vm.activeName},on:{\"importSubmitParent\":_vm.importSubmit,\"closeImportBox\":function($event){_vm.importBoxFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.pushBoxFlag,\"title\":\"推送升级\"},on:{\"update:visible\":function($event){_vm.pushBoxFlag=$event}}},[_c('push-update',{ref:\"pushUpdates\",attrs:{\"type\":_vm.type,\"input-type\":_vm.inputType,\"push-data-obj\":_vm.pushDataObj},on:{\"pushUpdateParent\":_vm.pushUpdate,\"closePushBox\":function($event){_vm.pushBoxFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.operateLogLayer,\"title\":\"操作日志\"},on:{\"update:visible\":function($event){_vm.operateLogLayer=$event}}},[_c('operate_log',{attrs:{\"operate-log-list\":_vm.operateLogList}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"border\":\"none\"},on:{\"click\":function($event){_vm.operateLogLayer = false}}},[_vm._v(\"取 消\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.supportLayer,\"title\":\"支持版本\"},on:{\"update:visible\":function($event){_vm.supportLayer=$event}}},[_c('version-mapping',{ref:\"supportLayer\",attrs:{\"input-type\":_vm.inputType}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"border\":\"none\"},on:{\"click\":function($event){_vm.supportLayer = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-content config-page\">\r\n    <!--固定版本列表-->\r\n    <el-table\r\n      v-show=\"firstTableShow\"\r\n      :data=\"versionsFirst.tableData\"\r\n      style=\"width: 100%\"\r\n    >\r\n      <el-table-column\r\n        v-for=\"item in versionsFirst.tableColumn\"\r\n        :key=\"item.prop\"\r\n        :prop=\"item.prop\"\r\n        :label=\"item.label\"\r\n        :width=\"'auto'\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <div v-if=\"item.prop === 'type'\">\r\n            {{ scope.row.key }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'status'\">\r\n            {{ getStatusText(scope.row.status) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'force'\">\r\n            {{ getForceText(scope.row.force) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'release_time'\">\r\n            {{ formatTime(scope.row['release_time']) }}\r\n          </div>\r\n          <div v-else>\r\n            {{ scope.row[item.prop] }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        width=\"180\"\r\n        label=\"操作\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"gotoHistoryList(scope.row,1)\"\r\n          >\r\n            查看版本列表\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div v-if=\"!firstTableShow\">\r\n      <!--顶部tab-->\r\n      <el-row\r\n        type=\"flex\"\r\n        justify=\"space-between\"\r\n      >\r\n        <el-col :span=\"12\">\r\n          <el-button-group>\r\n            <el-button @click=\"openImportLayer\">\r\n              录入版本\r\n              <i class=\"el-icon-caret-bottom\" />\r\n            </el-button>\r\n            <el-button @click=\"openFilterFormLayer\">\r\n              匹配搜索\r\n              <i class=\"el-icon-caret-bottom\" />\r\n            </el-button>\r\n            <!--<el-button @click=\"openPushLayer\">推送升级 <i class=\"el-icon-caret-bottom\"></i></el-button>-->\r\n          </el-button-group>\r\n        </el-col>\r\n      </el-row>\r\n      <div\r\n        class=\"p-r\"\r\n        style=\"height: 40px; padding-top: 10px\"\r\n      >\r\n        <!--<div style=\"line-height: 40px; height: 40px\">{{secondTitle}}</div>-->\r\n        <el-button\r\n          type=\"text\"\r\n          class=\"btn-back\"\r\n          @click=\"backToList\"\r\n        >\r\n          返回上一级\r\n        </el-button>\r\n        <template v-if=\"inputType === 3 || inputType === 8\">\r\n          <el-tabs\r\n            v-model=\"activeName\"\r\n            @tab-click=\"deviceRouterChange\"\r\n          >\r\n            <el-tab-pane\r\n              label=\"子设备列表\"\r\n              name=\"devices\"\r\n            />\r\n            <el-tab-pane\r\n              label=\"子路由列表\"\r\n              name=\"routers\"\r\n            />\r\n          </el-tabs>\r\n        </template>\r\n      </div>\r\n      <!--子设备列表-->\r\n      <el-table\r\n        :data=\"versionList.tableData\"\r\n        style=\"width: 100%; border-top:0 none\"\r\n      >\r\n        <el-table-column\r\n          v-for=\"item in versionList.tableColumn\"\r\n          :key=\"item.prop\"\r\n          :prop=\"item.prop\"\r\n          :label=\"item.label\"\r\n          :width=\"'auto'\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <div v-if=\"item.prop === 'type'\">\r\n              {{ getTypeText(scope.row.type, scope.row.os_type) }}\r\n            </div>\r\n            <div v-else-if=\"item.prop === 'status'\">\r\n              {{ getStatusText(scope.row.status) }}\r\n            </div>\r\n            <div v-else-if=\"item.prop === 'force'\">\r\n              {{ getForceText(scope.row.force) }}\r\n            </div>\r\n            <div v-else-if=\"item.prop === 'is_pre_release'\">\r\n              {{ getPreReleaseText(scope.row.is_pre_release) }}\r\n            </div>\r\n            <div v-else-if=\"item.prop === 'gray'\">\r\n              {{ getGrayStatus[scope.row.gray] }}\r\n            </div>\r\n            <div v-else-if=\"item.prop === 'release_time'\">\r\n              {{ formatTime(scope.row['release_time']) }}\r\n            </div>\r\n            <div v-else>\r\n              {{ scope.row[item.prop] }}\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          :width=\"250\"\r\n          label=\"操作\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"getVersionDetail(scope.row)\"\r\n            >\r\n              查看\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"openSupportLayer(scope.row)\"\r\n            >\r\n              支持版本\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"openVersionEdit(scope.row)\"\r\n            >\r\n              编辑\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"startStopVerion(scope.row)\"\r\n            >\r\n              {{ scope.row['status']?'禁用':'启用' }}\r\n            </el-button>\r\n            <br>\r\n            <!-- <el-button type=\"text\" size=\"small\" @click=\"openPushLayer(scope.row)\">推送</el-button> -->\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"getOperateLog(scope.row)\"\r\n            >\r\n              操作日志\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"rollBackVersion(scope.row)\"\r\n            >\r\n              回滚\r\n            </el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              @click=\"deleteVersion(scope.row)\"\r\n            >\r\n              删除\r\n            </el-button>\r\n            <!-- <el-button type=\"text\" size=\"small\" @click=\"getVersionHistory(scope.row,1)\">查看版本列表</el-button> -->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"page-line\">\r\n        <el-pagination\r\n          :total=\"totalItem_two\"\r\n          :page-size=\"10\"\r\n          :current-page.sync=\"currentPage_two\"\r\n          small\r\n          layout=\"prev, pager, next\"\r\n          @current-change=\"pageChange_two\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!--版本匹配搜索-->\r\n    <el-dialog\r\n      :visible.sync=\"filterPopoverFlag\"\r\n      title=\"版本匹配搜索\"\r\n    >\r\n      <filter-form\r\n        key=\"filterForms\"\r\n        ref=\"filterForms\"\r\n        :type=\"type\"\r\n        :brand-idoptions=\"brandIDOptions\"\r\n        :type-idoptions=\"typeIDOptions\"\r\n        :product-idoptions=\"productIDOptions\"\r\n        :input-type=\"inputType\"\r\n        :product=\"product\"\r\n        :router=\"router\"\r\n        @filterVersionsParent=\"filterVersions\"\r\n        @closeFilterBox=\"filterPopoverFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--版本详情-->\r\n    <el-dialog\r\n      :visible.sync=\"infoBoxFlag\"\r\n      title=\"版本详情\"\r\n    >\r\n      <version_detail\r\n        ref=\"versionDetails\"\r\n        :rule-form-detail=\"ruleFormDetail\"\r\n        :device-obj=\"currentDetailObj\"\r\n      />\r\n      <div style=\"text-align: right; margin: 0\">\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"infoBoxFlag=false\"\r\n        >\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!--版本录入-->\r\n    <el-dialog\r\n      :title=\"addEditFlag ? '录入版本':'编辑版本'\"\r\n      :visible.sync=\"importBoxFlag\"\r\n    >\r\n      <version-input\r\n        key=\"versionInputs\"\r\n        ref=\"versionInputs\"\r\n        :brand-i-d-options=\"brandIDOptions\"\r\n        :type-idoptions=\"typeIDOptions\"\r\n        :product-idoptions=\"productIDOptions\"\r\n        :input-type=\"inputType\"\r\n        :product=\"product\"\r\n        :type=\"type\"\r\n        :os_type=\"os_type\"\r\n        :add-edit-flag=\"addEditFlag\"\r\n        :edit-data-obj=\"editDataObj\"\r\n        :released-flag=\"releasedFlag\"\r\n        :router-pid-list=\"routerPidList\"\r\n        :active-name=\"activeName\"\r\n        @importSubmitParent=\"importSubmit\"\r\n        @closeImportBox=\"importBoxFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--推送升级-->\r\n    <el-dialog\r\n      :visible.sync=\"pushBoxFlag\"\r\n      title=\"推送升级\"\r\n    >\r\n      <push-update\r\n        ref=\"pushUpdates\"\r\n        :type=\"type\"\r\n        :input-type=\"inputType\"\r\n        :push-data-obj=\"pushDataObj\"\r\n        @pushUpdateParent=\"pushUpdate\"\r\n        @closePushBox=\"pushBoxFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--操作日志-->\r\n    <el-dialog\r\n      :visible.sync=\"operateLogLayer\"\r\n      title=\"操作日志\"\r\n    >\r\n      <operate_log :operate-log-list=\"operateLogList\" />\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button\r\n          style=\"border:none;\"\r\n          @click=\"operateLogLayer = false\"\r\n        >取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!--支持版本-->\r\n    <el-dialog\r\n      :visible.sync=\"supportLayer\"\r\n      title=\"支持版本\"\r\n    >\r\n      <version-mapping\r\n        ref=\"supportLayer\"\r\n        :input-type=\"inputType\"\r\n      />\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button\r\n          style=\"border:none;\"\r\n          @click=\"supportLayer = false\"\r\n        >取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as namespace from '../../store/namespace'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport '../../lib/util.js'\r\nimport version_first_json from '../../json/versions.json'\r\nimport versions_children_json from '../../json/versionsChildren.json'\r\nimport operation_log_json from '../../json/operateLogList.json'\r\nimport version_input from './component/versionInputLayer.vue'\r\nimport push_update from './component/pushUpdateLayer.vue'\r\n// import version_edit from \"./component/versionEdit.vue\";\r\nimport version_detail from './component/versionDetail.vue'\r\nimport operate_log from './component/operateLogs.vue'\r\nimport filter_form from './component/filterLayer.vue'\r\nimport version_mapping from './component/versionMapping.vue'\r\nimport API from '../../service/index'\r\nexport default {\r\n  components: {\r\n    'version-input': version_input,\r\n    'push-update': push_update,\r\n    // version_edit: version_edit,\r\n    version_detail: version_detail,\r\n    operate_log: operate_log,\r\n    'filter-form': filter_form,\r\n    'version-mapping': version_mapping\r\n  },\r\n  filters: {\r\n    typeToString (x) {\r\n      if (x * 1 === 1) {\r\n        return 'APP'\r\n      } else if (x * 1 === 2) {\r\n        return '路由器'\r\n      } else if (x * 1 === 3) {\r\n        return '子设备'\r\n      } else {\r\n        return '未知'\r\n      }\r\n    },\r\n    forceToString (x) {\r\n      return x ? '是' : '否'\r\n    },\r\n    statusToString (x) {\r\n      return x ? '启用' : '停用'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      supportLayer: false,\r\n      firstTableShow: true,\r\n      pushBoxFlag: false,\r\n      info: {},\r\n      importBoxFlag: false,\r\n      filterPopoverFlag: false,\r\n      infoBoxFlag: false,\r\n      totalItem: 0,\r\n      totalItem_two: 0,\r\n      currentPage: 1,\r\n      currentPage_two: 1,\r\n      filterTypeOptions: [\r\n        {\r\n          value: 2,\r\n          label: '路由器'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '子设备'\r\n        }\r\n      ],\r\n      brandIDOptions: [],\r\n      typeIDOptions: [],\r\n      productIDOptions: [],\r\n      listParams: {\r\n        method: 'list_versions',\r\n        page: 1,\r\n        limit: 10,\r\n        level: 1\r\n      },\r\n      terminalOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      versionOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      osOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      versionsFirst: {},\r\n      versionList: {},\r\n      inputType: '',\r\n      ruleFormDetail: {\r\n        title: '',\r\n        description: '',\r\n        version: '',\r\n        type: '',\r\n        force: '',\r\n        size: '',\r\n        note: '',\r\n        status: '',\r\n        download_file_md5: '',\r\n        download_url_object: '',\r\n        img_url_object: '',\r\n        created_at: '',\r\n        updated_at: '',\r\n        release_time: ''\r\n      },\r\n      rulesDetail: {},\r\n      suportDevice: [],\r\n      pushHistoryList: {},\r\n      pushDataObj: {},\r\n      secondTitle: '',\r\n      currentDataObj: {},\r\n      currentDetailObj: {},\r\n      operateLogLayer: false,\r\n      operateLogList: {},\r\n      addEditFlag: true,\r\n      editDataObj: {},\r\n      releasedFlag: false, // 已发布/未发布标识 || 版本编辑，已发布版本只能编辑几个字段\r\n      mappingData: {}, // 各设备对应映射关系\r\n      router: [],\r\n      os_type: '',\r\n      routerPidList: [],\r\n      os_type_text: {\r\n        1: 'android_app',\r\n        4: 'ios_app',\r\n        6: 'android_pad',\r\n        13: 'lua_app'\r\n      },\r\n      device_type_text: {\r\n        2: '路由器',\r\n        3: '子设备',\r\n        5: 'H5',\r\n        7: 'Android system'\r\n      },\r\n      getGrayStatus: {\r\n        0: '无',\r\n        1: '白名单',\r\n        2: '黑名单',\r\n        3: '全量'\r\n      },\r\n      activeName: 'devices'\r\n    }\r\n  },\r\n  ...mapActions([\r\n    'getVersions',\r\n    'selectVersion',\r\n    'importSubmitAction',\r\n    'pushUpdateAction',\r\n    'getVersionDetailAction',\r\n    'pubilcCorsAction'\r\n  ]),\r\n  computed: {\r\n    ...mapGetters({\r\n      brand: namespace.BRAND,\r\n      type: namespace.TYPE,\r\n      product: namespace.PRODUCT\r\n    })\r\n  },\r\n  watch: {\r\n    filterPopoverFlag (curVal, oldVal) {\r\n      if (curVal) {\r\n        if (!this.brandIDOptions.length) {\r\n          this.brandIDOptions = this.brand.map(x => {\r\n            return {\r\n              label: x.brand_name,\r\n              value: x.brand_id\r\n            }\r\n          })\r\n        }\r\n        this.versionOptions = this.router\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    //        this.$store.dispatch({\r\n    //            type: namespace.INITAPPIOS\r\n    //        })\r\n    //        this.$store.dispatch({\r\n    //            type: namespace.INITAPPANDROID\r\n    //        })\r\n    //\t\tthis.$store.dispatch({\r\n    //\t\t\ttype: namespace.INITROUTER\r\n    //\t\t})\r\n    this.$store.dispatch({\r\n      type: namespace.INITPRODUCT\r\n    })\r\n    this.getVersionList(1)\r\n  },\r\n  methods: {\r\n    openSupportLayer (dataObj) {\r\n      this.supportLayer = true\r\n      this.$nextTick(() => {\r\n        this.$refs['supportLayer'].renderData(dataObj)\r\n      })\r\n    },\r\n    openFilterFormLayer () {\r\n      this.filterPopoverFlag = true\r\n      this.$nextTick(() => {\r\n        this.$refs['filterForms'].resetFilterForm()\r\n      })\r\n    },\r\n    formatTime (val) {\r\n      if (!val) {\r\n        return '------'\r\n      } else {\r\n        return val\r\n        //                let date = new Date(val*1000)\r\n        //                return date.Format('yyyy-MM-dd hh:mm:ss')\r\n      }\r\n    },\r\n    openVersionEdit (dataObj) {\r\n      this.initBrandIDOptions()\r\n      this.filterPopoverFlag = false\r\n      let cur_os_type = ''\r\n      if (dataObj.os_type) {\r\n        switch (dataObj.os_type) {\r\n          case 1:\r\n            cur_os_type = 'android_app'\r\n            break\r\n          case 4:\r\n            cur_os_type = 'ios_app'\r\n            break\r\n          case 6:\r\n            cur_os_type = 'android_pad'\r\n            break\r\n          default:\r\n            cur_os_type = dataObj.os_type\r\n            break\r\n        }\r\n      }\r\n\r\n      const param = {\r\n        method: 'version_detail',\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id || '',\r\n        os_type: cur_os_type,\r\n        router_pid: dataObj.router_pid || ''\r\n      }\r\n      let obj = this\r\n      API.pubilcCorsAction(param).then(result => {\r\n        const currentData = result.result\r\n        obj.releasedFlag = currentData.status === 1\r\n        obj.addEditFlag = false\r\n        obj.editDataObj = currentData\r\n        obj.importBoxFlag = true\r\n        obj.$nextTick(() => {\r\n          obj.$refs['versionInputs'].resetImportForm()\r\n          obj.$refs['versionInputs'].renderEditData()\r\n        })\r\n      })\r\n    },\r\n    // 禁用、启用\r\n    startStopVerion (dataObj) {\r\n      const obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          const param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            os_type: obj.os_type_text[dataObj.os_type] || '',\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id,\r\n            router_pid: dataObj.router_pid,\r\n            method: dataObj['status'] ? 'disable' : 'enable'\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '操作成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 操作日志\r\n    getOperateLog (dataObj) {\r\n      this.operateLogLayer = true\r\n      this.operateLogList = operation_log_json\r\n      let obj = this\r\n      let param = {\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id,\r\n        method: 'history_operation_logs'\r\n      }\r\n      API.pubilcCorsAction(param).then(result => {\r\n        if (result.code === 0) {\r\n          obj.operateLogList.tableData = result.result.items\r\n        }\r\n      })\r\n    },\r\n    // 删除\r\n    deleteVersion (dataObj) {\r\n      const obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          const param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id || '',\r\n            os_type: obj.os_type_text[dataObj.os_type] || '',\r\n            router_pid: dataObj.router_pid || '',\r\n            method: 'del_version'\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 回滚\r\n    rollBackVersion (dataObj) {\r\n      const obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          const param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id,\r\n            method: 'rollback',\r\n            os_type: obj.os_type_text[dataObj.os_type] || ''\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '回滚成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 获取详情\r\n    getVersionDetail (dataObj) {\r\n      this.infoBoxFlag = true\r\n      this.currentDetailObj = dataObj\r\n      let param = {\r\n        method: 'version_detail',\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id || '',\r\n        os_type: this.os_type_text[dataObj.os_type] || '',\r\n        router_pid: dataObj.router_pid || ''\r\n      }\r\n      let obj = this\r\n      API.pubilcCorsAction(param).then(result => {\r\n        obj.ruleFormDetail = result.result\r\n        // let datas = result.result;\r\n        // let form = obj.ruleFormDetail;\r\n        // for (let attr in form) {\r\n        //     form[attr] = datas[attr];\r\n        // }\r\n      })\r\n      obj.$nextTick(() => {\r\n        obj.$refs['versionDetails'].resetList()\r\n      })\r\n    },\r\n    filterClearAll () {\r\n      //\t\t\tfor (let name in this.filterForm) {\r\n      //\t\t\t\tthis.filterForm[name] = '';\r\n      //\t\t\t}\r\n    },\r\n    rowChosed (scope) {\r\n      this.infoBoxFlag = true\r\n      this.info = scope.row\r\n    },\r\n    initBrandIDOptions () {\r\n      if (!this.brandIDOptions.length) {\r\n        this.brandIDOptions = this.brand.map(x => {\r\n          return {\r\n            label: x.brand_name,\r\n            value: x.brand_id\r\n          }\r\n        })\r\n      }\r\n    },\r\n    openImportLayer () {\r\n      this.addEditFlag = true\r\n      this.releasedFlag = false\r\n      this.initBrandIDOptions()\r\n      this.importBoxFlag = true\r\n      this.filterPopoverFlag = false\r\n      this.$nextTick(() => {\r\n        this.$refs['versionInputs'].resetImportForm()\r\n      })\r\n    },\r\n    openPushLayer (dataObj) {\r\n      this.pushDataObj = dataObj\r\n      this.initBrandIDOptions()\r\n      this.pushBoxFlag = true\r\n      this.$nextTick(() => {\r\n        this.$refs['pushUpdates'].resetPushForm()\r\n      })\r\n    },\r\n    // 版本录入\r\n    importSubmit (params) {\r\n      API.pubilcCorsAction(params).then(result => {\r\n        if (result.code === 0) {\r\n          this.$message.success(this.addEditFlag ? '录入成功' : '编辑成功')\r\n          this.importBoxFlag = false\r\n          this.getVersionList(1)\r\n        }\r\n      })\r\n    },\r\n    // 推送升级\r\n    pushUpdate (params) {\r\n      API.pubilcCorsAction(params).then(result => {\r\n        if (result.code === 0) {\r\n          this.$message.success('推送成功')\r\n          this.pushBoxFlag = false\r\n          this.getVersionList(1)\r\n        }\r\n      })\r\n    },\r\n    pageChange () {\r\n      this.getVersionList(this.currentPage)\r\n    },\r\n    pageChange_two () {\r\n      this.getVersionHistory(this.currentDataObj, this.currentPage_two)\r\n    },\r\n    // 版本匹配搜索\r\n    filterVersions (params) {\r\n      const obj = this\r\n      API.pubilcCorsAction(params).then(result => {\r\n        if (result.code === 0) {\r\n          obj.filterPopoverFlag = false\r\n          obj.firstTableShow = false\r\n          let currentData = result.result\r\n          obj.versionList.tableData = currentData.items\r\n          obj.versionList = versions_children_json\r\n          obj.totalItem = currentData.page.total\r\n        }\r\n      })\r\n    },\r\n    // 获取所有版本列表\r\n    getVersionList (page) {\r\n      // this.filterParams.token = this.token\r\n      this.listParams.page = page\r\n      this.versionsFirst = Object.assign({}, version_first_json)\r\n      const obj = this\r\n      API.getVersionsForSC(obj.listParams).then(result => {\r\n        if (result.code === 0) {\r\n          obj.firstTableShow = true\r\n          obj.$nextTick(() => {\r\n            const currentData = result.result\r\n            if (!(obj.versionsFirst.tableData && obj.versionsFirst.tableData.length)) {\r\n              obj.setFirstVersionList(currentData)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 渲染首列数据\r\n    setFirstVersionList (dataObj) {\r\n      this.versionsFirst.tableData = []\r\n      for (const attr in dataObj) {\r\n        dataObj[attr].key = attr\r\n        // 后台bug，前端强制改变type\r\n        dataObj[attr].type = attr.indexOf('plugin') >= 0 ? 10 : 9\r\n        this.versionsFirst.tableData.push(dataObj[attr])\r\n      }\r\n    },\r\n    getTypeText (type, os_type) {\r\n      let text = ''\r\n      if (type === 1) {\r\n        text = os_type\r\n      } else {\r\n        text = this.device_type_text[type]\r\n      }\r\n      return text\r\n    },\r\n    getStatusTextPush (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '成功'\r\n          break\r\n        case 0:\r\n          text = '失败'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getStatusText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '有效'\r\n          break\r\n        case 0:\r\n          text = '无效'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getForceText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 3:\r\n          text = '不弹窗升级'\r\n          break\r\n        case 1:\r\n          text = '强制升级'\r\n          break\r\n        case 0:\r\n          text = '不强制'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getPreReleaseText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '灰度版本'\r\n          break\r\n        case 0:\r\n          text = '正式版本'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    // 历史版本\r\n    getVersionHistoryList (page, dataObj) {\r\n      // this.listParams.page = page\r\n      const param = {\r\n        page: page,\r\n        limit: 10,\r\n        level: 2,\r\n        os_type: this.os_type_text[dataObj.os_type] || '',\r\n        type: dataObj.type\r\n      }\r\n      const obj = this\r\n      API.getVersionsForSC(param).then(result => {\r\n        if (result.code === 0) {\r\n          const currentData = result.result\r\n          obj.firstTableShow = false\r\n          versions_children_json.tableData = currentData.items\r\n          obj.versionList = Object.assign({}, versions_children_json)\r\n          obj.totalItem_two = currentData.page.total\r\n        }\r\n      })\r\n    },\r\n    getVersionHistory (dataObj, page) {\r\n      this.currentDataObj = dataObj // 此操作是为了进入列表，进行各种操作时需要重新刷新列表\r\n      this.inputType = dataObj.type\r\n      // this.os_type = dataObj.os_type || \"\";\r\n      this.os_type = this.os_type_text[dataObj.os_type] || ''\r\n      this.secondTitle = this.getVersionTitle(dataObj)\r\n      this.getVersionHistoryList(page, dataObj)\r\n    },\r\n    gotoHistoryList (dataObj, page) {\r\n      if (dataObj.type === 3) {\r\n        this.activeName = 'devices'\r\n      }\r\n      this.currentPage_two = page\r\n      this.getVersionHistory(dataObj, page)\r\n    },\r\n    getVersionTitle (dataObj) {\r\n      let title = ''\r\n      if (dataObj.name) {\r\n        title = dataObj.name + '-版本历史'\r\n      } else {\r\n        if (dataObj.type === 3) {\r\n          title = '子设备-' + dataObj.product_id + '-版本历史'\r\n        } else if (dataObj.type === 5) {\r\n          title = 'H5-' + dataObj.product_id + '-版本历史'\r\n        }\r\n      }\r\n      return title\r\n    },\r\n    backToList () {\r\n      this.getVersionList(1)\r\n    },\r\n    getPidName (dataObj) {\r\n      if (dataObj.type === 3 || dataObj.type === 8 || dataObj.type === 5) {\r\n        if (dataObj.product_id) {\r\n          return '--' + dataObj.product_id\r\n        } else {\r\n          return ''\r\n        }\r\n      } else if (dataObj.type === 2) {\r\n        if (dataObj.router_pid) {\r\n          return '--' + dataObj.router_pid\r\n        } else {\r\n          return ''\r\n        }\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 子设备/子路由切换\r\n    deviceRouterChange () {\r\n      this.currentDataObj.type = this.activeName === 'devices' ? 3 : 8\r\n      this.getVersionHistory(this.currentDataObj, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.cp-filterFormBox {\r\n  padding: 20px;\r\n  label {\r\n    line-height: 36px;\r\n  }\r\n  .cpf-line {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n.config-page {\r\n  .el-tabs__active-bar {\r\n    height: 2px;\r\n  }\r\n  .h3_pp {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    margin: 30px 0 15px;\r\n  }\r\n  .cpsr-line {\r\n    margin-bottom: 80px;\r\n  }\r\n  .infoBox {\r\n    font-size: 1rem;\r\n    > div {\r\n      margin-bottom: 18px;\r\n    }\r\n  }\r\n\r\n  .p-r {\r\n    position: relative;\r\n  }\r\n  .btn-back {\r\n    position: absolute;\r\n    right: 10px;\r\n    z-index: 999;\r\n    top: 10px;\r\n  }\r\n  .support-routers {\r\n    border: 1px solid #d8d8d8;\r\n    li {\r\n      line-height: 35px;\r\n      padding-left: 30px;\r\n      height: 35px;\r\n      list-style: none;\r\n      border-bottom: 1px solid #d8d8d8;\r\n    }\r\n    li:last-of-type {\r\n      border-bottom: 0;\r\n    }\r\n  }\r\n  .el-tabs__nav-wrap::after {\r\n    height: 1px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerForSC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerForSC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./versionManagerForSC.vue?vue&type=template&id=7d47df03&\"\nimport script from \"./versionManagerForSC.vue?vue&type=script&lang=js&\"\nexport * from \"./versionManagerForSC.vue?vue&type=script&lang=js&\"\nimport style0 from \"./versionManagerForSC.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}