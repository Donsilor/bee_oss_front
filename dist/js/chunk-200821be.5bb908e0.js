(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-200821be"],{"8a8f":function(t,e,r){},afa6:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-content config-page"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:t.firstTableShow,expression:"firstTableShow"}],staticStyle:{width:"100%"},attrs:{data:t.versionsFirst.tableData}},[t._l(t.versionsFirst.tableColumn,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:"auto"},scopedSlots:t._u([{key:"default",fn:function(i){return["type"===e.prop?r("div",[t._v(" "+t._s(t.getTypeText(i.row.type,i.row.os_type)+t.getPidName(i.row))+" ")]):"status"===e.prop?r("div",[t._v(" "+t._s(t.getStatusText(i.row.status))+" ")]):"force"===e.prop?r("div",[t._v(" "+t._s(t.getForceText(i.row.force))+" ")]):"release_time"===e.prop?r("div",[t._v(" "+t._s(t.formatTime(i.row["release_time"]))+" ")]):r("div",[t._v(" "+t._s(i.row[e.prop])+" ")])]}}],null,!0)})})),r("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.gotoHistoryList(e.row,1)}}},[t._v(" 查看版本列表 ")])]}}])})],2),r("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.index,"page-size":t.size,total:t.tableCopyTableList.length,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},a=[],s=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),n=r("b0b0"),o=r("2f62"),p=(r("f1ed"),r("cabf")),l=r("9008"),u=r("0786"),c=r("b333"),b=r("a772"),f=r("6cd5"),d=r("3589"),h=r("8e44");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y=v({components:{"version-input":l["a"],"push-update":u["a"],version_detail:c["a"],operate_log:b["a"],"filter-form":f["a"],"version-mapping":d["a"]},filters:{typeToString:function(t){return 1*t===1?"APP":1*t===2?"路由器":1*t===3?"子设备":"未知"},forceToString:function(t){return t?"是":"否"},statusToString:function(t){return t?"启用":"停用"}},data:function(){return{firstTableShow:!0,info:{},totalItem:0,currentPage:1,filterTypeOptions:[{value:2,label:"路由器"},{value:3,label:"子设备"}],listParams:{method:"list_versions",page:1,limit:10,level:1},versionsFirst:{},versionList:{},inputType:"",rulesDetail:{},suportDevice:[],pushHistoryList:{},pushDataObj:{},secondTitle:"",currentDataObj:{},currentDetailObj:{},operateLogLayer:!1,operateLogList:{},addEditFlag:!0,editDataObj:{},releasedFlag:!1,mappingData:{},router:[],os_type:"",routerPidList:[],os_type_text:{1:"android_app",4:"ios_app",6:"android_pad",13:"lua_app"},device_type_text:{2:"路由器",3:"子设备",5:"H5",7:"android_system",11:"route_app",12:"video_app",13:"旗舰版音箱"},getGrayStatus:{0:"无",1:"白名单",2:"黑名单",3:"全量"},activeName:"devices",tableCopyTableList:{},index:1,size:10}}},Object(o["mapActions"])(["getVersions","selectVersion","importSubmitAction","pushUpdateAction","getVersionDetailAction","pubilcCorsAction"]),{computed:v({},Object(o["mapGetters"])({brand:n["c"],type:n["t"],product:n["o"]})),mounted:function(){this.$store.dispatch({type:n["l"]}),this.getVersionList(1)},methods:{handleSizeChange:function(t){this.size=t,this.versionsFirst.tableData=this.paging(t,this.index)},handleCurrentChange:function(t){this.index=t,this.versionsFirst.tableData=this.paging(this.size,t)},paging:function(t,e){var r=JSON.parse(JSON.stringify(this.tableCopyTableList)),i=[];return r.forEach((function(r,a){t*(e-1)<=a&&a<=t*e-1&&i.push(r)})),i},formatTime:function(t){return t||"------"},pageChange:function(){this.getVersionList(this.currentPage)},getVersionList:function(t){this.listParams.page=t,this.versionsFirst=Object.assign({},p),this.tableCopyTableList=JSON.parse(JSON.stringify(this.versionsFirst.tableData)),this.versionsFirst.tableData=this.paging(this.size,this.index);var e=this;h["a"].getVersions(e.listParams).then((function(t){0===t.code&&(e.firstTableShow=!0,e.$nextTick((function(){var r=t.result;e.versionsFirst.tableData&&e.versionsFirst.tableData.length||e.setFirstVersionList(r)})))}))},setFirstVersionList:function(t){this.versionsFirst.tableData=[];var e={router:2,h5:5,device:3};for(var r in t)if("android"===r||"android_pad"===r||"ios"===r||"video_app"===r||"route_app"===r||"lua_app"===r)this.versionsFirst.tableData.push(t[r]);else if("{}"===JSON.stringify(t[r]))this.versionsFirst.tableData.push({type:e[r]});else{for(var i in t[r])this.versionsFirst.tableData.push(t[r][i]);if("router"===r)for(var a in this.routerPidList=[],t[r])this.routerPidList.push({label:a,value:a})}this.tableCopyTableList=JSON.parse(JSON.stringify(this.versionsFirst.tableData)),this.versionsFirst.tableData=this.paging(this.size,this.index)},getTypeText:function(t,e){var r="";return r=1===t?e:this.device_type_text[t],r},getStatusTextPush:function(t){var e="";switch(t){case 1:e="成功";break;case 0:e="失败";break;default:break}return e},getStatusText:function(t){var e="";switch(t){case 1:e="有效";break;case 0:e="无效";break;default:break}return e},getForceText:function(t){var e="";switch(t){case 3:e="不弹窗升级";break;case 1:e="强制升级";break;case 0:e="不强制";break;default:break}return e},getPreReleaseText:function(t){var e="";switch(t){case 1:e="灰度版本";break;case 0:e="正式版本";break;default:break}return e},gotoHistoryList:function(t,e){sessionStorage.setItem("CurrentAppInfo",JSON.stringify(t)),this.$router.push({path:"/main/versionManager/".concat(t.id)})},getPidName:function(t){return 3===t.type||8===t.type||5===t.type?t.product_id?"--"+t.product_id:"":2===t.type||7===t.type?t.router_pid?"--"+t.router_pid:"":13===t.type?"--lua_app":""}}}),_=y,m=(r("eb6be"),r("2877")),O=Object(m["a"])(_,i,a,!1,null,null,null);e["default"]=O.exports},cabf:function(t){t.exports=JSON.parse('{"tableColumn":[{"prop":"type","label":"产品类型"},{"prop":"version","label":"版本号"},{"prop":"title","label":"版本Title"},{"prop":"release_time","label":"发布时间"},{"prop":"force","label":"是否强制升级"}],"tableData":[]}')},eb6be:function(t,e,r){"use strict";var i=r("8a8f"),a=r.n(i);a.a}}]);
//# sourceMappingURL=chunk-200821be.5bb908e0.js.map