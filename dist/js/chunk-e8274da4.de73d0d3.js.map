{"version":3,"sources":["webpack:///./src/pages/upgradeCenter/versionManagerDetail.vue?4a48","webpack:///./src/pages/upgradeCenter/versionManagerDetail.vue?2743","webpack:///src/pages/upgradeCenter/versionManagerDetail.vue","webpack:///./src/pages/upgradeCenter/versionManagerDetail.vue?037d","webpack:///./src/pages/upgradeCenter/versionManagerDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","openImportLayer","_v","openFilterFormLayer","staticStyle","backToList","inputType","deviceRouterChange","model","value","callback","$$v","activeName","expression","_e","versionList","tableData","_l","item","key","prop","label","scopedSlots","_u","fn","scope","_s","getTypeText","row","type","os_type","getStatusText","status","getForceText","force","getPreReleaseText","is_pre_release","getGrayStatus","gray","formatTime","$event","getVersionDetail","openSupportLayer","openVersionEdit","startStopVerion","openPushLayer","getOperateLog","rollBackVersion","deleteVersion","deleteUUID","totalItem_two","currentPage_two","pageChange_two","filterPopoverFlag","ref","brandIDOptions","typeIDOptions","productIDOptions","product","router","filterVersions","infoBoxFlag","ruleFormDetail","currentDetailObj","addEditFlag","importBoxFlag","flag","osVersionList","router_pid","editDataObj","releasedFlag","routerPidList","importSubmit","pushBoxFlag","pushDataObj","pushUpdate","operateLogLayer","operateLogList","slot","supportLayer","staticRenderFns","components","version_detail","operate_log","filters","typeToString","x","forceToString","statusToString","data","firstTableShow","info","totalItem","currentPage","filterTypeOptions","listParams","method","page","limit","level","terminalOptions","versionOptions","osOptions","versionsFirst","title","description","version","size","note","download_file_md5","download_url_object","img_url_object","created_at","updated_at","release_time","rulesDetail","suportDevice","pushHistoryList","secondTitle","currentDataObj","mappingData","os_type_text","1","4","6","11","12","13","device_type_text","2","3","5","7","0","computed","watch","curVal","length","brand","map","brand_name","brand_id","mounted","$store","dispatch","namespace","dataObj","getVersionHistory","$router","push","getVersionList","getOsVersionList","methods","result","code","obj","$nextTick","setFirstVersionList","currentData","attr","routerAttr","val","initBrandIDOptions","cur_os_type","product_id","$refs","resetImportForm","renderEditData","items","$confirm","confirmButtonText","cancelButtonText","resetList","filterClearAll","rowChosed","console","log","error","total","text","getStatusTextPush","getVersionHistoryList","Array","isArray","Object","keys","forEach","temp","k","assign","getVersionTitle","name","go","getPidName","component"],"mappings":"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","file":"js/chunk-e8274da4.de73d0d3.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerDetail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerDetail.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button-group',[_c('el-button',{on:{\"click\":_vm.openImportLayer}},[_vm._v(\" 录入版本 \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_c('el-button',{on:{\"click\":_vm.openFilterFormLayer}},[_vm._v(\" 匹配搜索 \"),_c('i',{staticClass:\"el-icon-caret-bottom\"})])],1)],1)],1),_c('div',{staticClass:\"p-r\",staticStyle:{\"height\":\"40px\",\"padding-top\":\"10px\"}},[_c('el-button',{staticClass:\"btn-back\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.backToList}},[_vm._v(\" 返回上一级 \")]),(_vm.inputType === 3 || _vm.inputType === 8)?[_c('el-tabs',{on:{\"tab-click\":_vm.deviceRouterChange},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"子设备列表\",\"name\":\"devices\"}}),_c('el-tab-pane',{attrs:{\"label\":\"子路由列表\",\"name\":\"routers\"}})],1)]:_vm._e()],2),_c('el-table',{staticStyle:{\"width\":\"100%\",\"border-top\":\"0 none\"},attrs:{\"data\":_vm.versionList.tableData}},[_vm._l((_vm.versionList.tableColumn),function(item){return _c('el-table-column',{key:item.prop,attrs:{\"prop\":item.prop,\"label\":item.label,\"width\":'auto',\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(item.prop == 'type')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getTypeText(scope.row.type, scope.row.os_type))+\" \")]):(item.prop == 'status')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getStatusText(scope.row.status))+\" \")]):(item.prop == 'force')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getForceText(scope.row.force))+\" \")]):(item.prop == 'is_pre_release')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getPreReleaseText(scope.row.is_pre_release))+\" \")]):(item.prop == 'gray')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getGrayStatus[scope.row.gray])+\" \")]):(item.prop === 'release_time')?_c('div',[_vm._v(\" \"+_vm._s(_vm.formatTime(scope.row['created_at']))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(scope.row[item.prop])+\" \")])]}}],null,true)})}),(_vm.inputType == 13)?_c('el-table-column',{attrs:{\"width\":'auto',\"prop\":\"rule\",\"align\":\"center\",\"label\":\"适用语音APP版本\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row['rule'])+\" \")]}}],null,false,714112091)}):_vm._e(),_c('el-table-column',{attrs:{\"width\":250,\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getVersionDetail(scope.row)}}},[_vm._v(\" 查看 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openSupportLayer(scope.row)}}},[_vm._v(\" 支持版本 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openVersionEdit(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.startStopVerion(scope.row)}}},[_vm._v(\" \"+_vm._s(scope.row['status']?'禁用':'启用')+\" \")]),_c('br'),(scope.row.type!='8')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openPushLayer(scope.row)}}},[_vm._v(\" 推送 \")]):_vm._e(),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.getOperateLog(scope.row)}}},[_vm._v(\" 操作日志 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.rollBackVersion(scope.row)}}},[_vm._v(\" 回滚 \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteVersion(scope.row)}}},[_vm._v(\" 删除 \")]),(scope.row.type!='8')?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteUUID(scope.row)}}},[_vm._v(\" 清空UUID \")]):_vm._e()]}}])})],2),_c('div',{staticClass:\"page-line\"},[_c('el-pagination',{attrs:{\"total\":_vm.totalItem_two,\"page-size\":10,\"current-page\":_vm.currentPage_two,\"small\":\"\",\"layout\":\"prev, pager, next\"},on:{\"update:currentPage\":function($event){_vm.currentPage_two=$event},\"update:current-page\":function($event){_vm.currentPage_two=$event},\"current-change\":_vm.pageChange_two}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.filterPopoverFlag,\"title\":\"版本匹配搜索\"},on:{\"update:visible\":function($event){_vm.filterPopoverFlag=$event}}},[_c('filter-form',{key:\"filterForms\",ref:\"filterForms\",attrs:{\"type\":_vm.type,\"brand-idoptions\":_vm.brandIDOptions,\"type-idoptions\":_vm.typeIDOptions,\"product-idoptions\":_vm.productIDOptions,\"input-type\":_vm.inputType,\"product\":_vm.product,\"router\":_vm.router},on:{\"filterVersionsParent\":_vm.filterVersions,\"closeFilterBox\":function($event){_vm.filterPopoverFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.infoBoxFlag,\"title\":\"版本详情\"},on:{\"update:visible\":function($event){_vm.infoBoxFlag=$event}}},[_c('version_detail',{ref:\"versionDetails\",attrs:{\"rule-form-detail\":_vm.ruleFormDetail,\"device-obj\":_vm.currentDetailObj}}),_c('div',{staticStyle:{\"text-align\":\"right\",\"margin\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.infoBoxFlag=false}}},[_vm._v(\" 确定 \")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.addEditFlag?'录入版本':'编辑版本',\"visible\":_vm.importBoxFlag},on:{\"update:visible\":function($event){_vm.importBoxFlag=$event}}},[_c('version-input',{key:\"versionInputs\",ref:\"versionInputs\",attrs:{\"flag\":_vm.flag,\"brand-idoptions\":_vm.brandIDOptions,\"type-idoptions\":_vm.typeIDOptions,\"product-idoptions\":_vm.productIDOptions,\"os-version-list\":_vm.osVersionList,\"input-type\":_vm.inputType,\"product\":_vm.product,\"type\":_vm.type,\"router_pid\":_vm.router_pid,\"os_type\":_vm.os_type,\"add-edit-flag\":_vm.addEditFlag,\"edit-data-obj\":_vm.editDataObj,\"released-flag\":_vm.releasedFlag,\"router-pid-list\":_vm.routerPidList,\"active-name\":_vm.activeName},on:{\"importSubmitParent\":_vm.importSubmit,\"closeImportBox\":function($event){_vm.importBoxFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.pushBoxFlag,\"title\":\"推送升级\"},on:{\"update:visible\":function($event){_vm.pushBoxFlag=$event}}},[_c('push-update',{ref:\"pushUpdates\",attrs:{\"type\":_vm.type,\"input-type\":_vm.inputType,\"push-data-obj\":_vm.pushDataObj},on:{\"pushUpdateParent\":_vm.pushUpdate,\"closePushBox\":function($event){_vm.pushBoxFlag = false;}}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.operateLogLayer,\"title\":\"操作日志\"},on:{\"update:visible\":function($event){_vm.operateLogLayer=$event}}},[_c('operate_log',{attrs:{\"operate-log-list\":_vm.operateLogList}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"border\":\"none\"},on:{\"click\":function($event){_vm.operateLogLayer = false}}},[_vm._v(\"取 消\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.supportLayer,\"title\":\"支持版本\"},on:{\"update:visible\":function($event){_vm.supportLayer=$event}}},[_c('version-mapping',{ref:\"supportLayer\",attrs:{\"input-type\":_vm.inputType}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"border\":\"none\"},on:{\"click\":function($event){_vm.supportLayer = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page-content config-page\">\r\n    <!--顶部tab-->\r\n    <el-row\r\n      type=\"flex\"\r\n      justify=\"space-between\"\r\n    >\r\n      <el-col :span=\"12\">\r\n        <el-button-group>\r\n          <el-button @click=\"openImportLayer\">\r\n            录入版本\r\n            <i class=\"el-icon-caret-bottom\" />\r\n          </el-button>\r\n          <el-button @click=\"openFilterFormLayer\">\r\n            匹配搜索\r\n            <i class=\"el-icon-caret-bottom\" />\r\n          </el-button>\r\n          <!--<el-button @click=\"openPushLayer\">推送升级 <i class=\"el-icon-caret-bottom\"></i></el-button>-->\r\n        </el-button-group>\r\n      </el-col>\r\n    </el-row>\r\n    <div\r\n      class=\"p-r\"\r\n      style=\"height: 40px; padding-top: 10px\"\r\n    >\r\n      <!--<div style=\"line-height: 40px; height: 40px\">{{secondTitle}}</div>-->\r\n      <el-button\r\n        type=\"text\"\r\n        class=\"btn-back\"\r\n        @click=\"backToList\"\r\n      >\r\n        返回上一级\r\n      </el-button>\r\n      <template v-if=\"inputType === 3 || inputType === 8\">\r\n        <el-tabs\r\n          v-model=\"activeName\"\r\n          @tab-click=\"deviceRouterChange\"\r\n        >\r\n          <el-tab-pane\r\n            label=\"子设备列表\"\r\n            name=\"devices\"\r\n          />\r\n          <el-tab-pane\r\n            label=\"子路由列表\"\r\n            name=\"routers\"\r\n          />\r\n        </el-tabs>\r\n      </template>\r\n    </div>\r\n    <!--子设备列表-->\r\n    <el-table\r\n      :data=\"versionList.tableData\"\r\n      style=\"width: 100%; border-top:0 none\"\r\n    >\r\n      <el-table-column\r\n        v-for=\"item in versionList.tableColumn\"\r\n        :key=\"item.prop\"\r\n        :prop=\"item.prop\"\r\n        :label=\"item.label\"\r\n        :width=\"'auto'\"\r\n        align=\"center\"\r\n      >\r\n        <template slot-scope=\"scope\" >\r\n          <div v-if=\"item.prop == 'type'\">\r\n            {{ getTypeText(scope.row.type, scope.row.os_type) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop == 'status'\">\r\n            {{ getStatusText(scope.row.status) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop == 'force'\">\r\n            {{ getForceText(scope.row.force) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop == 'is_pre_release'\">\r\n            {{ getPreReleaseText(scope.row.is_pre_release) }}\r\n          </div>\r\n          <div v-else-if=\"item.prop == 'gray'\">\r\n            {{ getGrayStatus[scope.row.gray] }}\r\n          </div>\r\n          <div v-else-if=\"item.prop === 'release_time'\">\r\n            {{ formatTime(scope.row['created_at']) }}\r\n          </div>\r\n          <div v-else>\r\n            {{ scope.row[item.prop] }}\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"inputType == 13\"\r\n        :width=\"'auto'\"\r\n        prop=\"rule\"\r\n        align=\"center\"\r\n        label=\"适用语音APP版本\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row['rule'] }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        :width=\"250\"\r\n        label=\"操作\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"getVersionDetail(scope.row)\"\r\n          >\r\n            查看\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"openSupportLayer(scope.row)\"\r\n          >\r\n            支持版本\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"openVersionEdit(scope.row)\"\r\n          >\r\n            编辑\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"startStopVerion(scope.row)\"\r\n          >\r\n            {{ scope.row['status']?'禁用':'启用' }}\r\n          </el-button>\r\n          <br>\r\n          <el-button\r\n            v-if=\"scope.row.type!='8'\"\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"openPushLayer(scope.row)\"\r\n          >\r\n            推送\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"getOperateLog(scope.row)\"\r\n          >\r\n            操作日志\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"rollBackVersion(scope.row)\"\r\n          >\r\n            回滚\r\n          </el-button>\r\n          <el-button\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"deleteVersion(scope.row)\"\r\n          >\r\n            删除\r\n          </el-button>\r\n          <el-button\r\n            v-if=\"scope.row.type!='8'\"\r\n            type=\"text\"\r\n            size=\"small\"\r\n            @click=\"deleteUUID(scope.row)\"\r\n          >\r\n            清空UUID\r\n          </el-button>\r\n\r\n          <!-- <el-button type=\"text\" size=\"small\" @click=\"getVersionHistory(scope.row,1)\">查看版本列表</el-button> -->\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"page-line\">\r\n      <el-pagination\r\n        :total=\"totalItem_two\"\r\n        :page-size=\"10\"\r\n        :current-page.sync=\"currentPage_two\"\r\n        small\r\n        layout=\"prev, pager, next\"\r\n        @current-change=\"pageChange_two\"\r\n      />\r\n    </div>\r\n    <!--版本匹配搜索-->\r\n    <el-dialog\r\n      :visible.sync=\"filterPopoverFlag\"\r\n      title=\"版本匹配搜索\"\r\n    >\r\n      <filter-form\r\n        key=\"filterForms\"\r\n        ref=\"filterForms\"\r\n        :type=\"type\"\r\n        :brand-idoptions=\"brandIDOptions\"\r\n        :type-idoptions=\"typeIDOptions\"\r\n        :product-idoptions=\"productIDOptions\"\r\n        :input-type=\"inputType\"\r\n        :product=\"product\"\r\n        :router=\"router\"\r\n        @filterVersionsParent=\"filterVersions\"\r\n        @closeFilterBox=\"filterPopoverFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--版本详情-->\r\n    <el-dialog\r\n      :visible.sync=\"infoBoxFlag\"\r\n      title=\"版本详情\"\r\n    >\r\n      <version_detail\r\n        ref=\"versionDetails\"\r\n        :rule-form-detail=\"ruleFormDetail\"\r\n        :device-obj=\"currentDetailObj\"\r\n      />\r\n      <div style=\"text-align: right; margin: 0\">\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"infoBoxFlag=false\"\r\n        >\r\n          确定\r\n        </el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!--版本录入-->\r\n    <el-dialog\r\n      :title=\"addEditFlag?'录入版本':'编辑版本'\"\r\n      :visible.sync=\"importBoxFlag\"\r\n    >\r\n      <version-input\r\n        key=\"versionInputs\"\r\n        ref=\"versionInputs\"\r\n        :flag=\"flag\"\r\n        :brand-idoptions=\"brandIDOptions\"\r\n        :type-idoptions=\"typeIDOptions\"\r\n        :product-idoptions=\"productIDOptions\"\r\n        :os-version-list=\"osVersionList\"\r\n        :input-type=\"inputType\"\r\n        :product=\"product\"\r\n        :type=\"type\"\r\n        :router_pid=\"router_pid\"\r\n        :os_type=\"os_type\"\r\n        :add-edit-flag=\"addEditFlag\"\r\n        :edit-data-obj=\"editDataObj\"\r\n        :released-flag=\"releasedFlag\"\r\n        :router-pid-list=\"routerPidList\"\r\n        :active-name=\"activeName\"\r\n        @importSubmitParent=\"importSubmit\"\r\n        @closeImportBox=\"importBoxFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--推送升级-->\r\n    <el-dialog\r\n      :visible.sync=\"pushBoxFlag\"\r\n      title=\"推送升级\"\r\n    >\r\n      <push-update\r\n        ref=\"pushUpdates\"\r\n        :type=\"type\"\r\n        :input-type=\"inputType\"\r\n        :push-data-obj=\"pushDataObj\"\r\n        @pushUpdateParent=\"pushUpdate\"\r\n        @closePushBox=\"pushBoxFlag = false;\"\r\n      />\r\n    </el-dialog>\r\n    <!--操作日志-->\r\n    <el-dialog\r\n      :visible.sync=\"operateLogLayer\"\r\n      title=\"操作日志\"\r\n    >\r\n      <operate_log :operate-log-list=\"operateLogList\" />\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button\r\n          style=\"border:none;\"\r\n          @click=\"operateLogLayer = false\"\r\n        >取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!--支持版本-->\r\n    <el-dialog\r\n      :visible.sync=\"supportLayer\"\r\n      title=\"支持版本\"\r\n    >\r\n      <version-mapping\r\n        ref=\"supportLayer\"\r\n        :input-type=\"inputType\"\r\n      />\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button\r\n          style=\"border:none;\"\r\n          @click=\"supportLayer = false\"\r\n        >取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n/*\r\n设备类型：\r\n1、android_app，2、router，3、子设备，4、ios，5、H5，6、android_pad，7、android_system，8、device_android_system，9、community_app，10、community_app_plugin\r\n\r\nos_type:\r\n1、android_app, 4、ios, 6、android_pad\r\n\r\n新增force类型：\r\n3，不弹窗升级（当前共有：0：非强制，1：强制，3：不弹窗升级）2已被占用\r\n*/\r\nimport * as namespace from '../../store/namespace'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport '../../lib/util.js'\r\nimport versions_children_json from '../../json/versionsChildren.json'\r\nimport operation_log_json from '../../json/operateLogList.json'\r\nimport version_input from './component/versionInputLayer.vue'\r\nimport push_update from './component/pushUpdateLayer.vue'\r\n// import version_edit from \"./component/versionEdit.vue\";\r\nimport version_detail from './component/versionDetail.vue'\r\nimport operate_log from './component/operateLogs.vue'\r\nimport filter_form from './component/filterLayer.vue'\r\nimport version_mapping from './component/versionMapping.vue'\r\nimport API from '../../service/index'\r\nexport default {\r\n  components: {\r\n    'version-input': version_input,\r\n    'push-update': push_update,\r\n    // version_edit: version_edit,\r\n    version_detail: version_detail,\r\n    operate_log: operate_log,\r\n    'filter-form': filter_form,\r\n    'version-mapping': version_mapping\r\n  },\r\n  filters: {\r\n    typeToString (x) {\r\n      if (x * 1 === 1) {\r\n        return 'APP'\r\n      } else if (x * 1 === 2) {\r\n        return '路由器'\r\n      } else if (x * 1 === 3) {\r\n        return '子设备'\r\n      } else {\r\n        return '未知'\r\n      }\r\n    },\r\n    forceToString (x) {\r\n      return x ? '是' : '否'\r\n    },\r\n    statusToString (x) {\r\n      return x ? '启用' : '停用'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      supportLayer: false,\r\n      firstTableShow: true,\r\n      pushBoxFlag: false,\r\n      info: {},\r\n      importBoxFlag: false,\r\n      filterPopoverFlag: false,\r\n      infoBoxFlag: false,\r\n      totalItem: 0,\r\n      totalItem_two: 0,\r\n      currentPage: 1,\r\n      currentPage_two: 1,\r\n      filterTypeOptions: [\r\n        {\r\n          value: 2,\r\n          label: '路由器'\r\n        },\r\n        {\r\n          value: 3,\r\n          label: '子设备'\r\n        }\r\n      ],\r\n      brandIDOptions: [],\r\n      typeIDOptions: [],\r\n      productIDOptions: [],\r\n      listParams: {\r\n        method: 'list_versions',\r\n        page: 1,\r\n        limit: 10,\r\n        level: 1\r\n      },\r\n      terminalOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      versionOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      osOptions: [\r\n        {\r\n          value: '1',\r\n          lable: '选项一'\r\n        }\r\n      ],\r\n      osVersionList: [],\r\n      versionsFirst: {},\r\n      versionList: {},\r\n      inputType: '',\r\n      ruleFormDetail: {\r\n        title: '',\r\n        description: '',\r\n        version: '',\r\n        type: '',\r\n        force: '',\r\n        size: '',\r\n        note: '',\r\n        status: '',\r\n        download_file_md5: '',\r\n        download_url_object: '',\r\n        img_url_object: '',\r\n        created_at: '',\r\n        updated_at: '',\r\n        release_time: ''\r\n      },\r\n      rulesDetail: {},\r\n      suportDevice: [],\r\n      pushHistoryList: {},\r\n      pushDataObj: {},\r\n      secondTitle: '',\r\n      currentDataObj: {},\r\n      currentDetailObj: {},\r\n      operateLogLayer: false,\r\n      operateLogList: {},\r\n      addEditFlag: true,\r\n      editDataObj: {},\r\n      releasedFlag: false, // 已发布/未发布标识 || 版本编辑，已发布版本只能编辑几个字段\r\n      mappingData: {}, // 各设备对应映射关系\r\n      router: [],\r\n      os_type: '',\r\n      routerPidList: [],\r\n      os_type_text: {\r\n        1: 'android_app',\r\n        4: 'ios_app',\r\n        6: 'android_pad',\r\n        11: 'route_app',\r\n        12: 'video_app',\r\n        13: 'lua_app'\r\n      },\r\n      device_type_text: {\r\n        2: '路由器',\r\n        3: '子设备',\r\n        5: 'H5',\r\n        7: 'Android system'\r\n      },\r\n      getGrayStatus: {\r\n        0: '无',\r\n        1: '白名单',\r\n        2: '黑名单',\r\n        3: '全量'\r\n      },\r\n      activeName: 'devices',\r\n      router_pid: '',\r\n      flag: false\r\n    }\r\n  },\r\n  ...mapActions([\r\n    'getVersions',\r\n    'selectVersion',\r\n    'importSubmitAction',\r\n    'pushUpdateAction',\r\n    'getVersionDetailAction',\r\n    'pubilcCorsAction'\r\n  ]),\r\n  computed: {\r\n    ...mapGetters({\r\n      brand: namespace.BRAND,\r\n      type: namespace.TYPE,\r\n      product: namespace.PRODUCT\r\n    })\r\n    // currentName() {\r\n    //   let name = this.getTypeText(this.currentDataObj.type, this.currentDataObj.os_type) + \" \"\r\n    //   if (this.currentDataObj.product_id) {\r\n    //     name += this.currentDataObj.product_id\r\n    //   }\r\n    //   if (this.currentDataObj.router_pid) {\r\n    //     name += this.currentDataObj.router_pid\r\n    //   }\r\n    //   return name\r\n    // }\r\n  },\r\n  watch: {\r\n    filterPopoverFlag (curVal, oldVal) {\r\n      if (curVal) {\r\n        if (!this.brandIDOptions.length) {\r\n          this.brandIDOptions = this.brand.map(x => {\r\n            return {\r\n              label: x.brand_name,\r\n              value: x.brand_id\r\n            }\r\n          })\r\n        }\r\n        this.versionOptions = this.router\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.$store.dispatch({\r\n      type: namespace.INITPRODUCT\r\n    })\r\n\r\n    try {\r\n      const dataObj = JSON.parse(sessionStorage.getItem('CurrentAppInfo'))\r\n      this.router_pid = dataObj.router_pid || ''\r\n      this.getVersionHistory(dataObj)\r\n    } catch (e) {\r\n      this.$router.push({ path: '/main/versionManager' })\r\n    }\r\n\r\n    this.getVersionList()\r\n    this.getOsVersionList()\r\n  },\r\n  methods: {\r\n    getOsVersionList () {\r\n      API.pubilcCorsAction({\r\n        'method': 'released_versions',\r\n        'type': 7\r\n      }).then(res => {\r\n        this.osVersionList = res.result.map(item => {\r\n          return {\r\n            label: item.version,\r\n            value: item.version\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 获取所有版本列表\r\n    getVersionList () {\r\n      const obj = this\r\n      API.getVersions(obj.listParams).then(result => {\r\n        if (result.code === 0) {\r\n          obj.$nextTick(() => {\r\n            let currentData = result.result\r\n            obj.setFirstVersionList(currentData)\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 渲染首列数据\r\n    setFirstVersionList (dataObj) {\r\n      for (let attr in dataObj) {\r\n        if (attr === 'router') {\r\n          this.routerPidList = []\r\n          for (let routerAttr in dataObj[attr]) {\r\n            this.routerPidList.push({\r\n              label: routerAttr,\r\n              value: routerAttr\r\n            })\r\n          }\r\n        }\r\n      }\r\n    },\r\n    openSupportLayer (dataObj) {\r\n      this.supportLayer = true\r\n      this.$nextTick(() => {\r\n        this.$refs['supportLayer'].renderData(dataObj)\r\n      })\r\n    },\r\n    openFilterFormLayer () {\r\n      this.filterPopoverFlag = true\r\n      this.$nextTick(() => {\r\n        this.$refs['filterForms'].resetFilterForm()\r\n      })\r\n    },\r\n    formatTime (val) {\r\n      if (!val) {\r\n        return '------'\r\n      } else {\r\n        return val\r\n        //                let date = new Date(val*1000)\r\n        //                return date.Format('yyyy-MM-dd hh:mm:ss')\r\n      }\r\n    },\r\n    openVersionEdit (dataObj) {\r\n      this.initBrandIDOptions()\r\n      this.filterPopoverFlag = false\r\n      let cur_os_type = ''\r\n      if (dataObj.os_type) {\r\n        switch (dataObj.os_type) {\r\n          case 1:\r\n            cur_os_type = 'android_app'\r\n            break\r\n          case 4:\r\n            cur_os_type = 'ios_app'\r\n            break\r\n          case 6:\r\n            cur_os_type = 'android_pad'\r\n            break\r\n          case 11:\r\n            cur_os_type = 'route_app'\r\n            break\r\n          case 12:\r\n            cur_os_type = 'video_app'\r\n            break\r\n          case 13:\r\n            cur_os_type = 'lua_app'\r\n            break\r\n          default:\r\n            cur_os_type = dataObj.os_type\r\n            break\r\n        }\r\n      }\r\n\r\n      let param = {\r\n        method: 'version_detail',\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id || '',\r\n        os_type: cur_os_type,\r\n        router_pid: dataObj.router_pid || ''\r\n      }\r\n      let obj = this\r\n      API.pubilcCorsAction(param).then(result => {\r\n        let currentData = result.result\r\n        obj.releasedFlag = currentData.status === 1\r\n        obj.addEditFlag = false\r\n        obj.editDataObj = currentData\r\n        obj.importBoxFlag = true\r\n        obj.$nextTick(() => {\r\n          obj.$refs['versionInputs'].resetImportForm()\r\n          obj.$refs['versionInputs'].renderEditData()\r\n        })\r\n      })\r\n    },\r\n    // 禁用、启用\r\n    startStopVerion (dataObj) {\r\n      let obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          let param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            os_type: obj.os_type_text[dataObj.os_type] || '',\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id,\r\n            router_pid: dataObj.router_pid,\r\n            method: dataObj['status'] ? 'disable' : 'enable'\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '操作成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 操作日志\r\n    getOperateLog (dataObj) {\r\n      this.operateLogLayer = true\r\n      this.operateLogList = operation_log_json\r\n      let obj = this\r\n      let param = {\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id,\r\n        method: 'history_operation_logs'\r\n      }\r\n      API.pubilcCorsAction(param).then(result => {\r\n        if (result.code === 0) {\r\n          obj.operateLogList.tableData = result.result.items\r\n        }\r\n      })\r\n    },\r\n    // 删除\r\n    deleteVersion (dataObj) {\r\n      let obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          let param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id || '',\r\n            os_type: obj.os_type_text[dataObj.os_type] || '',\r\n            router_pid: dataObj.router_pid || '',\r\n            method: 'del_version'\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 回滚\r\n    rollBackVersion (dataObj) {\r\n      let obj = this\r\n      obj\r\n        .$confirm('确定此操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        })\r\n        .then(() => {\r\n          let param = {\r\n            type: dataObj.type,\r\n            version: dataObj.version,\r\n            user_id: dataObj.user_id,\r\n            product_id: dataObj.product_id,\r\n            method: 'rollback',\r\n            os_type: obj.os_type_text[dataObj.os_type] || ''\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              obj.$message({\r\n                type: 'success',\r\n                message: '回滚成功!'\r\n              })\r\n              obj.getVersionHistory(obj.currentDataObj, 1)\r\n            }\r\n          })\r\n        })\r\n    },\r\n    deleteUUID (row) {\r\n      this.$confirm('确定此操作吗?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          const param = {\r\n            type: row.type,\r\n            version: row.version,\r\n            user_id: row.user_id,\r\n            product_id: row.product_id,\r\n            os_type: this.os_type_text[row.os_type] || '',\r\n            router_pid: row.router_pid,\r\n            method: 'uuid_del'\r\n          }\r\n\r\n          API.pubilcCorsAction(param).then(result => {\r\n            if (result.code === 0) {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '清空UUID成功!'\r\n              })\r\n            }\r\n          })\r\n        })\r\n    },\r\n    // 获取详情\r\n    getVersionDetail (dataObj) {\r\n      this.infoBoxFlag = true\r\n      this.currentDetailObj = dataObj\r\n      let param = {\r\n        method: 'version_detail',\r\n        type: dataObj.type,\r\n        version: dataObj.version,\r\n        product_id: dataObj.product_id || '',\r\n        os_type: this.os_type_text[dataObj.os_type] || '',\r\n        router_pid: dataObj.router_pid || ''\r\n      }\r\n      let obj = this\r\n      API.pubilcCorsAction(param).then(result => {\r\n        obj.ruleFormDetail = result.result\r\n        // let datas = result.result;\r\n        // let form = obj.ruleFormDetail;\r\n        // for (let attr in form) {\r\n        //     form[attr] = datas[attr];\r\n        // }\r\n      })\r\n      obj.$nextTick(() => {\r\n        obj.$refs['versionDetails'].resetList()\r\n      })\r\n    },\r\n    filterClearAll () {\r\n      // for (let name in this.filterForm) {\r\n      // this.filterForm[name] = '';\r\n      // }\r\n    },\r\n    rowChosed (scope) {\r\n      this.infoBoxFlag = true\r\n      this.info = scope.row\r\n    },\r\n    initBrandIDOptions () {\r\n      try {\r\n        if (!this.brandIDOptions.length) {\r\n          this.brandIDOptions = this.brand.map(x => {\r\n            return {\r\n              label: x.brand_name,\r\n              value: x.brand_id\r\n            }\r\n          })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    openImportLayer () {\r\n      this.addEditFlag = true\r\n      this.releasedFlag = false\r\n      this.initBrandIDOptions()\r\n      this.importBoxFlag = true\r\n      this.filterPopoverFlag = false\r\n      this.$nextTick(() => {\r\n        this.$refs['versionInputs'].resetImportForm()\r\n      })\r\n    },\r\n    openPushLayer (dataObj) {\r\n      this.pushDataObj = dataObj\r\n      this.initBrandIDOptions()\r\n      this.pushBoxFlag = true\r\n      this.$nextTick(() => {\r\n        this.$refs['pushUpdates'].resetPushForm()\r\n      })\r\n    },\r\n    // 版本录入\r\n    importSubmit (params) {\r\n      API.pubilcCorsAction(params)\r\n        .then(result => {\r\n          if (result.code === 0) {\r\n            this.$message.success(this.addEditFlag ? '录入成功' : '编辑成功')\r\n            this.importBoxFlag = false\r\n            this.pageChange_two(1)\r\n          }\r\n        })\r\n        .catch(result => {\r\n          if (result.message === '该版本信息已存在') {\r\n            this.flag = true\r\n          }\r\n        })\r\n        .then(() => {\r\n          this.flag = false\r\n        })\r\n    },\r\n    // 推送升级\r\n    pushUpdate (params) {\r\n      API.pubilcCorsAction(params).then(result => {\r\n        if (result.code === 0) {\r\n          this.$message.success('推送成功')\r\n          this.pushBoxFlag = false\r\n          this.pageChange_two(1)\r\n        }\r\n      })\r\n    },\r\n    pageChange_two (page) {\r\n      if (page) {\r\n        this.currentPage_two = page\r\n      }\r\n      this.getVersionHistory(this.currentDataObj, this.currentPage_two)\r\n    },\r\n    // 版本匹配搜索\r\n    filterVersions (params) {\r\n      let obj = this\r\n      API.pubilcCorsAction(params).then(result => {\r\n        if (result.code === 0) {\r\n          obj.filterPopoverFlag = false\r\n          obj.firstTableShow = false\r\n          let currentData = result.result\r\n          obj.versionList.tableData = currentData.items\r\n          obj.versionList = versions_children_json\r\n          obj.totalItem = currentData.page.total\r\n        }\r\n      })\r\n    },\r\n    getTypeText (type, os_type) {\r\n      let text = ''\r\n      if (type === 1) {\r\n        text = os_type\r\n      } else {\r\n        text = this.device_type_text[type]\r\n      }\r\n      return text\r\n    },\r\n    getStatusTextPush (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '成功'\r\n          break\r\n        case 0:\r\n          text = '失败'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getStatusText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '有效'\r\n          break\r\n        case 0:\r\n          text = '无效'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getForceText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 3:\r\n          text = '不弹窗升级'\r\n          break\r\n        case 1:\r\n          text = '强制升级'\r\n          break\r\n        case 0:\r\n          text = '不强制'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    getPreReleaseText (type) {\r\n      let text = ''\r\n      switch (type) {\r\n        case 1:\r\n          text = '灰度版本'\r\n          break\r\n        case 0:\r\n          text = '正式版本'\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return text\r\n    },\r\n    // 历史版本\r\n    getVersionHistoryList (page, dataObj) {\r\n      // this.listParams.page = page\r\n      let param = {\r\n        page: page,\r\n        limit: 10,\r\n        level: 2,\r\n        os_type: dataObj.os_type || '',\r\n        router_pid: dataObj.router_pid || '',\r\n        type: dataObj.type,\r\n        product_id: dataObj.product_id || ''\r\n      }\r\n      const obj = this\r\n      API.getVersions(param).then(result => {\r\n        if (result.code === 0) {\r\n          let currentData = result.result\r\n          obj.firstTableShow = false\r\n          if (Array.isArray(currentData.items)) {\r\n            versions_children_json.tableData = currentData.items\r\n          } else {\r\n            let temp = []\r\n            Object.keys(currentData.items).forEach(k => {\r\n              temp.push(currentData.items[k])\r\n            })\r\n            versions_children_json.tableData = temp\r\n          }\r\n          obj.versionList = Object.assign({}, versions_children_json)\r\n          // 适用版app 字段显隐\r\n          // if(this.inputType === 13 && obj.versionList.tableColumn.length == 6){\r\n          //   obj.versionList.tableColumn.push({ \"prop\": \"rule\", \"label\": \"适用语音APP版本\" })\r\n          // }else if(obj.versionList.tableColumn.length > 6) {\r\n          //   obj.versionList.tableColumn.pop()\r\n          // }\r\n          obj.totalItem_two = currentData.page.total\r\n        }\r\n      })\r\n    },\r\n    getVersionHistory (dataObj, page) {\r\n      this.currentDataObj = dataObj // 此操作是为了进入列表，进行各种操作时需要重新刷新列表\r\n      this.inputType = dataObj.type\r\n      this.os_type = dataObj.os_type || ''\r\n      this.secondTitle = this.getVersionTitle(dataObj)\r\n      this.getVersionHistoryList(page, dataObj)\r\n    },\r\n    getVersionTitle (dataObj) {\r\n      let title = ''\r\n      if (dataObj.name) {\r\n        title = dataObj.name + '-版本历史'\r\n      } else {\r\n        if (dataObj.type === 3) {\r\n          title = '子设备-' + dataObj.product_id + '-版本历史'\r\n        } else if (dataObj.type === 5) {\r\n          title = 'H5-' + dataObj.product_id + '-版本历史'\r\n        }\r\n      }\r\n      return title\r\n    },\r\n    backToList () {\r\n      this.$router.go(-1)\r\n    },\r\n    getPidName (dataObj) {\r\n      if (dataObj.type === 3 || dataObj.type === 8 || dataObj.type === 5) {\r\n        if (dataObj.product_id) {\r\n          return '--' + dataObj.product_id\r\n        } else {\r\n          return ''\r\n        }\r\n      } else if (dataObj.type === 2) {\r\n        if (dataObj.router_pid) {\r\n          return '--' + dataObj.router_pid\r\n        } else {\r\n          return ''\r\n        }\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 子设备/子路由切换\r\n    deviceRouterChange () {\r\n      this.currentDataObj.type = this.activeName === 'devices' ? 3 : 8\r\n      this.getVersionHistory(this.currentDataObj, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.cp-filterFormBox {\r\n  padding: 20px;\r\n  label {\r\n    line-height: 36px;\r\n  }\r\n  .cpf-line {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n.config-page {\r\n  .el-tabs__active-bar {\r\n    height: 2px;\r\n  }\r\n  .h3_pp {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    margin: 30px 0 15px;\r\n  }\r\n  .cpsr-line {\r\n    margin-bottom: 80px;\r\n  }\r\n  .infoBox {\r\n    font-size: 1rem;\r\n    > div {\r\n      margin-bottom: 18px;\r\n    }\r\n  }\r\n\r\n  .p-r {\r\n    position: relative;\r\n  }\r\n  .btn-back {\r\n    position: absolute;\r\n    right: 10px;\r\n    z-index: 999;\r\n    top: 10px;\r\n  }\r\n  .support-routers {\r\n    border: 1px solid #d8d8d8;\r\n    li {\r\n      line-height: 35px;\r\n      padding-left: 30px;\r\n      height: 35px;\r\n      list-style: none;\r\n      border-bottom: 1px solid #d8d8d8;\r\n    }\r\n    li:last-of-type {\r\n      border-bottom: 0;\r\n    }\r\n  }\r\n  .el-tabs__nav-wrap::after {\r\n    height: 1px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./versionManagerDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./versionManagerDetail.vue?vue&type=template&id=4d9de139&\"\nimport script from \"./versionManagerDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./versionManagerDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./versionManagerDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}