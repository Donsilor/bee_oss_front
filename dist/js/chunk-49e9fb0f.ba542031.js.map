{"version":3,"sources":["webpack:///./src/pages/analyzer/deviceData.vue?9388","webpack:///src/pages/analyzer/deviceData.vue","webpack:///./src/pages/analyzer/deviceData.vue?97f9","webpack:///./src/pages/analyzer/deviceData.vue","webpack:///./src/pages/analyzer/deviceData.vue?e592"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","pickerOptions","model","value","formdata","callback","$$v","$set","expression","on","onCitySelect","staticStyle","search","_v","class","chartSettings1","type","$event","changeCharType","showFamilyCategoryEmpty","operFamilyCategoryCharData","chartExtend1","chartSettings2","showFamilyCategoryRateEmpty","operFamilyCategoryRateCharData","chartExtend2","chartSettings3","showStatEmpty","operStatCharData","chartExtend3","staticRenderFns","num","length","d","getFullYear","padZero","getMonth","getDate","components","CityPicker","data","area","date","platform","province","city","shortcuts","columns","rows","labelMap","family_num","yAxisType","family_rate","oper_num","series","barWidth","itemStyle","normal","label","show","position","formatter","a","componentSubType","mounted","end","setTime","getTime","start","getDeviceAnalyzeData","start_date","formatDate","end_date","methods","val","os_type","app_version","getOperFamilyCategoryData","getOperStatData","key","component"],"mappings":"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","file":"js/chunk-49e9fb0f.ba542031.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\"},[_c('el-row',[_c('el-col',[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',[_c('el-date-picker',{attrs:{\"clearable\":false,\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请选择时间段\",\"type\":\"daterange\",\"align\":\"left\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.formdata.date),callback:function ($$v) {_vm.$set(_vm.formdata, \"date\", $$v)},expression:\"formdata.date\"}})],1),_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择平台\"},model:{value:(_vm.formdata.platform),callback:function ($$v) {_vm.$set(_vm.formdata, \"platform\", $$v)},expression:\"formdata.platform\"}},[_c('el-option',{attrs:{\"label\":\"Android_Pad\",\"value\":\"Android_Pad\"}}),_c('el-option',{attrs:{\"label\":\"IOS\",\"value\":\"IOS\"}}),_c('el-option',{attrs:{\"label\":\"Android\",\"value\":\"Android\"}}),_c('el-option',{attrs:{\"label\":\"IOS_Pad\",\"value\":\"IOS_Pad\"}}),_c('el-option',{attrs:{\"label\":\"合计\",\"value\":\"\"}})],1)],1),_c('el-form-item',[_c('city-picker',{on:{\"change\":_vm.onCitySelect}})],1),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\" 查询 \")])],1)],1)],1)],1),_c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":16}},[_c('div',[_c('span',[_vm._v(\"控制设备家庭户数\")]),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings1.type === 'histogram') ? 'histogram-active' : 'histogram'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings1', 'histogram')}}}),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings1.type === 'line') ? 'line-active' : 'line'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings1', 'line')}}})]),_c('div',[_vm._v(\"单位: 户\")])])],1),_c('ve-chart',{attrs:{\"data-empty\":_vm.showFamilyCategoryEmpty,\"legend-visible\":false,\"data\":_vm.operFamilyCategoryCharData,\"extend\":_vm.chartExtend1,\"settings\":_vm.chartSettings1}})],1)],1),_c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":16}},[_c('div',[_c('span',[_vm._v(\"控制设备家庭比重\")]),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings2.type === 'histogram') ? 'histogram-active' : 'histogram'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings2', 'histogram')}}}),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings2.type === 'line') ? 'line-active' : 'line'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings2', 'line')}}})]),_c('div',[_vm._v(\"单位: %\")])])],1),_c('ve-chart',{attrs:{\"data-empty\":_vm.showFamilyCategoryRateEmpty,\"legend-visible\":false,\"data\":_vm.operFamilyCategoryRateCharData,\"extend\":_vm.chartExtend2,\"settings\":_vm.chartSettings2}})],1)],1),_c('div',{staticStyle:{\"margin\":\"20px\"}},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":16}},[_c('div',[_c('span',[_vm._v(\"控制设备次数\")]),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings3.type === 'histogram') ? 'histogram-active' : 'histogram'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings3', 'histogram')}}}),_c('span',{staticClass:\"type-icon\",class:[(_vm.chartSettings3.type === 'line') ? 'line-active' : 'line'],on:{\"click\":function($event){return _vm.changeCharType('chartSettings3', 'line')}}})]),_c('div',[_vm._v(\"单位: 次\")])])],1),_c('ve-chart',{attrs:{\"data-empty\":_vm.showStatEmpty,\"legend-visible\":false,\"data\":_vm.operStatCharData,\"extend\":_vm.chartExtend3,\"settings\":_vm.chartSettings3}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-content config-page\">\n    <el-row>\n      <el-col>\n        <el-form :inline=\"true\">\n          <el-form-item>\n            <el-date-picker\n              v-model=\"formdata.date\"\n              :clearable=\"false\"\n              :picker-options=\"pickerOptions\"\n              placeholder=\"请选择时间段\"\n              type=\"daterange\"\n              align=\"left\"\n              unlink-panels\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              end-placeholder=\"结束日期\"\n            />\n          </el-form-item>\n          <el-form-item>\n            <el-select\n              v-model=\"formdata.platform\"\n              placeholder=\"请选择平台\"\n            >\n              <el-option\n                label=\"Android_Pad\"\n                value=\"Android_Pad\"\n              />\n              <el-option\n                label=\"IOS\"\n                value=\"IOS\"\n              />\n              <el-option\n                label=\"Android\"\n                value=\"Android\"\n              />\n              <el-option\n                label=\"IOS_Pad\"\n                value=\"IOS_Pad\"\n              />\n              <el-option\n                label=\"合计\"\n                value=\"\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <city-picker @change=\"onCitySelect\" />\n          </el-form-item>\n          <el-form-item style=\"margin-bottom:0\">\n            <el-button\n              type=\"primary\"\n              @click=\"search\"\n            >\n              查询\n            </el-button>\n          </el-form-item>\n        </el-form>\n      </el-col>\n    </el-row>\n\n    <div style=\"margin: 20px\">\n      <el-card shadow=\"never\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"16\">\n            <div>\n              <span>控制设备家庭户数</span>\n              <span\n                :class=\"[(chartSettings1.type === 'histogram') ? 'histogram-active' : 'histogram']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings1', 'histogram')\"\n              />\n              <span\n                :class=\"[(chartSettings1.type === 'line') ? 'line-active' : 'line']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings1', 'line')\"\n              />\n            </div>\n            <div>单位: 户</div>\n          </el-col>\n        </el-row>\n        <ve-chart\n          :data-empty=\"showFamilyCategoryEmpty\"\n          :legend-visible=\"false\"\n          :data=\"operFamilyCategoryCharData\"\n          :extend=\"chartExtend1\"\n          :settings=\"chartSettings1\"\n        />\n        <!-- <ve-histogram :data=\"operFamilyCategoryCharData\" :extend=\"chartExtend\" :settings=\"chartSettings\"></ve-histogram> -->\n      </el-card>\n    </div>\n    <div style=\"margin: 20px\">\n      <el-card shadow=\"never\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"16\">\n            <div>\n              <span>控制设备家庭比重</span>\n              <span\n                :class=\"[(chartSettings2.type === 'histogram') ? 'histogram-active' : 'histogram']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings2', 'histogram')\"\n              />\n              <span\n                :class=\"[(chartSettings2.type === 'line') ? 'line-active' : 'line']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings2', 'line')\"\n              />\n            </div>\n            <div>单位: %</div>\n          </el-col>\n        </el-row>\n        <ve-chart\n          :data-empty=\"showFamilyCategoryRateEmpty\"\n          :legend-visible=\"false\"\n          :data=\"operFamilyCategoryRateCharData\"\n          :extend=\"chartExtend2\"\n          :settings=\"chartSettings2\"\n        />\n        <!-- <ve-histogram :data=\"operFamilyCategoryCharData\" :extend=\"chartExtend\" :settings=\"chartSettings\"></ve-histogram> -->\n      </el-card>\n    </div>\n    <div style=\"margin: 20px\">\n      <el-card shadow=\"never\">\n        <el-row :gutter=\"24\">\n          <el-col :span=\"16\">\n            <div>\n              <span>控制设备次数</span>\n              <span\n                :class=\"[(chartSettings3.type === 'histogram') ? 'histogram-active' : 'histogram']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings3', 'histogram')\"\n              />\n              <span\n                :class=\"[(chartSettings3.type === 'line') ? 'line-active' : 'line']\"\n                class=\"type-icon\"\n                @click=\"changeCharType('chartSettings3', 'line')\"\n              />\n            </div>\n            <div>单位: 次</div>\n          </el-col>\n        </el-row>\n        <ve-chart\n          :data-empty=\"showStatEmpty\"\n          :legend-visible=\"false\"\n          :data=\"operStatCharData\"\n          :extend=\"chartExtend3\"\n          :settings=\"chartSettings3\"\n        />\n        <!-- <ve-histogram :data=\"operStatCharData\" :extend=\"chartExtend\" :settings=\"chartSettings\"></ve-histogram> -->\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CityPicker from '../../components/cityPicker.vue'\nimport axios from 'axios'\nimport * as URL from '~/lib/api'\n\nconst padZero = num => {\n  num = num + ''\n  return num.length === 1 ? '0' + num : num\n}\n\nconst formatDate = d => {\n  return d.getFullYear() + '-' + padZero(d.getMonth() + 1) + '-' + padZero(d.getDate())\n}\n\nexport default {\n  components: {\n    CityPicker\n  },\n  data () {\n    return {\n      area: '',\n      formdata: {\n        date: '',\n        platform: '',\n        province: '',\n        city: ''\n      },\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: '最近一周',\n            onClick (picker) {\n              const end = new Date()\n              const start = new Date()\n              end.setTime(end.getTime() - 3600 * 1000 * 24 * 1)\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: '最近一个月',\n            onClick (picker) {\n              const end = new Date()\n              const start = new Date()\n              end.setTime(end.getTime() - 3600 * 1000 * 24 * 1)\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 31)\n              picker.$emit('pick', [start, end])\n            }\n          },\n          {\n            text: '最近三个月',\n            onClick (picker) {\n              const end = new Date()\n              const start = new Date()\n              end.setTime(end.getTime() - 3600 * 1000 * 24 * 1)\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 93)\n              picker.$emit('pick', [start, end])\n            }\n          }\n        ]\n      },\n      operFamilyCategoryCharData: {\n        columns: ['category_title', 'family_num'],\n        rows: []\n      },\n      operFamilyCategoryRateCharData: {\n        columns: ['category_title', 'family_rate'],\n        rows: []\n      },\n      operStatCharData: {\n        columns: ['category_title', 'oper_num'],\n        rows: []\n      },\n      chartSettings1: {\n        type: 'histogram',\n        labelMap: {\n          family_num: '户数'\n        }\n      },\n      chartSettings2: {\n        yAxisType: ['percent'],\n        type: 'histogram',\n        labelMap: {\n          family_rate: '比重'\n        }\n      },\n      chartSettings3: {\n        type: 'histogram',\n        labelMap: {\n          oper_num: '次数'\n        }\n      },\n      chartExtend1: {\n        // label设置查看echarts 2.x文档\n        series: {\n          barWidth: 40,\n          itemStyle: {\n            normal: {\n              label: { show: true, position: 'top' }\n            }\n          }\n        }\n      },\n      chartExtend2: {\n        series: {\n          barWidth: 40,\n          itemStyle: {\n            normal: {\n              label: {\n                show: true,\n                position: 'top',\n                formatter (a) {\n                  // echarts配置文档中\n                  // line value是数组\n                  // histogram value是number\n                  let value = ''\n                  if (a.componentSubType === 'line') {\n                    value = a.value[1]\n                  } else {\n                    value = a.value\n                  }\n                  return value * 100 + '%'\n                }\n              }\n            }\n          }\n        }\n      },\n      chartExtend3: {\n        series: {\n          barWidth: 40,\n          itemStyle: {\n            normal: {\n              label: { show: true, position: 'top' }\n            }\n          }\n        }\n      },\n      showFamilyCategoryEmpty: false,\n      showFamilyCategoryRateEmpty: false,\n      showStatEmpty: false\n    }\n  },\n  mounted () {\n    const end = new Date()\n    const start = new Date()\n    end.setTime(end.getTime() - 3600 * 1000 * 24 * 1)\n    start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\n    this.formdata.date = [start, end]\n    this.getDeviceAnalyzeData({\n      start_date: formatDate(start),\n      end_date: formatDate(end),\n      city: ''\n    })\n  },\n  methods: {\n    onCitySelect (val) {\n      this.formdata.province = val[0]\n      this.formdata.city = val[1]\n    },\n    search () {\n      const { date, platform, province, city } = this.formdata\n      this.getDeviceAnalyzeData({\n        start_date: formatDate(date[0]),\n        end_date: formatDate(date[1]),\n        province,\n        city,\n        os_type: platform || '',\n        app_version: ''\n      })\n    },\n    getDeviceAnalyzeData (params) {\n      // console.log(params);\n      axios.all([this.getOperFamilyCategoryData(params), this.getOperStatData(params)]).then(\n        axios.spread((operFamilyCategoryData, operStatData) => {\n          this.operFamilyCategoryCharData.rows = operFamilyCategoryData.data.result.list || []\n          this.showFamilyCategoryEmpty = !this.operFamilyCategoryCharData.rows.length\n          this.operFamilyCategoryRateCharData.rows = operFamilyCategoryData.data.result.list || []\n          this.showFamilyCategoryRateEmpty = !this.operFamilyCategoryRateCharData.rows.length\n          this.operStatCharData.rows = operStatData.data.result.list || []\n          this.showStatEmpty = !this.operStatCharData.rows.length\n        })\n      )\n    },\n    getOperFamilyCategoryData (params) {\n      return axios.post(URL.operFamilyCategory, params)\n    },\n    getOperStatData (params) {\n      return axios.post(URL.operStat, params)\n    },\n    // 点击图标转换图标类型\n    changeCharType (key, type) {\n      this[key].type = type\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.analyzer-data {\n  .select {\n    cursor: pointer;\n  }\n  .data-list > div {\n    margin: 15px 0;\n    font-size: 14px;\n    &:nth-child(2) {\n      color: #409eff;\n      font-size: 18px;\n    }\n  }\n}\n.icon-information {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  background-image: url(../../images/icn_explain.png);\n  background-size: 100% 100%;\n}\n.icon-tendency {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  background-image: url(../../images/tendency.png);\n  background-size: 100% 100%;\n}\n.type-icon {\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  background-size: 100% 100%;\n  cursor: pointer;\n}\n.histogram {\n  background-image: url(../../images/icn_histogram.png);\n  margin: 0 10px;\n}\n.histogram-active {\n  background-image: url(../../images/icn_histogram_active.png);\n  margin: 0 10px;\n}\n.line {\n  background-image: url(../../images/icn_line.png);\n}\n.line-active {\n  background-image: url(../../images/icn_line_active.png);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviceData.vue?vue&type=template&id=7749ea96&scoped=true&\"\nimport script from \"./deviceData.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceData.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceData.vue?vue&type=style&index=0&id=7749ea96&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7749ea96\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceData.vue?vue&type=style&index=0&id=7749ea96&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceData.vue?vue&type=style&index=0&id=7749ea96&lang=less&scoped=true&\""],"sourceRoot":""}