(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-200821be"],{"8a8f":function(t,e,r){},afa6:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-content config-page"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:t.firstTableShow,expression:"firstTableShow"}],staticStyle:{width:"100%"},attrs:{data:t.versionsFirst.tableData}},[t._l(t.versionsFirst.tableColumn,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:"auto"},scopedSlots:t._u([{key:"default",fn:function(a){return["type"===e.prop?r("div",[t._v(" "+t._s(t.getTypeText(a.row.type,a.row.os_type)+t.getPidName(a.row))+" ")]):"status"===e.prop?r("div",[t._v(" "+t._s(t.getStatusText(a.row.status))+" ")]):"force"===e.prop?r("div",[t._v(" "+t._s(t.getForceText(a.row.force))+" ")]):"release_time"===e.prop?r("div",[t._v(" "+t._s(t.formatTime(a.row["release_time"]))+" ")]):r("div",[t._v(" "+t._s(a.row[e.prop])+" ")])]}}],null,!0)})})),r("el-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.gotoHistoryList(e.row,1)}}},[t._v(" 查看版本列表 ")])]}}])})],2)],1)},i=[],s=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("b0b0"),n=r("2f62"),p=(r("f1ed"),r("cabf")),u=r("9008"),c=r("0786"),l=r("b333"),b=r("a772"),f=r("6cd5"),d=r("3589"),v=r("8e44");function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var y=g({components:{"version-input":u["a"],"push-update":c["a"],version_detail:l["a"],operate_log:b["a"],"filter-form":f["a"],"version-mapping":d["a"]},filters:{typeToString:function(t){return 1*t===1?"APP":1*t===2?"路由器":1*t===3?"子设备":"未知"},forceToString:function(t){return t?"是":"否"},statusToString:function(t){return t?"启用":"停用"}},data:function(){return{firstTableShow:!0,info:{},totalItem:0,currentPage:1,filterTypeOptions:[{value:2,label:"路由器"},{value:3,label:"子设备"}],listParams:{method:"list_versions",page:1,limit:10,level:1},versionsFirst:{},versionList:{},inputType:"",rulesDetail:{},suportDevice:[],pushHistoryList:{},pushDataObj:{},secondTitle:"",currentDataObj:{},currentDetailObj:{},operateLogLayer:!1,operateLogList:{},addEditFlag:!0,editDataObj:{},releasedFlag:!1,mappingData:{},router:[],os_type:"",routerPidList:[],os_type_text:{1:"android_app",4:"ios_app",6:"android_pad",13:"lua_app"},device_type_text:{2:"路由器",3:"子设备",5:"H5",7:"android_system",11:"route_app",12:"video_app",13:"旗舰版音箱"},getGrayStatus:{0:"无",1:"白名单",2:"黑名单",3:"全量"},activeName:"devices"}}},Object(n["mapActions"])(["getVersions","selectVersion","importSubmitAction","pushUpdateAction","getVersionDetailAction","pubilcCorsAction"]),{computed:g({},Object(n["mapGetters"])({brand:o["c"],type:o["t"],product:o["o"]})),mounted:function(){this.$store.dispatch({type:o["l"]}),this.getVersionList(1)},methods:{formatTime:function(t){return t||"------"},pageChange:function(){this.getVersionList(this.currentPage)},getVersionList:function(t){this.listParams.page=t,this.versionsFirst=Object.assign({},p);var e=this;v["a"].getVersions(e.listParams).then((function(t){0===t.code&&(e.firstTableShow=!0,e.$nextTick((function(){var r=t.result;e.versionsFirst.tableData&&e.versionsFirst.tableData.length||e.setFirstVersionList(r)})))}))},setFirstVersionList:function(t){this.versionsFirst.tableData=[];var e={router:2,h5:5,device:3};for(var r in t)if("android"===r||"android_pad"===r||"ios"===r||"video_app"===r||"route_app"===r||"lua_app"===r)this.versionsFirst.tableData.push(t[r]);else if("{}"===JSON.stringify(t[r]))this.versionsFirst.tableData.push({type:e[r]});else{for(var a in t[r])this.versionsFirst.tableData.push(t[r][a]);if("router"===r)for(var i in this.routerPidList=[],t[r])this.routerPidList.push({label:i,value:i})}},getTypeText:function(t,e){var r="";return r=1===t?e:this.device_type_text[t],r},getStatusTextPush:function(t){var e="";switch(t){case 1:e="成功";break;case 0:e="失败";break;default:break}return e},getStatusText:function(t){var e="";switch(t){case 1:e="有效";break;case 0:e="无效";break;default:break}return e},getForceText:function(t){var e="";switch(t){case 3:e="不弹窗升级";break;case 1:e="强制升级";break;case 0:e="不强制";break;default:break}return e},getPreReleaseText:function(t){var e="";switch(t){case 1:e="灰度版本";break;case 0:e="正式版本";break;default:break}return e},gotoHistoryList:function(t,e){sessionStorage.setItem("CurrentAppInfo",JSON.stringify(t)),this.$router.push({path:"/main/versionManager/".concat(t.id)})},getPidName:function(t){return 3===t.type||8===t.type||5===t.type?t.product_id?"--"+t.product_id:"":2===t.type||7===t.type?t.router_pid?"--"+t.router_pid:"":13===t.type?"--lua_app":""}}}),_=y,m=(r("eb6be"),r("2877")),w=Object(m["a"])(_,a,i,!1,null,null,null);e["default"]=w.exports},cabf:function(t){t.exports=JSON.parse('{"tableColumn":[{"prop":"type","label":"产品类型"},{"prop":"version","label":"版本号"},{"prop":"title","label":"版本Title"},{"prop":"release_time","label":"发布时间"},{"prop":"force","label":"是否强制升级"}],"tableData":[]}')},eb6be:function(t,e,r){"use strict";var a=r("8a8f"),i=r.n(a);i.a}}]);
//# sourceMappingURL=chunk-200821be.670509b2.js.map