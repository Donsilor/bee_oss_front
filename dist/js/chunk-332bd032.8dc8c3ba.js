(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-332bd032"],{"07ac":function(t,e,a){var i=a("23e7"),r=a("6f53").values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},"368c":function(t,e,a){"use strict";var i=a("dff9");a.n(i).a},"47e9":function(t,e,a){"use strict";var i=a("313e"),r=a.n(i),s={props:{className:{type:String,default:"chart"},title:{type:String,default:""},barColor:{type:String,default:"#3AA0FF"},rotate:{type:String,default:"0"},result:{type:Array,default:function(){return[]}},width:{type:String,default:"100%"},id:{type:String,default:"chart"},height:{type:String,default:"300px"}},data:function(){return{chart:null,xAxisData:[],seriesData:[]}},watch:{result:function(){this.xAxisData=[],this.seriesData=[];for(var t=0;t<this.result.length;t++)this.xAxisData.push(this.result[t].F_category_id_map),this.seriesData.push(this.result[t].count);this.initChart()}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(document.getElementById(this.id)),this.chart.setOption({title:{text:this.title,textStyle:{fontWeight:"bolder",fontSize:14,color:"#666666"},left:"1%"},tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{top:50,left:"2%",right:"2%",bottom:"2%",containLabel:!0},xAxis:[{type:"category",data:this.xAxisData,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#CCCCCC"}},axisLabel:{interval:0,nameLocation:"center",rotate:this.rotate,textStyle:{color:"#5D5D5D"}}}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{lineStyle:{color:"#CCCCCC"},show:!1},axisLabel:{textStyle:{color:"#5D5D5D"}},splitLine:{show:!0,lineStyle:{type:"dashed"}}}],series:[{type:"bar",stack:"vistors",barWidth:"30%",itemStyle:{normal:{color:this.barColor}},data:this.seriesData}]})}}},l=a("2877"),n=Object(l.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id,title:t.title,barColor:t.barColor,rotate:t.rotate}})}),[],!1,null,null,null);e.a=n.exports},"6f53":function(t,e,a){function i(t){return function(e){for(var a,i=l(e),o=s(i),c=o.length,u=0,h=[];u<c;)a=o[u++],r&&!n.call(i,a)||h.push(t?[a,i[a]]:i[a]);return h}}var r=a("83ab"),s=a("df75"),l=a("fc6a"),n=a("d1e7").f;t.exports={entries:i(!0),values:i(!1)}},"6f68":function(t,e,a){"use strict";a.r(e),a("07ac");var i=a("313e"),r=a.n(i),s={props:{className:{type:String,default:"chart"},title:{type:String,default:""},barColor:{type:String,default:"#3AA0FF"},result:{type:Object,default:function(){return{}}},width:{type:String,default:"100%"},id:{type:String,default:"chart"},height:{type:String,default:"300px"}},data:function(){return{chart:null,legendData:[],seriesData:[]}},watch:{result:{handler:function(t){for(var e in this.legendData=[],this.seriesData=[],t)this.legendData.push("app"===e?"星络App":"路由器语音"),this.seriesData.push({value:t[e],name:"app"===e?"星络App":"路由器语音"});this.initChart()},deep:!0}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(document.getElementById(this.id)),this.chart.setOption({title:{text:this.title,textStyle:{fontWeight:"bolder",fontSize:14,color:"#666666"},left:"1%"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{icon:"circle",bottom:10,left:"center",data:this.legendData},series:[{name:"分布情况",type:"pie",radius:"65%",center:["50%","50%"],data:this.seriesData}]})}}},l=a("2877"),n=Object(l.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id,title:t.title,barColor:t.barColor}})}),[],!1,null,null,null).exports,o=a("47e9"),c=(a("159b"),{props:{className:{type:String,default:"chart"},title:{type:String,default:""},result:{type:Object,default:function(){return{}}},width:{type:String,default:"100%"},id:{type:String,default:"chart"},height:{type:String,default:"300px"}},data:function(){return{chart:null,legendData:[],xAxisData:[],seriesData:[]}},watch:{result:function(){this.xAxisData=[],this.legendData=[],this.seriesData=[];var t={};for(var e in this.result)this.xAxisData.push(e),this.result[e].forEach((function(e,a){t[e.F_category_id_map]||(t[e.F_category_id_map]=[]),t[e.F_category_id_map].push(e.F_app)}));for(var a in t)this.legendData.push(a),this.seriesData.push({name:a,type:"line",data:t[a]});this.initChart()}},mounted:function(){},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(document.getElementById(this.id)),this.chart.setOption({title:{text:this.title,textStyle:{fontWeight:"bolder",fontSize:14,color:"#666666"},left:"1%"},tooltip:{trigger:"axis",axisPointer:{type:"line"}},legend:{bottom:0,icon:"rect",itemWidth:14,itemHeight:5,itemGap:25,data:this.legendData,left:"center",textStyle:{fontSize:12}},grid:{top:50,left:"2%",right:"2%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:this.xAxisData}],yAxis:[{type:"value"}],series:this.seriesData})}}}),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id,title:t.title}})}),[],!1,null,null,null).exports,h=a("bc3a"),d=a.n(h),p=a("46f1"),y={components:{PieChart:n,SimpleChart:o.a,LineChart:u},data:function(){return{formdata:{date:"",province:"",city:""},dateRange:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-864e5),t.$emit("pick",[a,e])}},{text:"最近7天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近30天",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}}]},equipmentAnalyzer:{totalCount:0,lastDate:null,text:"累计入网设备数"},userAnalyzer:{totalCount:0,lastDate:null,text:"总控制用户数"},controlAnalyzer:{totalCount:0,lastDate:null,text:"总控制次数"},allAppNum:[],allAppUserNum:[],allRouterNum:[],allRouterUserNum:[],tendencyArray:{},networkType:{"2G":"","3G":"","4G":"",WiFi:"",other:""},controlWay:{app:"",router:""},dataRange:""}},mounted:function(){this.getControlAnalysis();var t=new Date;t.setTime(t.getTime()-864e5),this.equipmentAnalyzer.lastDate=this.formatDate(t),this.userAnalyzer.lastDate=this.formatDate(t),this.controlAnalyzer.lastDate=this.formatDate(t)},methods:{getControlAnalysis:function(t){var e=this;d.a.post(p.e,t).then((function(t){if(200===t.data.code){var a=t.data.result.data;e.equipmentAnalyzer.totalCount=a.summary.F_device||0,e.userAnalyzer.totalCount=a.summary.F_usr||0,e.controlAnalyzer.totalCount=a.summary.F_total||0,e.networkType["2G"]=a.summary.F_net_2G,e.networkType["3G"]=a.summary.F_net_3G,e.networkType["4G"]=a.summary.F_net_4G,e.networkType.WiFi=a.summary.F_net_wifi,e.networkType.other=a.summary.F_net_unknown,e.controlWay.app=a.summary.F_chan_app,e.controlWay.router=a.summary.F_chan_router,e.tendencyArray=a.detail_data,e.allAppNum=Object.values(a.category_data.F_app),e.allAppUserNum=Object.values(a.category_data.F_app_usr),e.allRouterNum=Object.values(a.category_data.F_router),e.allRouterUserNum=Object.values(a.category_data.F_router_usr)}}))},changeDate:function(t){var e=t?t[0].getTime():"",a=(t?t[1].getTime():"")-e;this.isShowUnitMon=52704e5<a,this.isShowUnitWeek=12096e5<a},onCitySelect:function(t){this.formdata.province=t[0],this.formdata.city=t[1]},search:function(){var t={start_time:this.dateRange[0].Format("yyyy-MM-dd"),end_time:this.dateRange[1].Format("yyyy-MM-dd")};this.equipmentAnalyzer.lastDate=t.end_time,this.userAnalyzer.lastDate=t.end_time,this.controlAnalyzer.lastDate=t.end_time,this.getControlAnalysis(t)},formatDate:function(t){function e(t){return 1===(t+="").length?"0"+t:t}return t?t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate()):""}}},m=(a("368c"),Object(l.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-content config-page"},[a("el-row",[a("el-col",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-date-picker",{attrs:{clearable:!1,"picker-options":t.pickerOptions,placeholder:"请选择时间段",type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeDate},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v(" 查询 ")])],1)],1)],1)],1),a("el-row",[a("el-col",{staticClass:"col-280"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"data-list"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:16}},[a("span",[t._v(t._s(t.equipmentAnalyzer.text))])])],1),a("div",[t._v(t._s(t.equipmentAnalyzer.totalCount))]),a("div",[t._v("截止到 "+t._s(t.equipmentAnalyzer.lastDate))])],1)])],1),a("el-col",{staticClass:"col-280"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"data-list"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:16}},[a("span",[t._v(t._s(t.userAnalyzer.text))])])],1),a("div",[t._v(t._s(t.userAnalyzer.totalCount))]),a("div",[t._v("截止到 "+t._s(t.userAnalyzer.lastDate))])],1)])],1),a("el-col",{staticClass:"col-280"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"data-list"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:16}},[a("span",[t._v(t._s(t.controlAnalyzer.text))])])],1),a("div",[t._v(t._s(t.controlAnalyzer.totalCount))]),a("div",[t._v("截止到 "+t._s(t.controlAnalyzer.lastDate))])],1)])],1)],1),a("div",{staticClass:"network-equipment"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("pie-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"pieChart1",result:t.controlWay,title:"控制途径分布"}})],1),a("el-col",{attrs:{span:12}})],1)],1)],1),a("div",{staticClass:"network-equipment"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("simple-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"chart1",result:t.allAppNum,title:"手机控制次数分析（单位：次）",rotate:"45"}})],1),a("el-col",{attrs:{span:12}},[a("simple-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"chart12",result:t.allAppUserNum,title:"手机控制人数分析（单位：个）",rotate:"45","bar-color":"#68D388"}})],1)],1)],1)],1),a("div",{staticClass:"network-equipment"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",[a("line-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"phoneControlTimes",result:t.tendencyArray,title:"手机控制次数趋势图",rotate:"0"}})],1)],1)],1)],1),a("div",{staticClass:"network-equipment"},[a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("simple-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"voice-chart",result:t.allRouterNum,title:"语音控制次数分析（单位：次）",rotate:"45"}})],1),a("el-col",{attrs:{span:12}},[a("simple-chart",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"voice-chart1",result:t.allRouterUserNum,title:"语音控制人数分析（单位：个）",rotate:"45","bar-color":"#68D388"}})],1)],1)],1)],1)],1)}),[],!1,null,"20d79a33",null));e.default=m.exports},dff9:function(t,e,a){}}]);