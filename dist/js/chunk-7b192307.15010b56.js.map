{"version":3,"sources":["webpack:///./src/pages/upgradeCenter/util.js","webpack:///./src/pages/upgradeCenter/appUpgradeDetail.vue?42d8","webpack:///src/pages/upgradeCenter/appUpgradeDetail.vue","webpack:///./src/pages/upgradeCenter/appUpgradeDetail.vue?8c2b","webpack:///./src/pages/upgradeCenter/appUpgradeDetail.vue"],"names":["formatValue","key","val","0","1","2","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","back","_v","addAppVer","list","row","col","scopedSlots","_u","fn","scope","staticStyle","$event","view","edit","del","setConf","setStatus","_s","status","total","limit","currentPage","onPageChange","dialogVisible","isEdit","onClose","ref","form","rules","model","value","callback","$$v","$set","expression","appInfo","os_type","_e","fileListObj","getSuccessNews","corsUrls","getUploadDataImg","uploadObj","fileListImg","saveAppVer","pushBoxFlag","pushForm","release_type","terminal_type","uuid_upload","getUploadDataUUid","pushUpdateForm","detailDialogVisible","currentRow","title","version","app_id","description","download_url_object","download_file_md5","size","force","upgrade_limit","current_upgrade_count","created_at","updated_at","uuidList","uuidsTotal","uuidsCurrentPage","onUuidPageChange","staticRenderFns","components","uploadFile","data","token","JSON","parse","localStorage","getItem","uuid_csv","uuid_list","img_url_object","pushFormRules","mounted","user","info","console","log","e","getList","methods","$router","go","page","$refs","clearFiles","ruleForm","validate","valid","user_id","Object","assign","$confirm","then","getUuidList","object","validateField","result","version_id","retParams","split","clearValidate","component"],"mappings":"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","file":"js/chunk-7b192307.15010b56.js","sourcesContent":["export function formatValue (key, val) {\n  if (key === 'force') {\n    return {\n      0: '否',\n      1: '是'\n    }[val]\n  }\n  if (key === 'release_type') {\n    return {\n      0: '全量升级',\n      1: '白名单',\n      2: '黑名单'\n    }[val]\n  }\n  if (key === 'status') {\n    return {\n      0: '禁用',\n      1: '启用'\n    }[val]\n  }\n  return ''\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-content config-page\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{on:{\"click\":_vm.back}},[_vm._v(\" 返回 \")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addAppVer}},[_vm._v(\" 录入版本 \")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.list}},[_c('el-table-column',{attrs:{\"label\":\"版本标题\",\"prop\":\"title\"}}),_c('el-table-column',{attrs:{\"label\":\"版本号\",\"prop\":\"version\"}}),_c('el-table-column',{attrs:{\"formatter\":function (row, col, val){ return _vm.formatValue('force', val); },\"label\":\"强制升级\",\"prop\":\"force\"}}),_c('el-table-column',{attrs:{\"formatter\":function (row, col, val){ return _vm.formatValue('release_type', val); },\"label\":\"发布类型\",\"prop\":\"release_type\"}}),_c('el-table-column',{attrs:{\"label\":\"升级数量限制\",\"prop\":\"upgrade_limit\"}}),_c('el-table-column',{attrs:{\"label\":\"升级成功数\",\"prop\":\"current_upgrade_count\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"created_at\"}}),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"prop\":\"updated_at\"}}),_c('el-table-column',{attrs:{\"width\":\"300px\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticStyle:{\"margin-bottom\":\"5px\"}},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.view(scope.row)}}},[_vm._v(\" 查看 \")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\" 编辑 \")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(scope.row)}}},[_vm._v(\" 删除 \")])],1),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setConf(scope.row)}}},[_vm._v(\" 升级设置 \")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setStatus(scope.row)}}},[_vm._v(\" \"+_vm._s(scope.row.status===1?'禁用':'启用')+\" \")])]}}])})],1),_c('div',{staticClass:\"page-line\"},[_c('el-pagination',{attrs:{\"total\":_vm.total,\"page-size\":_vm.limit,\"current-page\":_vm.currentPage,\"small\":\"\",\"layout\":\"prev, pager, next\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"current-change\":_vm.onPageChange}})],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"title\":_vm.isEdit?'编辑':'新增'},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.onClose}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"150px\"}},[_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"版本Title\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"版本号\",\"prop\":\"version\"}},[_c('el-input',{attrs:{\"disabled\":_vm.isEdit,\"placeholder\":\"\"},model:{value:(_vm.form.version),callback:function ($$v) {_vm.$set(_vm.form, \"version\", $$v)},expression:\"form.version\"}})],1),_c('el-form-item',{attrs:{\"label\":\"升级描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"rows\":3,\"type\":\"textarea\",\"placeholder\":\"\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)],1),(_vm.appInfo.os_type!=1)?_c('el-form-item',{attrs:{\"label\":\"appstore链接\",\"prop\":\"download_url_object\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.form.download_url_object),callback:function ($$v) {_vm.$set(_vm.form, \"download_url_object\", $$v)},expression:\"form.download_url_object\"}})],1):_vm._e(),(_vm.appInfo.os_type==1)?_c('el-form-item',{attrs:{\"label\":\"上传固件包\",\"prop\":\"download_url_object\"}},[_c('upload-file',{ref:\"uploadFile\",staticClass:\"newButtonStyle\",attrs:{\"file-list\":_vm.fileListObj},on:{\"uploadSuccess\":_vm.getSuccessNews}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"上传img图片\",\"prop\":\"img_url_object\"}},[_c('el-upload',{ref:\"uploadFileImg\",staticClass:\"upload-demo\",attrs:{\"action\":_vm.corsUrls,\"on-success\":_vm.getUploadDataImg,\"data\":_vm.uploadObj,\"limit\":1,\"file-list\":_vm.fileListImg}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\" 点击上传 \")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"是否强制升级\",\"prop\":\"force\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.force),callback:function ($$v) {_vm.$set(_vm.form, \"force\", $$v)},expression:\"form.force\"}},[_c('el-option',{attrs:{\"value\":1,\"label\":\"是\"}}),_c('el-option',{attrs:{\"value\":0,\"label\":\"否\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"升级数量限制\",\"prop\":\"upgrade_limit\"}},[_c('el-input',{model:{value:(_vm.form.upgrade_limit),callback:function ($$v) {_vm.$set(_vm.form, \"upgrade_limit\", $$v)},expression:\"form.upgrade_limit\"}})],1),_c('el-form-item',{attrs:{\"label\":\"版本状态\",\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-option',{attrs:{\"value\":1,\"label\":\"启用\"}}),_c('el-option',{attrs:{\"value\":0,\"label\":\"停用\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"note\"}},[_c('el-input',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.form.note),callback:function ($$v) {_vm.$set(_vm.form, \"note\", $$v)},expression:\"form.note\"}})],1),_c('el-form-item',[_c('el-button',{on:{\"click\":_vm.saveAppVer}},[_vm._v(\" 确定 \")])],1)],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.pushBoxFlag,\"title\":\"升级设置\"},on:{\"update:visible\":function($event){_vm.pushBoxFlag=$event}}},[_c('el-form',{attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"升级类型\",\"prop\":\"push_type\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择类型\"},model:{value:(_vm.pushForm.release_type),callback:function ($$v) {_vm.$set(_vm.pushForm, \"release_type\", $$v)},expression:\"pushForm.release_type\"}},[_c('el-option',{attrs:{\"value\":0,\"label\":\"全量升级\"}}),_c('el-option',{attrs:{\"value\":1,\"label\":\"白名单\"}}),_c('el-option',{attrs:{\"value\":2,\"label\":\"黑名单\"}})],1)],1),(_vm.pushForm.release_type)?_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"推送客户端\",\"prop\":\"push_type\"}},[_c('el-radio-group',{model:{value:(_vm.pushForm.terminal_type),callback:function ($$v) {_vm.$set(_vm.pushForm, \"terminal_type\", $$v)},expression:\"pushForm.terminal_type\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\" 输入uuid \")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\" 上传csv压缩包 \")])],1)],1)],1):_vm._e(),(_vm.pushForm.release_type && _vm.pushForm.terminal_type)?_c('el-form-item',{attrs:{\"label\":\"uuid_list\",\"prop\":\"uuid_list\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{staticStyle:{\"padding-left\":\"0\"},attrs:{\"span\":17}},[_c('el-input',{model:{value:(_vm.pushForm.uuid_list),callback:function ($$v) {_vm.$set(_vm.pushForm, \"uuid_list\", $$v)},expression:\"pushForm.uuid_list\"}})],1)],1),_c('el-row',[_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"}},[_vm._v(\"可输入多个uuid，用逗号隔开\")])])],1):_vm._e(),(_vm.pushForm.release_type && !_vm.pushForm.terminal_type)?_c('el-form-item',{attrs:{\"label\":\"uuid_csv\",\"prop\":\"uuid_csv\"}},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{staticStyle:{\"padding-left\":\"0\"},attrs:{\"span\":17}},[_c('el-upload',{ref:\"uploadFile\",staticClass:\"upload-demo\",attrs:{\"action\":_vm.uuid_upload,\"data\":_vm.uploadObj,\"on-success\":_vm.getUploadDataUUid,\"limit\":1}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\" 点击上传 \")])],1)],1)],1)],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.pushUpdateForm('pushForm')}}},[_vm._v(\" 确定 \")])],1)],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.detailDialogVisible,\"title\":'详情 - '+_vm.currentRow.title},on:{\"update:visible\":function($event){_vm.detailDialogVisible=$event}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('p',[_vm._v(\"版本号：\"+_vm._s(_vm.currentRow.version))]),_c('p',[_vm._v(\"APP_ID：\"+_vm._s(_vm.currentRow.app_id))]),_c('p',[_vm._v(\"描述：\"+_vm._s(_vm.currentRow.description))]),_c('p',[_vm._v(\"固件URL：\"+_vm._s(_vm.currentRow.download_url_object))]),_c('p',[_vm._v(\"固件MD5：\"+_vm._s(_vm.currentRow.download_file_md5))]),_c('p',[_vm._v(\"固件大小：\"+_vm._s(_vm.currentRow.size))])]),_c('el-col',{attrs:{\"span\":12}},[_c('p',[_vm._v(\"强制升级：\"+_vm._s(_vm.formatValue('force', _vm.currentRow.force)))]),_c('p',[_vm._v(\"升级类型：\"+_vm._s(_vm.formatValue('release_type', _vm.currentRow.release_type)))]),_c('p',[_vm._v(\"升级限制数量：\"+_vm._s(_vm.currentRow.upgrade_limit))]),_c('p',[_vm._v(\"升级成功数量：\"+_vm._s(_vm.currentRow.current_upgrade_count))]),_c('p',[_vm._v(\"状态：\"+_vm._s(_vm.formatValue('status', _vm.currentRow.status)))])])],1),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_vm._v(\" 创建时间：\"+_vm._s(_vm.currentRow.created_at)+\" \")]),_c('el-col',{attrs:{\"span\":12}},[_vm._v(\" 更新时间：\"+_vm._s(_vm.currentRow.updated_at)+\" \")])],1),_c('el-row',{staticStyle:{\"padding\":\"20px 0\"}},[_c('el-table',{attrs:{\"data\":_vm.uuidList}},[_c('el-table-column',{attrs:{\"prop\":\"app_uuid\",\"label\":\"app_uuid\"}})],1),_c('div',{staticClass:\"page-line\"},[_c('el-pagination',{attrs:{\"total\":_vm.uuidsTotal,\"page-size\":5,\"current-page\":_vm.uuidsCurrentPage,\"small\":\"\",\"layout\":\"prev, pager, next\"},on:{\"update:currentPage\":function($event){_vm.uuidsCurrentPage=$event},\"update:current-page\":function($event){_vm.uuidsCurrentPage=$event},\"current-change\":_vm.onUuidPageChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-content config-page\">\n    <el-row>\n      <el-col :span=\"24\">\n        <el-button @click=\"back\">\n          返回\n        </el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"addAppVer\">\n          录入版本\n        </el-button>\n      </el-col>\n    </el-row>\n\n    <el-table :data=\"list\">\n      <el-table-column\n        label=\"版本标题\"\n        prop=\"title\"/>\n      <el-table-column\n        label=\"版本号\"\n        prop=\"version\"/>\n      <el-table-column\n        :formatter=\"(row, col, val)=>formatValue('force', val)\"\n        label=\"强制升级\"\n        prop=\"force\"/>\n      <el-table-column\n        :formatter=\"(row, col, val)=>formatValue('release_type', val)\"\n        label=\"发布类型\"\n        prop=\"release_type\"/>\n      <el-table-column\n        label=\"升级数量限制\"\n        prop=\"upgrade_limit\"/>\n      <el-table-column\n        label=\"升级成功数\"\n        prop=\"current_upgrade_count\"/>\n      <el-table-column\n        label=\"创建时间\"\n        prop=\"created_at\"/>\n      <el-table-column\n        label=\"更新时间\"\n        prop=\"updated_at\"/>\n      <el-table-column\n        width=\"300px\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <p style=\"margin-bottom: 5px;\">\n            <el-button\n              size=\"mini\"\n              @click=\"view(scope.row)\">\n              查看\n            </el-button>\n\n            <el-button\n              size=\"mini\"\n              @click=\"edit(scope.row)\">\n              编辑\n            </el-button>\n            <el-button\n              size=\"mini\"\n              @click=\"del(scope.row)\">\n              删除\n            </el-button>\n          </p>\n          <el-button\n            size=\"mini\"\n            @click=\"setConf(scope.row)\">\n            升级设置\n          </el-button>\n          <el-button\n            size=\"mini\"\n            @click=\"setStatus(scope.row)\">\n            {{ scope.row.status===1?'禁用':'启用' }}\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"page-line\">\n      <el-pagination\n        :total=\"total\"\n        :page-size=\"limit\"\n        :current-page.sync=\"currentPage\"\n        small\n        layout=\"prev, pager, next\"\n        @current-change=\"onPageChange\"/>\n    </div>\n\n    <!-- 新增,编辑 -->\n    <el-dialog\n      :visible.sync=\"dialogVisible\"\n      :title=\"isEdit?'编辑':'新增'\"\n      @close=\"onClose\">\n      <el-form\n        ref=\"ruleForm\"\n        :model=\"form\"\n        :rules=\"rules\"\n        label-width=\"150px\">\n        <el-row>\n          <!-- <el-col :span=\"12\"> -->\n          <el-form-item\n            label=\"版本Title\"\n            prop=\"title\">\n            <el-input\n              v-model=\"form.title\"\n              placeholder=\"\"/>\n          </el-form-item>\n\n          <el-form-item\n            label=\"版本号\"\n            prop=\"version\">\n            <el-input\n              v-model=\"form.version\"\n              :disabled=\"isEdit\"\n              placeholder=\"\"/>\n          </el-form-item>\n\n          <el-form-item\n            label=\"升级描述\"\n            prop=\"description\">\n            <el-input\n              :rows=\"3\"\n              v-model=\"form.description\"\n              type=\"textarea\"\n              placeholder=\"\"/>\n          </el-form-item>\n        </el-row>\n\n        <el-form-item\n          v-if=\"appInfo.os_type!=1\"\n          label=\"appstore链接\"\n          prop=\"download_url_object\">\n          <el-input\n            v-model=\"form.download_url_object\"\n            type=\"text\"/>\n        </el-form-item>\n\n        <el-form-item\n          v-if=\"appInfo.os_type==1\"\n          label=\"上传固件包\"\n          prop=\"download_url_object\">\n          <upload-file\n            ref=\"uploadFile\"\n            :file-list=\"fileListObj\"\n            class=\"newButtonStyle\"\n            @uploadSuccess=\"getSuccessNews\"/>\n        </el-form-item>\n\n        <el-form-item\n          label=\"上传img图片\"\n          prop=\"img_url_object\">\n          <el-upload\n            ref=\"uploadFileImg\"\n            :action=\"corsUrls\"\n            :on-success=\"getUploadDataImg\"\n            :data=\"uploadObj\"\n            :limit=\"1\"\n            :file-list=\"fileListImg\"\n            class=\"upload-demo\">\n            <el-button\n              size=\"small\"\n              type=\"primary\">\n              点击上传\n            </el-button>\n          </el-upload>\n        </el-form-item>\n\n        <el-form-item\n          label=\"是否强制升级\"\n          prop=\"force\">\n          <el-select\n            v-model=\"form.force\"\n            placeholder=\"请选择\">\n            <el-option\n              :value=\"1\"\n              label=\"是\"/>\n            <el-option\n              :value=\"0\"\n              label=\"否\"/>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item\n          label=\"升级数量限制\"\n          prop=\"upgrade_limit\">\n          <el-input v-model=\"form.upgrade_limit\"/>\n        </el-form-item>\n\n        <el-form-item\n          label=\"版本状态\"\n          prop=\"status\">\n          <el-select\n            v-model=\"form.status\"\n            placeholder=\"请选择\">\n            <el-option\n              :value=\"1\"\n              label=\"启用\"/>\n            <el-option\n              :value=\"0\"\n              label=\"停用\"/>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\"备注\"\n          prop=\"note\">\n          <el-input\n            v-model=\"form.note\"\n            placeholder=\"\"/>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button @click=\"saveAppVer\">\n            确定\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <!-- 升级设置 -->\n    <el-dialog\n      :visible.sync=\"pushBoxFlag\"\n      title=\"升级设置\">\n      <el-form label-width=\"100px\">\n        <el-form-item\n          label=\"升级类型\"\n          prop=\"push_type\">\n          <el-select\n            v-model=\"pushForm.release_type\"\n            placeholder=\"选择类型\">\n            <el-option\n              :value=\"0\"\n              label=\"全量升级\"/>\n            <el-option\n              :value=\"1\"\n              label=\"白名单\"/>\n            <el-option\n              :value=\"2\"\n              label=\"黑名单\"/>\n          </el-select>\n        </el-form-item>\n\n        <el-row v-if=\"pushForm.release_type\">\n          <el-form-item\n            label=\"推送客户端\"\n            prop=\"push_type\">\n            <el-radio-group v-model=\"pushForm.terminal_type\">\n              <el-radio :label=\"1\">\n                输入uuid\n              </el-radio>\n              <el-radio :label=\"0\">\n                上传csv压缩包\n              </el-radio>\n            </el-radio-group>\n          </el-form-item>\n        </el-row>\n        <el-form-item\n          v-if=\"pushForm.release_type && pushForm.terminal_type\"\n          label=\"uuid_list\"\n          prop=\"uuid_list\">\n          <el-row :gutter=\"24\">\n            <el-col\n              :span=\"17\"\n              style=\"padding-left:0\">\n              <el-input v-model=\"pushForm.uuid_list\"/>\n            </el-col>\n          </el-row>\n          <el-row>\n            <span style=\"font-size: 12px; color: #999\">可输入多个uuid，用逗号隔开</span>\n          </el-row>\n        </el-form-item>\n        <el-form-item\n          v-if=\"pushForm.release_type && !pushForm.terminal_type\"\n          label=\"uuid_csv\"\n          prop=\"uuid_csv\">\n          <el-row :gutter=\"24\">\n            <el-col\n              :span=\"17\"\n              style=\"padding-left:0\">\n              <el-upload\n                ref=\"uploadFile\"\n                :action=\"uuid_upload\"\n                :data=\"uploadObj\"\n                :on-success=\"getUploadDataUUid\"\n                :limit=\"1\"\n                class=\"upload-demo\">\n                <el-button\n                  size=\"small\"\n                  type=\"primary\">\n                  点击上传\n                </el-button>\n              </el-upload>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            @click=\"pushUpdateForm('pushForm')\">\n            确定\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n\n    <!-- 详情 -->\n    <el-dialog\n      :visible.sync=\"detailDialogVisible\"\n      :title=\"'详情 - '+currentRow.title\">\n      <el-row>\n        <el-col :span=\"12\">\n          <p>版本号：{{ currentRow.version }}</p>\n          <p>APP_ID：{{ currentRow.app_id }}</p>\n          <p>描述：{{ currentRow.description }}</p>\n          <p>固件URL：{{ currentRow.download_url_object }}</p>\n          <p>固件MD5：{{ currentRow.download_file_md5 }}</p>\n          <p>固件大小：{{ currentRow.size }}</p>\n        </el-col>\n        <el-col :span=\"12\">\n          <p>强制升级：{{ formatValue('force', currentRow.force) }}</p>\n          <p>升级类型：{{ formatValue('release_type', currentRow.release_type) }}</p>\n          <p>升级限制数量：{{ currentRow.upgrade_limit }}</p>\n          <p>升级成功数量：{{ currentRow.current_upgrade_count }}</p>\n          <p>状态：{{ formatValue('status', currentRow.status) }}</p>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"12\">\n          创建时间：{{ currentRow.created_at }}\n        </el-col>\n        <el-col :span=\"12\">\n          更新时间：{{ currentRow.updated_at }}\n        </el-col>\n      </el-row>\n      <el-row style=\"padding: 20px 0\">\n        <el-table :data=\"uuidList\">\n          <el-table-column\n            prop=\"app_uuid\"\n            label=\"app_uuid\"/>\n        </el-table>\n        <div class=\"page-line\">\n          <el-pagination\n            :total=\"uuidsTotal\"\n            :page-size=\"5\"\n            :current-page.sync=\"uuidsCurrentPage\"\n            small\n            layout=\"prev, pager, next\"\n            @current-change=\"onUuidPageChange\"/>\n        </div>\n      </el-row>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport API from '../../service/index'\nimport uploadFile from '../../components/uploadFile.vue'\nimport getCorsUrl from '../../lib/corsconfig'\nimport { formatValue } from './util.js'\n\nexport default {\n  components: {\n    uploadFile\n  },\n  data () {\n    return {\n      list: [],\n      total: 0,\n      currentPage: 1,\n      limit: 10,\n      form: {},\n      isEdit: false,\n      dialogVisible: false,\n      detailDialogVisible: false,\n      fileListObj: [],\n      fileListImg: [],\n      corsUrls: getCorsUrl() + '/oss_file_upload',\n      uuid_upload: getCorsUrl() + '/uuid_upload',\n      uploadObj: {\n        token: ''\n      },\n      appInfo: JSON.parse(localStorage.getItem('CurrentAppVerInfo')),\n      pushBoxFlag: false,\n      pushForm: {\n        release_type: 0,\n        terminal_type: 1,\n        uuid_csv: '',\n        uuid_list: ''\n      },\n      currentRow: {},\n      rules: {\n        title: [\n          { required: true, message: '请输入标题', trigger: 'blur' }\n        ],\n        version: [\n          { required: true, message: '请输入版本号', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: '请输入升级描述', trigger: 'blur' }\n        ],\n        download_url_object: [\n          { required: true, message: '请上传固件包或appstore链接', trigger: 'blur' }\n        ],\n        img_url_object: [\n          { required: true, message: '请上传图片', trigger: 'blur' }\n        ],\n        force: [\n          { required: true, message: '请选择是否强制升级', trigger: 'blur' }\n        ],\n        status: [\n          { required: true, message: '请选择版本状态', trigger: 'blur' }\n        ]\n      },\n      pushFormRules: {},\n      uuidList: [],\n      uuidsTotal: 0,\n      uuidsCurrentPage: 1\n    }\n  },\n  mounted () {\n    try {\n      this.uploadObj.token = JSON.parse(localStorage.getItem('localData')).user.info.token\n    } catch (e) {\n      console.log(e)\n    }\n    this.getList()\n  },\n  methods: {\n    back () {\n      this.$router.go(-1)\n    },\n    getList () {\n      API.getAppVerList({\n        page: this.currentPage,\n        limit: this.limit,\n        app_id: this.appInfo.app_id\n      }).then(res => {\n        this.total = res.data.result.total\n        this.currentPage = res.data.result.current_page\n        this.list = res.data.result.data\n      })\n    },\n    addAppVer () {\n      this.isEdit = false\n      this.dialogVisible = true\n      this.form = {}\n      this.fileListImg = []\n      this.fileListObj = []\n      try {\n        this.$refs.uploadFile.clearFiles()\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    onPageChange (page) {\n      this.currentPage = page\n      this.getList()\n    },\n    saveAppVer () {\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          let params = Object.assign({}, this.form, {\n            app_id: this.appInfo.app_id,\n            user_id: ''\n          })\n          API.saveAppVer(params).then(res => {\n            this.dialogVisible = false\n            this.$message.success('保存成功')\n            this.getList()\n          })\n        }\n      })\n    },\n    edit (row) {\n      this.isEdit = true\n      this.dialogVisible = true\n      this.form = Object.assign({}, row)\n      console.log(row)\n      let imgName = row['img_url_object']\n      this.fileListImg = [{ name: imgName, url: imgName }]\n      if (this.appInfo.os_type === 1) {\n        let objName = row['download_url_object']\n        this.fileListObj = [{ name: objName, url: objName }]\n      }\n    },\n    del (row) {\n      this.$confirm('确定删除？').then(() => {\n        API.delAppVer({ version_id: row.version_id }).then(() => {\n          this.$message.success('删除成功')\n          this.getList()\n        })\n      })\n    },\n    view (row) {\n      this.currentRow = row\n      this.detailDialogVisible = true\n      this.getUuidList()\n    },\n\n    getUploadDataImg (val) {\n      let data = val.result\n      this.form.img_url_object = data.object\n      this.$refs.ruleForm.validateField('img_url_object')\n    },\n    getUploadDataUUid (val) {\n      this.pushForm.uuid_csv = val.result\n    },\n    getSuccessNews: function (val) {\n      if (val) {\n        this.form.download_url_object = val.download_url_object\n        this.form.download_file_md5 = val.download_file_md5\n        this.form.size = val.size\n        this.$refs.ruleForm.validateField('download_url_object')\n      }\n    },\n    setConf (row) {\n      this.currentRow = row\n      this.pushBoxFlag = true\n      this.pushForm.release_type = row.release_type\n      this.pushForm.uuid_list = ''\n      this.pushForm.uuid_csv = ''\n      // API.getAppVerUuids({version_id: row.version_id}).then(res => {\n      // this.pushForm.uuid_list = res.data.result;\n      // })\n    },\n    setStatus (row) {\n      API.setAppVerStatus({\n        version_id: row.version_id,\n        status: row.status === 1 ? 0 : 1\n      }).then(() => {\n        this.$message.success('操作成功')\n        this.getList()\n      })\n    },\n    pushUpdateForm () {\n      let retParams = {\n        version_id: this.currentRow.version_id,\n        release_type: this.pushForm.release_type\n      }\n      if (this.pushForm.release_type) {\n        if (this.pushForm.terminal_type === 1) {\n          retParams.uuid_list = this.pushForm.uuid_list.split(',')\n        } else if (this.pushForm.terminal_type === 0) {\n          retParams.uuid_list = this.pushForm.uuid_csv\n        }\n      }\n      API.setAppVerUuids(retParams).then(() => {\n        this.$message.success('设置成功')\n        this.pushBoxFlag = false\n      })\n    },\n    onClose () {\n      this.$refs.ruleForm.clearValidate()\n    },\n    formatValue,\n    getUuidList () {\n      API.getAppVerUuids({\n        page: this.uuidsCurrentPage,\n        limit: 5,\n        version_id: this.currentRow.version_id\n      }).then(res => {\n        this.uuidsTotal = res.data.result.total\n        this.uuidsCurrentPage = res.data.result.current_page\n        this.uuidList = res.data.result.data\n      })\n    },\n    onUuidPageChange (page) {\n      this.uuidsCurrentPage = page\n      this.getUuidList()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appUpgradeDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appUpgradeDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./appUpgradeDetail.vue?vue&type=template&id=0fca7b7e&\"\nimport script from \"./appUpgradeDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./appUpgradeDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}