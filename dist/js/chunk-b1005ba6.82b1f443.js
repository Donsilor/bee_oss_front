(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b1005ba6"],{"45ff":function(t,e,a){"use strict";var l=a("f3cb"),s=a.n(l);s.a},"912a":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-content ops-page"},[a("el-popover",{ref:"filterPopover",attrs:{width:"440",placement:"bottom-start"},model:{value:t.filterPopoverFlag,callback:function(e){t.filterPopoverFlag=e},expression:"filterPopoverFlag"}},[a("div",{staticClass:"ops-filterFormBox"},[a("el-row",{staticClass:"ops-line",attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("label",[t._v("推送设备")])]),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.filterForm.facility,callback:function(e){t.$set(t.filterForm,"facility",e)},expression:"filterForm.facility"}},t._l(t.facilityOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:5}},[a("label",[t._v("设备厂商")])]),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.filterForm.firm,callback:function(e){t.$set(t.filterForm,"firm",e)},expression:"filterForm.firm"}},t._l(t.firmOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-row",{staticClass:"ops-line",attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("label",[t._v("升级类型")])]),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.filterForm.type,callback:function(e){t.$set(t.filterForm,"type",e)},expression:"filterForm.type"}},t._l(t.typeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:5}},[a("label",[t._v("子设备")])]),a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.filterForm.child,callback:function(e){t.$set(t.filterForm,"child",e)},expression:"filterForm.child"}},t._l(t.childOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.filterPopoverFlag=!1}}},[t._v(" 查询 ")])],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.statisticsFlag,expression:"!statisticsFlag"}]},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:18}},[a("el-button-group",{directives:[{name:"show",rawName:"v-show",value:!t.searchedFlag,expression:"!searchedFlag"}]},[a("el-button",{on:{click:function(e){t.pushBoxFlag=!0}}},[t._v(" 推送升级 ")]),a("el-button",{on:{click:function(e){t.statisticsFlag=!0}}},[t._v(" 设备版本统计 ")]),a("el-button",{directives:[{name:"popover",rawName:"v-popover:filterPopover",arg:"filterPopover"}]},[t._v(" 筛选 "),a("i",{staticClass:"el-icon-caret-bottom"})])],1),a("el-input",{staticClass:"searchInput",attrs:{maxlength:11,type:"text",placeholder:"输入用户手机号码"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("el-button",{on:{click:function(e){t.searchedFlag=!0}}},[t._v(" 查询 ")])],1),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.searchedFlag,expression:"searchedFlag"}],on:{click:function(e){t.searchedFlag=!1}}},[t._v(" 返回 ")])],1)],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!t.searchedFlag,expression:"!searchedFlag"}],staticClass:"btitle"},[t._v(" 设备升级记录 ")]),a("el-table",{directives:[{name:"show",rawName:"v-show",value:!t.searchedFlag,expression:"!searchedFlag"}],staticStyle:{width:"100%"},attrs:{data:t.list},on:{"row-click":t.rowChoosed}},[a("el-table-column",{attrs:{prop:"facility",label:"推送设备"}}),a("el-table-column",{attrs:{prop:"type",label:"类型"}}),a("el-table-column",{attrs:{prop:"time",label:"时间",width:"200"}}),a("el-table-column",{attrs:{prop:"version",label:"版本号"}}),a("el-table-column",{attrs:{prop:"batch",label:"批次"}}),a("el-table-column",{attrs:{formatter:t.changeString,prop:"success",label:"成功与否"}}),a("el-table-column",{attrs:{prop:"rate",label:"推送到达率"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.statisticsFlag,expression:"statisticsFlag"}]},[a("el-row",[a("el-col",{attrs:{span:18}},[a("p",{staticClass:"btitle"},[t._v(" 设备版本分布情况统计 ")])]),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[a("el-button",{on:{click:function(e){t.statisticsFlag=!1}}},[t._v(" 返回 ")])],1)],1),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.changeTab},model:{value:t.activedTab,callback:function(e){t.activedTab=e},expression:"activedTab"}},[a("el-tab-pane",{attrs:{label:"路由器",name:"router"}},[a("p",{staticClass:"statisticsHeader"},[a("em",[t._v("各版本情况")]),a("span",[t._v("单位 个")])]),a("div",{staticClass:"statisticsEchart-area",attrs:{id:"routerEchart-area"}})]),a("el-tab-pane",{attrs:{label:"app",name:"app"}},[a("p",{staticClass:"statisticsHeader"},[a("em",[t._v("各版本情况")]),a("span",[t._v("单位 个")])]),a("div",{staticClass:"statisticsEchart-area",attrs:{id:"appEchart-area"}})]),a("el-tab-pane",{attrs:{label:"子设备",name:"child"}},[a("div",{staticClass:"statisticsHeader"},[a("el-select",{attrs:{placeholder:"品类"},model:{value:t.statisticsFilter.category,callback:function(e){t.$set(t.statisticsFilter,"category",e)},expression:"statisticsFilter.category"}},t._l(t.categoryOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-select",{attrs:{placeholder:"品牌"},model:{value:t.statisticsFilter.brand,callback:function(e){t.$set(t.statisticsFilter,"brand",e)},expression:"statisticsFilter.brand"}},t._l(t.brandOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"statisticsEchart-area",attrs:{id:"childEchart-area"}})])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.searchedFlag,expression:"searchedFlag"}],staticClass:"cp-searchResult"},[a("p",{staticClass:"btitle"},[t._v(" 查询结果 ")]),a("div",{staticClass:"cp-personBox"},[a("div",{staticClass:"cppb-infoArea"},[a("div",[a("img",{attrs:{src:t.person.image}})]),a("div",[a("h2",[t._v(t._s(t.person.name))]),a("p",[t._v(t._s(t.person.sex)+" "+t._s(t.person.birth)+" "+t._s(t.person.mobile))]),a("p",[t._v(t._s(t.person.city)+" "+t._s(t.person.address)+" "+t._s(t.person.unit))]),a("p",[t._v("共"+t._s(t.facilitysTotal)+"个关联设备 "+t._s(t.unusualfacilitysTotal)+"个异常")])])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.person.facilitys}},[a("el-table-column",{attrs:{prop:"name",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"brand",label:"品牌"}}),a("el-table-column",{attrs:{prop:"category",label:"品类"}}),a("el-table-column",{attrs:{prop:"type",label:"型号"}}),a("el-table-column",{attrs:{prop:"UUID",label:"UUID"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"}}),a("el-table-column",{attrs:{prop:"guarantee",label:"保修状态"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.console.log(e.row)}}},[t._v(" 查看日志 ")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.console.log(e.row)}}},[t._v(" 下载日志 ")])]}}])})],1)],1)]),a("el-dialog",{attrs:{visible:t.rateTableFlag},on:{"update:visible":function(e){t.rateTableFlag=e}}},[a("div",{staticClass:"rateTable"},[a("div",{staticClass:"rateTable-header"},[a("h2",[t._v("版本升级的比率情况")]),a("span",[t._v("统计截止2017-10-12 18:23 (单位：%)")])]),a("div",{staticClass:"rateEchart-area",attrs:{id:"rateEchart-area"}})])]),a("el-dialog",{attrs:{visible:t.pushBoxFlag,title:"推送升级"},on:{"update:visible":function(e){t.pushBoxFlag=e}}},[a("el-form",{ref:"pushForm",attrs:{model:t.pushForm,"label-width":"8em"}},[a("el-form-item",{attrs:{label:"设备类型"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-select",{attrs:{placeholder:"终端"},model:{value:t.pushForm.terminal,callback:function(e){t.$set(t.pushForm,"terminal",e)},expression:"pushForm.terminal"}},t._l(t.terminalOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:7,offset:1}},[a("el-select",{attrs:{placeholder:"操作系统"},model:{value:t.pushForm.os,callback:function(e){t.$set(t.pushForm,"os",e)},expression:"pushForm.os"}},t._l(t.osOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:8,offset:1}},[a("el-select",{attrs:{placeholder:"版本号"},model:{value:t.pushForm.version,callback:function(e){t.$set(t.pushForm,"version",e)},expression:"pushForm.version"}},t._l(t.versionOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{attrs:{type:"text"},model:{value:t.pushForm.number,callback:function(e){t.$set(t.pushForm,"number",e)},expression:"pushForm.number"}})],1),a("el-form-item",{attrs:{label:"推送时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:t.pushForm.time,callback:function(e){t.$set(t.pushForm,"time",e)},expression:"pushForm.time"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v(" 确定 ")]),a("el-button",{on:{click:function(e){t.pushBoxFlag=!1}}},[t._v(" 取消 ")])],1)],1)],1)],1)},s=[],r=(a("4de4"),a("b0c0"),a("3eba")),i=a.n(r),o=(a("94b1"),a("007d"),a("627c"),{components:{},data:function(){return{list:[{facility:"路由器",type:"主动推送",time:"2017-12-18 12:00:00",version:"1.9.2",batch:"124",success:!1,rate:"100%"}],person:{image:"",name:"张大民",sex:"男",birth:"1982-02-13",mobile:"13800000000",city:"广州",address:"恒大山水郡",unit:"6栋602",facilitys:[{name:"海尔-SDF334",brand:"美的",category:"灯",type:"SDFSDF3245656",UUID:"2412342345",status:"unusual",guarantee:"在保"},{name:"海尔-SDF334",brand:"海尔",category:"洗衣机",type:"SDFSDF3245656",UUID:"2412342345",status:"unusual",guarantee:"在保"},{name:"海尔-SDF334",brand:"SONY",category:"灯",type:"SDFSDF3245656",UUID:"2412342345",status:"normal",guarantee:"在保"},{name:"海尔-SDF334",brand:"格力",category:"空调",type:"SDFSDF3245656",UUID:"2412342345",status:"normal",guarantee:"在保"},{name:"海尔-SDF334",brand:"飞利浦",category:"空调",type:"SDFSDF3245656",UUID:"2412342345",status:"normal",guarantee:"在保"}]},searchKey:"",pushBoxFlag:!1,filterPopoverFlag:!1,searchedFlag:!1,rateTableFlag:!1,statisticsFlag:!1,activedTab:"router",pushForm:{terminal:"",os:"",version:"",number:"",time:""},filterForm:{facility:"",firm:"",type:"",child:""},statisticsFilter:{category:"",brand:""},categoryOptions:[{value:"1",lable:"选项一"}],brandOptions:[{value:"1",lable:"选项一"}],terminalOptions:[{value:"1",lable:"选项一"}],osOptions:[{value:"1",lable:"选项一"}],versionOptions:[{value:"1",lable:"选项一"}],facilityOptions:[{value:"1",lable:"选项一"}],firmOptions:[{value:"1",lable:"选项一"}],childOptions:[{value:"1",lable:"选项一"}],typeOptions:[{value:"1",lable:"选项一"}],routerEchart:null,appEchart:null,childEchart:null}},computed:{facilitysTotal:function(){return this.person.facilitys.length},unusualfacilitysTotal:function(){return this.person.facilitys.filter((function(t){return"unusual"===t.status})).length}},watch:{statisticsFlag:function(t,e){t&&this.renderStatisticsEchart(this.activedTab)}},mounted:function(){},methods:{changeString:function(t,e,a){return a?"成功":"失败"},rowChoosed:function(t,e){var a=this;this.rateTableFlag=!0,setTimeout((function(){a.renderRateEchart()}),100)},changeTab:function(t,e){this.renderStatisticsEchart(t.name)},initStatisticsEchart:function(){this.routerEchart=i.a.init(document.getElementById("routerEchart-area")),this.appEchart=i.a.init(document.getElementById("appEchart-area")),this.childEchart=i.a.init(document.getElementById("childEchart-area"))},renderStatisticsEchart:function(t){var e=this;setTimeout((function(){e["".concat(t,"Echart")]||(e["".concat(t,"Echart")]=i.a.init(document.getElementById("".concat(t,"Echart-area")))),e["".concat(t,"Echart")].setOption({color:["#3398DB"],xAxis:{data:["2.0","1.8","1.6","1.5","1.3","1.2","1.1","1.0"]},yAxis:{type:"value",interval:5e3},series:[{name:"users",type:"bar",barWidth:"40%",label:{normal:{show:!0,position:"top",color:"#333"}},data:[15087,18344,16444,17789,0,0,0,20]}]})}),500)},renderRateEchart:function(){var t=i.a.init(document.getElementById("rateEchart-area"));t.setOption({color:["#3398DB"],xAxis:{data:["推送通知","升级成功率","升级失败率","取消升级率"]},yAxis:{type:"value",interval:20,max:100,min:0},series:[{name:"比率",type:"bar",barWidth:"40%",label:{normal:{show:!0,position:"top",color:"#333"}},data:[{name:"67.23%",value:67.23},{name:"56.24%",value:56.24},{name:"38.42%",value:38.42},{name:"7.25%",value:7.25}]}]})}}}),n=o,c=(a("45ff"),a("2877")),u=Object(c["a"])(n,l,s,!1,null,null,null);e["default"]=u.exports},f3cb:function(t,e,a){}}]);
//# sourceMappingURL=chunk-b1005ba6.82b1f443.js.map