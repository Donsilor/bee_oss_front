(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b2eb00"],{"0786":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"pushForm",attrs:{model:e.pushForm,rules:e.rules,"label-width":"8em"}},[r("el-row",[r("el-col",{staticStyle:{"padding-right":"27px"},attrs:{span:12}},[r("el-form-item",{attrs:{label:"推送类型",prop:"push_type"}},[r("el-select",{attrs:{placeholder:"选择类型"},on:{change:e.pushTypeChangeEvent},model:{value:e.pushForm.push_type,callback:function(t){e.$set(e.pushForm,"push_type",t)},expression:"pushForm.push_type"}},[r("el-option",{attrs:{value:0,label:"全量升级"}}),r("el-option",{attrs:{value:1,label:"灰度升级"}})],1)],1)],1),1===e.pushForm.push_type?r("el-col",{staticStyle:{"margin-left":"-15px"},attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"",prop:"is_black","label-width":"0"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.pushForm.is_black,callback:function(t){e.$set(e.pushForm,"is_black",t)},expression:"pushForm.is_black"}},[r("el-option",{attrs:{value:0,label:"白名单"}}),r("el-option",{attrs:{value:1,label:"黑名单"}})],1)],1)],1):e._e()],1),e.pushForm.push_type?r("el-row",[r("el-form-item",{attrs:{label:"推送客户端",prop:"push_type"}},[r("el-radio-group",{model:{value:e.pushForm.terminal_type,callback:function(t){e.$set(e.pushForm,"terminal_type",t)},expression:"pushForm.terminal_type"}},[r("el-radio",{attrs:{label:1}},[e._v(" 输入uuid ")]),r("el-radio",{attrs:{label:0}},[e._v(" 上传csv压缩包 ")])],1)],1)],1):e._e(),e.pushForm.terminal_type&&e.pushForm.push_type?r("el-form-item",{attrs:{label:"uuid_list",prop:"uuid_list"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:17}},[r("el-input",{model:{value:e.pushForm.uuid_list,callback:function(t){e.$set(e.pushForm,"uuid_list",t)},expression:"pushForm.uuid_list"}})],1)],1),r("el-row",[r("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("可输入多个uuid，用逗号隔开")])])],1):e._e(),!e.pushForm.terminal_type&&e.pushForm.push_type?r("el-form-item",{attrs:{label:"uuid_csv",prop:"uuid_csv"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:17}},[r("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:e.corsUrls,data:e.uploadObj,"before-upload":e.beforeAvatarUpload,"on-success":e.getUploadData,limit:1}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 点击上传 ")])],1)],1)],1)],1):e._e(),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.pushUpdateForm("pushForm")}}},[e._v(" 确定 ")]),r("el-button",{on:{click:e.closeParentFlow}},[e._v(" 取消 ")])],1)],1)},s=[],a=(r("ac1f"),r("1276"),r("227d")),o={props:["type","inputType","pushDataObj"],data:function(){return{uploadObj:{token:JSON.parse(localStorage.getItem("localData")).user.info.token},pushForm:{method:"push_version",push_type:0,type:"",is_black:"",product_id:"",uuid_list:"",uuid_csv:"",terminal_type:1},rules:{is_black:[{required:!1,message:"请选择类型"}],product_id:[{required:!1,message:"请选择产品类型"}],uuid_csv:[{required:!0,message:"请输入uuid_csv"}],uuid_list:[{required:!1,message:"请输入uuid"},{validator:function(e,t,r){var i=/[\;|\"|\。]+/;i.test(t)?r(new Error("uuid规则不符")):r()},trigger:"blur"}]},corsUrls:Object(a["a"])()+"/uuid_upload",os_type_text:{1:"android_app",4:"ios_app",6:"android_pad",13:"lua_app"}}},computed:{},watch:{},mounted:function(){},methods:{pushTypeChangeEvent:function(e){1===e?(this.rules.is_black=[{required:!0,message:"请选择类型"}],this.rules.uuid_list=[{required:!0,message:"请输入uuid"},{validator:function(e,t,r){var i=/[\;|\"|\。]+/;i.test(t)?r(new Error("uuid规则不符")):r()},trigger:"blur"}]):this.rules.uuid_list=[{required:!1,message:"请输入uuid"},{validator:function(e,t,r){var i=/[\;|\"|\。]+/;i.test(t)?r(new Error("uuid规则不符")):r()},trigger:"blur"}]},resetPushForm:function(){var e=this.pushForm;for(var t in this.$refs["pushForm"].resetFields(),e)switch(t){case"terminal_type":e[t]=1;break;case"method":e[t]="push_version";break;case"push_type":e[t]=0;break;default:e[t]="";break}},closeParentFlow:function(){this.$emit("closePushBox")},pushUpdateForm:function(e){var t=this,r=this;r.$refs[e].validate((function(e){if(!e)return!1;var i=Object.assign({},r.pushForm);i.terminal_type?i.uuid_list=i.uuid_list.split(",")||[]:i.uuid_list=i.uuid_csv||[],i.version=t.pushDataObj.version,i.product_id=t.pushDataObj.product_id,i.type=t.inputType,i.user_id=t.pushDataObj.user_id,i.os_type=t.os_type_text[t.pushDataObj.os_type]||"",i.router_pid=t.pushDataObj.router_pid||"",0===i.push_type&&delete i.is_black,i.push_type||(i.is_black=0,i.uuid_list=[]),delete i.uuid_csv,delete i.terminal_type,r.$emit("pushUpdateParent",i)}))},getUploadData:function(e){this.pushForm.uuid_csv=e.result,this.$refs["pushForm"].validate((function(e){}))},beforeAvatarUpload:function(e){}}},l=o,n=r("2877"),p=Object(n["a"])(l,i,s,!1,null,null,null);t["a"]=p.exports},"0abe":function(e,t,r){},"11fe":function(e,t,r){},3572:function(e,t,r){"use strict";var i=r("666a"),s=r.n(i);s.a},3589:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"versions-mapping"},[r("div",{staticClass:"title m-b-20"},[r("span",{staticClass:"label-name"},[e._v(e._s(e.getTypeName(e.currentDataObj.type))+"版本图")]),r("span",{staticStyle:{color:"#999"}},[e._v("当前版本：")]),e._v(e._s(e.currentDataObj.version)+" ")]),1===e.inputType||4===e.inputType||6===e.inputType?r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配路由器版本:")]),e._l(e.currenData.router,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2):e._e(),2===e.inputType?r("div",{staticClass:"m-b-20"},[r("div",[r("span",{staticClass:"label-name"},[e._v("android app版本：")]),e._l(e.currenData.android,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",[r("span",{staticClass:"label-name"},[e._v("ios app版本：")]),e._l(e.currenData.ios,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",[r("span",{staticClass:"label-name"},[e._v("android pad版本：")]),e._l(e.currenData.android_pad,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2)]):e._e(),1===e.inputType||2===e.inputType||4===e.inputType||6===e.inputType?r("div",e._l(e.currenData.device,(function(t,i){return r("div",{key:i,staticClass:"m-b-20"},[r("div",{staticClass:"title"},[r("span",{staticClass:"label-name"},[e._v("子设备")]),e._v(e._s(t.product_id)+" ")]),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配版本号: ")]),r("span",{staticClass:"version-list"},[e._v(e._s(t.version))])]),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配H5版本号: ")]),e._l(t.h5,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2)])})),0):e._e(),3===e.inputType?r("div",[r("div",{staticClass:"m-b-20"},[e._m(0),e._l(e.currenData.router,(function(t,i){return r("div",{key:i},[r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配路由器版本号: ")]),e._v(e._s(t.version)+" ")]),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("android app: ")]),e._l(t.andorid,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("android pad: ")]),e._l(t.andorid_pad,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("ios app: ")]),e._l(t.ios,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2)])}))],2),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配H5版本号: ")]),e._l(e.currenData.h5,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2)]):e._e(),5===e.inputType?r("div",e._l(e.currenData.device,(function(t,i){return r("div",{key:i},[r("div",{staticClass:"title"},[r("span",{staticClass:"label-name"},[e._v("版本")]),e._v(e._s(t.version)+" ")]),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("适配路由器版本号: ")]),e._v(e._s(t.router.version)+" ")]),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("android app: ")]),e._l(t.router.andorid,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("android pad: ")]),e._l(t.router.andorid_pad,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2),r("div",{staticClass:"version-list-line"},[r("span",{staticClass:"label-name"},[e._v("ios app: ")]),e._l(t.router.ios,(function(t,i){return r("span",{key:i,staticClass:"version-list"},[e._v(e._s(t))])}))],2)])})),0):e._e()])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"label-name"},[e._v("适配路由：")])])}],a=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("2f62"),l=r("8e44");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=p({props:["inputType"],data:function(){return{routersTableData:[],productsTableData:{tableColumn:[{prop:"product_id",label:"产品id"},{prop:"version",label:"版本号"}],tableData:[]},currentDataObj:{},currenData:{}}},watch:{},mounted:function(){},methods:{renderData:function(e){this.currentDataObj=e;var t=this,r={version:e.version};switch(this.inputType){case 1:case 4:case 6:r.type=e.type,r.method="app_mapping";break;case 2:r.method="router_mapping";break;case 3:r.method="device_mapping",r.product_id=e.product_id;break;case 5:r.method="h5_mapping",r.product_id=e.product_id;break;default:break}l["a"].pubilcCorsAction(r).then((function(e){t.currenData=e.result}))},getTypeName:function(e){var t="";switch(e){case 1:t="Android app";break;case 6:t="Android PAD";break;case 2:t="路由器";break;case 3:t="子设备";break;case 4:t="IOS APP";break;default:t="H5";break}return t}}},Object(o["mapActions"])(["pubilcCorsAction"])),d=u,c=(r("7344"),r("2877")),m=Object(c["a"])(d,i,s,!1,null,null,null);t["a"]=m.exports},"3ab0":function(e,t,r){},"666a":function(e,t,r){},"6cd5":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cp-filterFormBox"},[2!==e.inputType&&5!==e.inputType?r("el-row",{staticClass:"cpf-line",attrs:{gutter:24}},[r("el-col",{staticStyle:{"text-align":"right","padding-left":"0"},attrs:{span:4}},[r("label",[e._v("选择版本")])]),r("el-col",{attrs:{span:12}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"选择版本"},model:{value:e.filterForm.rules,callback:function(t){e.$set(e.filterForm,"rules",t)},expression:"filterForm.rules"}},e._l(e.router,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),2===e.inputType||5===e.inputType?r("el-row",{staticClass:"cpf-line",attrs:{gutter:24}},[r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[r("label",[e._v("选择子设备")])]),r("el-col",{attrs:{span:6}},[r("el-select",{attrs:{placeholder:"品牌"},model:{value:e.filterForm.brand_id,callback:function(t){e.$set(e.filterForm,"brand_id",t)},expression:"filterForm.brand_id"}},e._l(e.brandIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:6}},[r("el-select",{attrs:{placeholder:"类型"},model:{value:e.filterForm.type_id,callback:function(t){e.$set(e.filterForm,"type_id",t)},expression:"filterForm.type_id"}},e._l(e.typeIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:5}},[r("el-select",{attrs:{placeholder:"产品"},on:{change:e.productChange},model:{value:e.filterForm.product_id,callback:function(t){e.$set(e.filterForm,"product_id",t)},expression:"filterForm.product_id"}},e._l(e.productIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),2===e.inputType||5===e.inputType?r("el-row",{staticClass:"cpf-line",attrs:{gutter:24}},[r("el-col",{staticStyle:{"text-align":"right"},attrs:{span:5}},[r("label",[e._v("选择版本")])]),r("el-col",{attrs:{span:17}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"版本"},model:{value:e.filterForm.rules,callback:function(t){e.$set(e.filterForm,"rules",t)},expression:"filterForm.rules"}},e._l(e.subsetProducts,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1):e._e(),r("el-row",{staticClass:"cpf-line",attrs:{gutter:24}},[r("el-col",{staticStyle:{"text-align":"right","padding-top":"20px"},attrs:{span:24}},[r("el-button",{attrs:{type:"primary",size:""},on:{click:e.submitFilter}},[e._v(" 查询 ")])],1)],1)],1)},s=[],a=(r("99af"),r("4de4"),r("c975"),r("d81d"),r("ac1f"),r("1276"),r("8e44")),o={props:["brandIDOptions","typeIDOptions","type","productIDOptions","appIos","router","inputType","product"],data:function(){return{brandIDOptionsChild:this.brandIDOptions,typeIDOptionsChild:this.typeIDOptions,productIDOptionsChild:this.productIDOptions,subsetProducts:[],filterForm:{method:"list_versions",brand_id:"",product_id:"",type_id:"",page:1,rules:[],limit:10,level:2,type:""}}},computed:{},watch:{"filterForm.brand_id":function(e,t){this.filterForm.type_id="",this.filterForm.product_id="",this.filterForm.rules=[],this.typeIDOptionsChild=this.type.filter((function(t){return t.brand_ids.indexOf(1*e)>=0})).map((function(e){return{label:e.type_name,value:e.type_id}}))},"filterForm.type_id":function(e,t){this.filterForm.product_id="",this.filterForm.rules=[];var r=1*this.filterForm.brand_id,i=1*e;this.productIDOptionsChild=this.product.filter((function(e){return e.brand_id===r&&e.type_id===i})).map((function(e){return{label:e.product_id,value:e.product_id}}))}},mounted:function(){},methods:{resetFilterForm:function(){var e=this.filterForm;for(var t in e)switch(t){case"method":e[t]="list_versions";break;case"page":e[t]=1;break;case"limit":e[t]=10;break;case"rules":e[t]=[];break;case"level":e[t]=2;break;default:e[t]="";break}},ruleChange:function(e){e?(this.rulesImport.productsList=[{required:!0,message:"请选择支持版本"}],this.rulesImport.routersList=[{required:!0,message:"请选择支持版本"}]):(this.rulesImport.productsList=[{required:!1}],this.rulesImport.routersList=[{required:!1}])},closeParentFlow:function(){this.$emit("closeFilterBox")},productChange:function(e){var t=this;a["a"].pubilcCorsAction({method:"released_versions",type:3,product_id:e}).then((function(r){if(0===r.code){var i=r.result;i&&i.length?(t.currentProductId=e,t.subsetProducts=i.map((function(e){return{label:e.title,product_id:e.product_id,value:"".concat(e.version,"--").concat(e.product_id)}}))):t.subsetProducts=[]}}))},submitFilter:function(){if(2===this.inputType||5===this.inputType||this.filterForm.rules.length)if(2!==this.inputType&&5!==this.inputType||this.filterForm.rules.length){var e=this;e.currentPage=1;var t=Object.assign({},e.filterForm);t.type=e.inputType,2!==e.inputType&&5!==e.inputType?delete t.product_id:t.rules=t.rules.map((function(e){return e.split("-")[0]})),delete t.brand_id,delete t.type_id,e.$emit("filterVersionsParent",t)}else this.$message.error("请选择子设备版本");else this.$message.error("请选择路由版本")}}},l=o,n=(r("3572"),r("2877")),p=Object(n["a"])(l,i,s,!1,null,null,null);t["a"]=p.exports},7344:function(e,t,r){"use strict";var i=r("8a62"),s=r.n(i);s.a},"8a62":function(e,t,r){},9008:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"importForm",attrs:{model:e.importForm,rules:e.rulesImport,"label-width":"10em"}},[e.releasedFlag||13!==e.inputType?e._e():r("el-form-item",{attrs:{label:"版本号",prop:"version"}},[r("div",[r("el-input-number",{class:["unit",{flag:!0===e.colorFlag}],attrs:{disabled:!e.addEditFlag,min:0,max:99,precision:0,controls:!1},on:{change:e.setVersion},model:{value:e.versionList[0],callback:function(t){e.$set(e.versionList,0,t)},expression:"versionList[0]"}}),e._v(" . "),r("el-input-number",{class:["unit",{flag:!0===e.colorFlag}],attrs:{disabled:!e.addEditFlag,min:0,max:99,precision:0,controls:!1},on:{change:e.setVersion},model:{value:e.versionList[1],callback:function(t){e.$set(e.versionList,1,t)},expression:"versionList[1]"}}),e._v(" . "),r("el-input-number",{class:["unit",{flag:!0===e.colorFlag}],attrs:{disabled:!e.addEditFlag,min:0,max:99,precision:0,controls:!1},on:{change:e.setVersion},model:{value:e.versionList[2],callback:function(t){e.$set(e.versionList,2,t)},expression:"versionList[2]"}})],1)]),r("el-form-item",{attrs:{label:"版本title",prop:"title"}},[r("el-input",{attrs:{type:"text",maxlength:"20"},model:{value:e.importForm.title,callback:function(t){e.$set(e.importForm,"title",t)},expression:"importForm.title"}})],1),2===e.inputType&&e.addEditFlag?r("el-form-item",{attrs:{label:"路由器pid",prop:"router_pid"}},[r("el-input",{attrs:{type:"text"},model:{value:e.importForm.router_pid,callback:function(t){e.$set(e.importForm,"router_pid",t)},expression:"importForm.router_pid"}})],1):e._e(),3!==e.inputType&&8!==e.inputType&&5!==e.inputType||!e.addEditFlag?e._e():r("el-form-item",{attrs:{label:"product_id",prop:"product_id"}},[r("el-input",{attrs:{type:"text"},model:{value:e.importForm.product_id,callback:function(t){e.$set(e.importForm,"product_id",t)},expression:"importForm.product_id"}})],1),5===e.inputType?r("el-form-item",{attrs:{label:"os_type",prop:"os_type"}},[r("el-select",{attrs:{placeholder:"os_type"},model:{value:e.importForm.os_type,callback:function(t){e.$set(e.importForm,"os_type",t)},expression:"importForm.os_type"}},e._l(e.os_type_list,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),5!==e.inputType&&9!==e.inputType&&10!==e.inputType&&13!==e.inputType?r("el-form-item",{attrs:{label:"升级数量限制"}},[r("el-input",{model:{value:e.importForm.upgrade_limit,callback:function(t){e.$set(e.importForm,"upgrade_limit",t)},expression:"importForm.upgrade_limit"}}),e._v(" 0或者空为不限制 ")],1):e._e(),9===e.inputType||e.releasedFlag||13===e.inputType?e._e():r("el-form-item",{attrs:{label:"是否限制规则"}},[r("el-radio-group",{model:{value:e.importForm.selectRule,callback:function(t){e.$set(e.importForm,"selectRule",t)},expression:"importForm.selectRule"}},[r("el-radio",{attrs:{label:1}},[e._v(" 是 ")]),r("el-radio",{attrs:{label:0}},[e._v(" 否 ")])],1)],1),2!==e.inputType&&9!==e.inputType&&10!==e.inputType&&12!==e.inputType&&13!==e.inputType&&!e.releasedFlag&&e.importForm.selectRule?r("el-form-item",{attrs:{label:"路由pid"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{disabled:7===e.inputType,placeholder:"路由pid"},on:{change:e.routerPidChange},model:{value:e.importForm.router_pid,callback:function(t){e.$set(e.importForm,"router_pid",t)},expression:"importForm.router_pid"}},e._l(e.routerPidList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),2!==e.inputType&&9!==e.inputType&&10!==e.inputType&&12!==e.inputType&&13!==e.inputType&&!e.releasedFlag&&e.importForm.selectRule?r("el-form-item",{attrs:{label:"支持路由",prop:"routersList"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"路由"},model:{value:e.importForm.routersList,callback:function(t){e.$set(e.importForm,"routersList",t)},expression:"importForm.routersList"}},e._l(e.router,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),12===e.inputType&&!e.releasedFlag&&e.importForm.selectRule?r("el-form-item",{attrs:{label:"系统版本"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"系统版本"},model:{value:e.importForm.rule,callback:function(t){e.$set(e.importForm,"rule",t)},expression:"importForm.rule"}},e._l(e.osVersionList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),2===e.inputType&&!e.releasedFlag&&e.importForm.selectRule?r("el-form-item",{attrs:{label:"子设备"}},[r("el-row",[r("el-col",{attrs:{span:8}},[r("el-select",{attrs:{placeholder:"品牌"},model:{value:e.importForm.brand_id,callback:function(t){e.$set(e.importForm,"brand_id",t)},expression:"importForm.brand_id"}},e._l(e.brandIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:7,offset:1}},[r("el-select",{attrs:{placeholder:"类型"},model:{value:e.importForm.type_id,callback:function(t){e.$set(e.importForm,"type_id",t)},expression:"importForm.type_id"}},e._l(e.typeIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-col",{attrs:{span:7,offset:1}},[r("el-select",{attrs:{placeholder:"产品"},on:{change:e.productChange},model:{value:e.product_id,callback:function(t){e.product_id=t},expression:"product_id"}},e._l(e.productIDOptionsChild,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1):e._e(),2===e.inputType&&!e.releasedFlag&&e.importForm.selectRule?r("el-form-item",{attrs:{label:"支持版本",prop:"productsList"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"子设备"},model:{value:e.importForm.productsList,callback:function(t){e.$set(e.importForm,"productsList",t)},expression:"importForm.productsList"}},e._l(e.subsetProduct,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:10===e.inputType&&!e.releasedFlag&&e.importForm.selectRule,expression:"inputType === 10 && !releasedFlag && importForm.selectRule"}],attrs:{label:"支持APP版本",prop:"appList"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"APP版本"},model:{value:e.importForm.appList,callback:function(t){e.$set(e.importForm,"appList",t)},expression:"importForm.appList"}},e._l(e.appVersionList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.releasedFlag||13===e.inputType?e._e():r("el-form-item",{attrs:{label:"版本号",prop:"version"}},[r("el-input",{attrs:{disabled:!e.addEditFlag,type:"text"},model:{value:e.importForm.version,callback:function(t){e.$set(e.importForm,"version",t)},expression:"importForm.version"}})],1),r("el-form-item",{attrs:{label:"概要描述",prop:"note"}},[r("el-input",{attrs:{type:"textarea",rows:"3",maxlength:"200"},model:{value:e.importForm.note,callback:function(t){e.$set(e.importForm,"note",t)},expression:"importForm.note"}})],1),13===e.inputType?r("el-form-item",{attrs:{label:"适用语音app版本",prop:"enableVersion"}},[r("div",[r("el-input-number",{staticClass:"unit",attrs:{min:0,max:99,precision:0,controls:!1,disabled:!e.addEditFlag},on:{change:e.setEnableVersion},model:{value:e.enableVersionList[0],callback:function(t){e.$set(e.enableVersionList,0,t)},expression:"enableVersionList[0]"}}),e._v(" . "),r("el-input-number",{staticClass:"unit",attrs:{min:0,max:99,precision:0,controls:!1,disabled:!e.addEditFlag},on:{change:e.setEnableVersion},model:{value:e.enableVersionList[1],callback:function(t){e.$set(e.enableVersionList,1,t)},expression:"enableVersionList[1]"}}),e._v(" . "),r("el-input-number",{staticClass:"unit",attrs:{min:0,max:99,precision:0,controls:!1,disabled:!e.addEditFlag},on:{change:e.setEnableVersion},model:{value:e.enableVersionList[2],callback:function(t){e.$set(e.enableVersionList,2,t)},expression:"enableVersionList[2]"}}),e._v(" . "),r("el-input-number",{staticClass:"unit",attrs:{min:0,max:99,precision:0,controls:!1,disabled:!e.addEditFlag},on:{change:e.setEnableVersion},model:{value:e.enableVersionList[3],callback:function(t){e.$set(e.enableVersionList,3,t)},expression:"enableVersionList[3]"}}),e._v(" 及以上 ")],1)]):e._e(),13===e.inputType?r("el-form-item",{attrs:{prop:"status",label:"是否启用"}},[r("el-radio-group",{model:{value:e.importForm.status,callback:function(t){e.$set(e.importForm,"status",t)},expression:"importForm.status"}},[r("el-radio",{attrs:{label:1}},[e._v("是")]),r("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1):e._e(),13!==e.inputType?r("el-form-item",{attrs:{label:"详细事项",prop:"description"}},[r("el-input",{attrs:{type:"text"},model:{value:e.importForm.description,callback:function(t){e.$set(e.importForm,"description",t)},expression:"importForm.description"}})],1):e._e(),13!==e.inputType?r("el-form-item",{attrs:{label:"备注",prop:"extra_note"}},[r("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.importForm.extra_note,callback:function(t){e.$set(e.importForm,"extra_note",t)},expression:"importForm.extra_note"}})],1):e._e(),"ios"!==e.os_type||e.releasedFlag?e._e():r("el-form-item",{attrs:{label:"appstore链接",prop:"download_url_object"}},[r("el-input",{attrs:{type:"text"},model:{value:e.importForm.download_url_object,callback:function(t){e.$set(e.importForm,"download_url_object",t)},expression:"importForm.download_url_object"}})],1),"ios"===e.os_type||e.releasedFlag?e._e():r("el-form-item",{staticClass:"is-required",attrs:{label:"上传固件包",prop:"download_url_object"}},[r("upload-file",{ref:"uploadFile",staticClass:"newButtonStyle",attrs:{"file-list":e.fileListObj,"valid-file-name":e.validFileName,"input-type":e.inputType,"edit-flag-only":e.editFlag},on:{uploadSuccess:e.getSuccessNews}})],1),13!==e.inputType?r("el-form-item",{attrs:{label:"上传img图片",prop:"img_url_object"}},[r("el-upload",{ref:"uploadFileImg",staticClass:"upload-demo",attrs:{action:e.corsUrls,"before-upload":e.beforeAvatarUploadImg,"on-success":e.getUploadDataImg,data:e.uploadObj,"on-preview":e.handlePreviewImg,limit:1,"file-list":e.fileListImg,"on-remove":e.handleRemoveImg}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" 点击上传 ")])],1)],1):e._e(),13!==e.inputType?r("el-form-item",{attrs:{label:"是否强制升级",prop:"force"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.importForm.force,callback:function(t){e.$set(e.importForm,"force",t)},expression:"importForm.force"}},[r("el-option",{attrs:{value:0,label:"否"}}),r("el-option",{attrs:{value:1,label:"是"}}),r("el-option",{attrs:{value:3,label:"不弹窗升级"}})],1)],1):e._e(),"ios"===e.os_type?r("el-form-item",{attrs:{label:"审核开关"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.importForm.audit_switch,callback:function(t){e.$set(e.importForm,"audit_switch",t)},expression:"importForm.audit_switch"}})],1):e._e(),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.importSubmitForm("importForm")}}},[e._v(" 确定 ")]),r("el-button",{on:{click:e.closeParentFlow}},[e._v(" 取消 ")])],1)],1)},s=[],a=(r("99af"),r("4de4"),r("c975"),r("a15b"),r("baa5"),r("d81d"),r("a434"),r("ac1f"),r("1276"),r("159b"),r("ade3")),o=r("227d"),l=r("8e44"),n=r("c46c"),p={components:{uploadFile:n["a"]},props:["brandIDOptions","type","typeIDOptions","productIDOptions","routerPidList","inputType","product","router_pid","addEditFlag","editDataObj","releasedFlag","os_type","activeName","osVersionList","flag"],data:function(){return{colorFlag:this.flag,brandIDOptionsChild:this.brandIDOptions,typeIDOptionsChild:this.typeIDOptions,productIDOptionsChild:this.productIDOptions,typeOptions:[{value:1,label:"APP"},{value:2,label:"路由器"},{value:3,label:"子设备"}],systemOptions:[{value:"IOS",label:"IOS"},{value:"Android",label:"Android"}],uploadObj:{token:JSON.parse(localStorage.getItem("localData")).user.info.token},fileListObj:[],fileListImg:[],importForm:{router_pid:"",method:"",title:"",version:"",routersList:[],productsList:[],download_url_object:"",img_url_object:"",download_file_md5:"",size:"",force:0,brand_id:"",type_id:"",product_id:"",description:"",note:"",extra_note:"",selectRule:1,os_type:"",appList:[],upgrade_limit:"",status:1,rule:[]},versionList:[void 0,void 0,void 0],enableVersionList:[void 0,void 0,void 0,void 0],rulesImport:{router_pid:[{required:!0,message:"请输入路由器pid"}],os_type:[{required:!0,message:"请选择os_type"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"}],title:[{required:!0,message:"请输入版本标题"}],description:[{required:!0,message:"请输入概要描述"}],note:[{required:!0,message:"请输入详细事项"}],enableVersion:[{required:!0,message:"请输入适用语音app版本",trigger:"blur"}],status:[{required:!0,message:"请选择是否启用"}],extra_note:[{required:!1,message:"请输入详细事项"}],product_id:[{required:!0,message:"请输入子设备"}],routersList:[{required:!0,message:"请选择支持版本"}],productsList:[{required:!0,message:"请选择支持版本"}],download_url_object:[{required:!0,message:"请上传固件包"}],img_url_object:[{required:!0,message:"请上传img图片"}],force:[{required:!0,message:"请选择是否强制升级"}]},appVersionList:[],subsetProduct:[],router:[],corsUrls:Object(o["a"])()+"/oss_file_upload",editData:{user_id:"",status:"",id:""},product_id:"",os_type_list:[{label:"android_app",value:"android_app"},{label:"ios_app",value:"ios_app"},{label:"android_pad",value:"android_pad"}],os_type_text:{1:"android_app",4:"ios_app",6:"android_pad",13:"lua_app"},fileTipsIfShow:!1}},computed:{editFlag:function(){return!this.addEditFlag}},watch:{"importForm.brand_id":function(e,t){this.importForm.type_id="",this.importForm.product_id="",this.typeIDOptionsChild=this.type.filter((function(t){return t.brand_ids.indexOf(1*e)>=0})).map((function(e){return{label:e.type_name,value:e.type_id}}))},"importForm.type_id":function(e,t){this.importForm.product_id="";var r=1*this.importForm.brand_id,i=1*e;this.productIDOptionsChild=this.product.filter((function(e){return e.brand_id===r&&e.type_id===i})).map((function(e){return{label:e.product_id,value:e.product_id}}))},versionList:function(e,t){return!1===this.colorFlag},flag:function(e,t){return!0===this.colorFlag}},mounted:function(){console.log(this.inputType)},methods:{validFileName:function(e){var t=e.substr(0,e.lastIndexOf(".")),r=e.substr(e.lastIndexOf(".")+1).toLowerCase(),i=t.split("_");return"zip"===r&&("hdkj"===i[0].toLowerCase()&&(4===i[1].length&&(8===i[2].length&&(8===i[3].length&&8===i[4].length))))},setVersion:function(){void 0===this.versionList[0]||void 0===this.versionList[1]||void 0===this.versionList[2]?this.importForm.version="":this.importForm.version=this.versionList.join(".")},setEnableVersion:function(){void 0===this.enableVersionList[0]||void 0===this.enableVersionList[1]||void 0===this.enableVersionList[2]||void 0===this.enableVersionList[3]?this.importForm.enableVersion="":this.importForm.enableVersion=this.enableVersionList.join(".")},getSuccessNews:function(e){e&&(this.importForm.download_url_object=e.download_url_object,this.importForm.download_file_md5=e.download_file_md5,this.importForm.size=e.size,this.$refs["importForm"].validate((function(e){})),this.importForm.download_url_object?this.fileTipsIfShow=!1:this.fileTipsIfShow=!0)},ruleChange:function(e){},renderEditData:function(){var e={title:"",download_file_md5:"",force:"",version:"",description:"",img_url_object:"",note:"",extra_note:"",size:"",download_url_object:"",audit_switch:0,upgrade_limit:"",status:""};2===this.inputType&&(e["router_pid"]=""),3!==this.inputType&&8!==this.inputType&&5!==this.inputType||(e["product_id"]=""),5===this.inputType&&(e["os_type"]=this.os_type_text[this.editDataObj["os_type"]]);var t=this.importForm;for(var r in e){var i=this.editDataObj[r];t[r]=i||0===i?i:""}var s=this.editDataObj["img_url_object"];if(this.fileListImg=[{name:s,url:s}],"ios"!==this.os_type){var a=this.editDataObj["download_url_object"];this.fileListObj=[{name:a,url:a}]}if(2===this.inputType){var o=this.editDataObj["rules"];1===o.length&&"*"===o[0].rule?t["selectRule"]=0:o.forEach((function(e){t["productsList"].push(e.product_id+"--"+e.rule)}))}else if(10===this.inputType){var l=this.editDataObj["rules"]||[];1===l.length&&"*"===l[0].rule?t["selectRule"]=0:t["appList"]=this.editDataObj["rules"].map((function(e){return e.rule}))}else{var n=this.editDataObj["rules"]||[];1===n.length&&"*"===n[0].rule?t["selectRule"]=0:n.forEach((function(e){t["routersList"].push(e.router_pid+"--"+e.rule)}))}for(var p in t.rule=t.rule||[],13===this.inputType&&(t.enableVersion=this.editDataObj.rule,this.enableVersionList=this.editDataObj.rule.split("."),t.version=this.editDataObj.version,this.versionList=this.editDataObj.version.split(".")),console.log("------editData--------"),console.log(this.editData),this.editData)this.editData[p]=this.editDataObj[p]},resetImportForm:function(){var e=this;3!==this.inputType&&8!==this.inputType&&5!==this.inputType||(this.$refs["importForm"].fields.forEach((function(t,r){void 0===t.prop&&e.$refs["importForm"].fields.splice(r,1)})),this.rulesImport["product_id"]=[{required:!0,message:"请输入子设备"}]);try{this.$refs["importForm"]&&this.$refs["importForm"].resetFields(),this.$refs["uploadFileImg"]&&this.$refs["uploadFileImg"].clearFiles(),this.fileTipsIfShow=!1,this.$refs["uploadFile"]&&this.$refs["uploadFile"].clearFiles()}catch(i){console.log(i)}var t=this.importForm;for(var r in t)switch(r){case"routersList":case"productsList":case"appList":case"rule":t[r]=[];break;case"force":t[r]=0;break;case"selectRule":t[r]=1;break;case"status":t[r]=1;break;default:t[r]="";break}13===this.inputType&&(this.versionList=[void 0,void 0,void 0],this.enableVersionList=[void 0,void 0,void 0,void 0],t.enableVersion="",t.version=""),7===this.inputType&&(this.importForm.router_pid=this.router_pid,this.routerPidChange(this.router_pid)),this.getAppReleasedVersionList(),this.fileListObj=[]},closeParentFlow:function(){this.$emit("closeImportBox")},productChange:function(e){var t=this;3!==this.inputType&&8!==this.inputType&&l["a"].pubilcCorsAction({method:"released_versions",type:3,product_id:e}).then((function(r){if(0===r.code){var i=r.result;i&&i.length?(t.currentProductId=e,t.subsetProduct=i.map((function(e){return{label:e.version,product_id:e.product_id,value:"".concat(e.product_id,"--").concat(e.version)}}))):t.subsetProduct=[]}}))},getAppReleasedVersionList:function(){var e=this;10===this.inputType&&l["a"].pubilcCorsAction({method:"released_versions",type:10,os_type:this.os_type}).then((function(t){if(0===t.code){var r=t.result;r&&r.length?e.appVersionList=r.map((function(e){return{label:e.version,value:e.version}})):e.appVersionList=[]}}))},importSubmitForm:function(e){var t=this;this.importForm.download_url_object||(this.fileTipsIfShow=!0);var r=this;r.$refs[e].validate((function(e){if(!e)return!1;r.importForm["selectRule"]||(r.importForm["routersList"]=[{router_pid:"*",rule:"*"}],r.importForm["productsList"]=[{product_id:"*",rule:"*"}]);var i=Object.assign({},r.importForm),s=r.inputType;delete i.brand_id,delete i.type_id;var o=2===s?"product_id":"router_pid",l=2===s?"productsList":"routersList";switch(13===s?i.rules=[{router_pid:"*",rule:t.enableVersionList.join(".")}]:i.selectRule?i.rules=10===s?i.appList.map((function(e){return{rule:e}})):i[l].map((function(e){var t,r=e.split("--");return t={},Object(a["a"])(t,o,r[0]),Object(a["a"])(t,"rule",r[1]),t})):10===s?delete i.rules:i.rules=i[l],7!==s||r.importForm["selectRule"]||(i.rules=[{router_pid:t.router_pid,rule:"*"}]),5!==s&&delete i.os_type,s){case 1:case 11:case 13:i.os_type=t.os_type,i.method=t.addEditFlag?"create_app_version":"update_app_version",delete i.enableVersion;break;case 12:12===s&&delete i.router_pid,i.os_type=t.os_type,i.method=t.addEditFlag?"create_app_version":"update_app_version";break;case 2:i.method=t.addEditFlag?"create_router_version":"update_router_version";break;case 3:i.method=t.addEditFlag?"create_device_version":"update_device_version";break;case 5:i.method=t.addEditFlag?"create_h5_version":"update_h5_version";break;case 7:i.method=t.addEditFlag?"create_android_system_version":"update_android_system_version";break;case 8:i.method=t.addEditFlag?"create_device_android_system_version":"update_device_android_system_version";break;case 9:i.os_type=t.os_type,i.method=t.addEditFlag?"create_app_community_version":"update_app_community_version";break;case 10:i.os_type=t.os_type,i.method=t.addEditFlag?"create_app_community_plugin_version":"update_app_community_plugin_version";break;default:break}if(3!==s&&8!==s&&5!==s&&delete i.product_id,2!==s&&delete i.router_pid,delete i.productsList,delete i.routersList,delete i.selectRule,!t.addEditFlag)for(var n in t.editData)"status"===n&&13===t.inputType||(i[n]=t.editData[n]);1===t.inputType&&"ios"===t.os_type&&(i.size=0,i.download_file_md5="default"),t.importForm.download_url_object?(console.log("------------submit----------"),console.log(i),r.$emit("importSubmitParent",i)):t.fileTipsIfShow=!0}))},routerPidChange:function(e){if(e){var t={method:"released_versions",router_pid:e,type:2},r=this;l["a"].getChoseList(t).then((function(e){0===e.code&&(r.router=e.result.map((function(e){return{label:e.version,value:"".concat(e.router_pid,"--").concat(e.version),product_id:e.product_id}})))}))}},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){},handleRemoveImg:function(e,t){},handlePreviewImg:function(e){},getUploadDataImg:function(e){var t=e.result;this.importForm.img_url_object=t.object,this.$refs["importForm"].validate((function(e){}))},beforeAvatarUpload:function(e){},beforeAvatarUploadImg:function(e){}}},u=p,d=(r("fc99"),r("2877")),c=Object(d["a"])(u,i,s,!1,null,null,null);t["a"]=c.exports},a15b:function(e,t,r){e.exports=r("1c0f")(342)},a434:function(e,t,r){e.exports=r("1c0f")(351)},a772:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit_form versionDetail"},[r("div",{staticClass:"childDevice"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.operateLogList.tableData}},e._l(e.operateLogList.tableColumn,(function(t){return r("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(i){return[r("div",{attrs:{title:i.row[t.prop]}},[e._v(" "+e._s(i.row[t.prop])+" ")])]}}],null,!0)})})),1)],1)])},s=[],a=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("2f62");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={props:["operateLogList"],data:function(){return{date:""}},computed:n({},Object(o["mapGetters"])({})),mounted:function(){},methods:{changeSelectLogOutDate:function(){}}},u=p,d=(r("dd58"),r("2877")),c=Object(d["a"])(u,i,s,!1,null,null,null);t["a"]=c.exports},b333:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit_form versionDetail"},[r("el-form",{ref:"ruleFormDetail",attrs:{"label-width":"100px"}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"版本Title",prop:"title"}},[r("div",[e._v(e._s(e.ruleFormDetail.title))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"版本号",prop:"version"}},[r("div",[e._v(e._s(e.ruleFormDetail.version))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"概略描述",prop:"note"}},[r("div",[e._v(e._s(e.ruleFormDetail.note))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"详细事项",prop:"description"}},[r("div",[e._v(e._s(e.ruleFormDetail.description))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否强制升级",prop:"force"}},[0==e.ruleFormDetail.force?r("div",[e._v(" 否 ")]):e._e(),1==e.ruleFormDetail.force?r("div",[e._v(" 是 ")]):e._e(),3==e.ruleFormDetail.force?r("div",[e._v(" 不弹窗升级 ")]):e._e()])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"版本状态",prop:"status"}},[r("div",[e._v(e._s(e.ruleFormDetail.status?"启用":"停用"))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"限制规则",prop:"description"}},[r("div",[e._v(e._s(e.getRules(e.ruleFormDetail.rules)))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"升级数量限制",prop:"description"}},[r("div",[e._v(e._s(e.ruleFormDetail.upgrade_limit))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"固件大小",prop:"size"}},[r("div",[e._v(e._s(e.ruleFormDetail.size))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"下载url",prop:"download_url_object"}},[r("div",[e._v(e._s(e.ruleFormDetail.download_url_object))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"图标url",prop:"img_url_object"}},[r("div",[e._v(e._s(e.ruleFormDetail.img_url_object))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"发布时间",prop:"release_tm"}},[r("div",[e._v(e._s(e.ruleFormDetail.release_time))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"下载md5",prop:"download_file_md5"}},[r("div",[e._v(e._s(e.ruleFormDetail.download_file_md5))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"创建时间",prop:"created_at"}},[r("div",[e._v(e._s(e.ruleFormDetail.created_at))])])],1)],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"更新时间",prop:"updated_at"}},[r("div",[e._v(e._s(e.ruleFormDetail.updated_at))])])],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"删除时间",prop:"delete_at"}},[r("div",[e._v(e._s(e.ruleFormDetail.delete_at))])])],1)],1),r("el-row",{staticStyle:{padding:"20px 0"}},[r("el-table",{staticStyle:{width:"100%","border-top":"0 none"},attrs:{data:e.versionDeviceList.tableData}},e._l(e.versionDeviceList.tableColumn,(function(t){return r("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:"auto"},scopedSlots:e._u([{key:"default",fn:function(i){return[r("div",[e._v(e._s(i.row[t.prop]))])]}}],null,!0)})})),1),r("div",{staticClass:"page-line"},[r("el-pagination",{attrs:{total:e.totalItem,"page-size":5,"current-page":e.currentPage,small:"",layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}})],1)],1)],1)],1)},s=[],a=(r("a4d3"),r("4de4"),r("a15b"),r("d81d"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("2f62"),l=r("8e44");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={props:["ruleFormDetail","deviceObj"],data:function(){return{versionDeviceList:{tableColumn:[{prop:"id",label:"id"},{prop:"uuid",label:"设备标识uuid"},{prop:"created_at",label:"创建时间"}],tableData:[]},totalItem:0,currentPage:1,os_type_text:{1:"android_app",4:"ios_app",6:"android_pad",11:"route_app",12:"video_app",13:"lua_app"}}},computed:p({},Object(o["mapGetters"])({})),mounted:function(){},methods:{getRules:function(e){return e?e.map((function(e){return e.rule})).join(","):""},resetList:function(){this.getVersionDeviceList(1)},pageChange:function(){this.getVersionDeviceList(this.currentPage)},getVersionDeviceList:function(e){var t=this,r=this.deviceObj,i={type:r.type,page:e,limit:5,version:r.version,os_type:t.os_type_text[r.os_type]||"",product_id:r.product_id||"",router_pid:r.router_pid||"",method:"get_uuids"};l["a"].pubilcCorsAction(i).then((function(e){t.versionDeviceList.tableData=e.result?e.result.items:[],t.totalItem=e.result&&e.result.page&&e.result.page.total||0}))}}},d=u,c=(r("b7c8"),r("2877")),m=Object(c["a"])(d,i,s,!1,null,null,null);t["a"]=m.exports},b7c8:function(e,t,r){"use strict";var i=r("3ab0"),s=r.n(i);s.a},baa5:function(e,t,r){e.exports=r("1c0f")(343)},dd58:function(e,t,r){"use strict";var i=r("0abe"),s=r.n(i);s.a},fc99:function(e,t,r){"use strict";var i=r("11fe"),s=r.n(i);s.a}}]);
//# sourceMappingURL=chunk-65b2eb00.d1647018.js.map